import{u as S,c as B,a as E,_ as R,T}from"./index-50631119.js";/* empty css                  *//* empty css                 */import{b as C}from"./vue-router-20616233.js";import{d as _,r as v,b as y,D as x,E as $,F as e,a1 as d,u as c,V as t,Y as l,ai as z,a0 as b,ax as U,ay as N}from"./vue-bfef4675.js";import{u as P}from"./vue-i18n-81613396.js";import{y as j,z as q,A,B as D,C as K}from"./element-plus-3a9b3aba.js";import"./pinia-574b3635.js";import"./nprogress-c3ec224b.js";import"./mockjs-de833af9.js";import"./axios-dc3e32a0.js";const M="/assets/loginbanner-45ab4b86.svg";async function W(a){const i=S();try{return[!0,await i.login(a)]}catch(m){return[!1]}}const Y=a=>(U("data-v-ec242af3"),a=a(),N(),a),G={w:"21rem",bg:"#ffffff90","dark:bg":"#22222290",px:"8",py:"6","rounded-xl":"","shadow-xl":""},H={text:"3xl brand-gradient center",font:"bold mono",m:"t-lg b-0","select-none":""},J={m:"t-12 mt-11",flex:"~ col"},O={w:"360px",flex:"center",justify:"between"},Q={text:"sm primary",cursor:"pointer"},X={class:"divider"},Z=Y(()=>e("div",{flex:"center",text:"1.3rem placeholder"},[e("div",{"i-ri-github-fill":"",class:"link"}),e("div",{"i-ri-wechat-fill":"",class:"link"}),e("div",{"i-ri-twitter-fill":"",class:"link"}),e("div",{"i-ri-google-fill":"",class:"link",text:"1.2rem!"})],-1)),ee=_({name:"LoginForm"}),oe=_({...ee,setup(a){const{t:i}=P(),m=C(),{$notify:k,$message:h}=E(),r=v({account:"",password:"",remember:!1}),f=y(),V=v({account:[{required:!0,message:i("home.usernameRule"),trigger:"blur"}],password:[{required:!0,message:i("home.passwordRule"),trigger:"blur"}]}),g=y(!1);async function w(s){s&&await s.validate(async o=>{if(!o)return!1;g.value=!0;const[u]=await W(r);g.value=!1,u?(h.success({message:"登录成功"}),m.push("/home"),k({title:"Welcome",message:i("home.welcome"),type:"success"})):h.error("账户名不存在或密码错误！")})}return(s,o)=>{const u=j,p=q,F=A,I=D,L=K;return x(),$("div",G,[e("h1",H,d(c(B).APP.title),1),e("div",J,[t(L,{ref_key:"loginFormRef",ref:f,model:r,rules:V},{default:l(()=>[t(p,{prop:"account"},{default:l(()=>[t(u,{modelValue:r.account,"onUpdate:modelValue":o[0]||(o[0]=n=>r.account=n),size:"large",placeholder:"".concat(s.$t("home.account")," admin")},null,8,["modelValue","placeholder"])]),_:1}),t(p,{prop:"password",style:{marginTop:"38px"}},{default:l(()=>[t(u,{modelValue:r.password,"onUpdate:modelValue":o[1]||(o[1]=n=>r.password=n),type:"password",size:"large",placeholder:"".concat(s.$t("home.password")," 123456"),"show-password":"",onKeyup:o[2]||(o[2]=z(n=>w(c(f)),["enter"]))},null,8,["modelValue","placeholder"])]),_:1}),t(p,null,{default:l(()=>[e("div",O,[t(F,{modelValue:r.remember,"onUpdate:modelValue":o[3]||(o[3]=n=>r.remember=n)},{default:l(()=>[b(d(s.$t("home.remember")),1)]),_:1},8,["modelValue"]),e("span",Q,d(s.$t("home.forgot")),1)])]),_:1}),t(p,{style:{marginTop:"36px"}},{default:l(()=>[t(I,{"auto-insert-space":"",w:"full",size:"large",type:"primary",loading:c(g),class:"login-btn",onClick:o[4]||(o[4]=n=>w(c(f)))},{default:l(()=>[b(d(s.$t("home.login")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])]),e("div",X,[e("div",null,d(s.$t("home.moreLoginType")),1)]),Z])}}});const te=R(oe,[["__scopeId","data-v-ec242af3"]]),se={relative:"",w:"screen",h:"screen",flex:"center",justify:"around",overflow:"hidden",bg:"gradient-light dark:gradient-dark"},re=e("img",{src:M,w:"lg"},null,-1),ae={fixed:"",top:"3%",right:"2%",text:"xl"},ne=_({name:"Login"}),we=_({...ne,setup(a){return(i,m)=>(x(),$("div",se,[re,e("div",ae,[t(c(T))]),t(te)]))}});export{we as default};
