import{g as Ae,A as Ie,l as Tt,m as Pe,a as De,c as Oe,i as Le}from"./charts-ba0c8e22.js";import{ai as yt,G as mt,a2 as R,b5 as Re,K as Z,bc as te,bd as Me,i as M,be as ee,bf as ht,u as ie,o as j,N as _,a$ as xt,aj as H,bg as re,V as P,C as q,aW as ke,bh as Be,bi as Ge,bj as _t,bk as He,aS as ne,bl as ze,_ as k,ao as it,bm as O,b0 as rt,H as Ve,p as bt,d as J,bb as F,R as nt,bn as ae,bo as We,D as et,bp as Ee,aH as oe,bq as se,br as Ne,bs as A,bt as Fe,h as N,bu as Ye,b7 as At,bv as $e,bw as It,bx as Pt,by as Xe,bz as Ue,a7 as Dt,a6 as dt,aY as U,bA as Ke,bB as Ze,bC as at,bD as Ot,as as je,bE as qe,b1 as wt,ax as Je,v as le,E as Qe,bF as ti,bG as ei,f as ii,bH as Lt,aT as ri,bI as K,bJ as ni,a as ai,au as oi,W as si,av as li,bK as ui,aL as hi,bL as ue,bM as he,bN as di,bO as ci,bP as fi,bQ as vi,bR as pi,bS as gi,bT as yi,bU as mi,bV as Rt,bW as xi}from"./core-7df7331c.js";var W=yt(),Mt=xt,ot=H,_i=function(){function i(){this._dragging=!1,this.animationThreshold=15}return i.prototype.render=function(e,t,r,n){var a=t.get("value"),o=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=r,!(!n&&this._lastValue===a&&this._lastStatus===o)){this._lastValue=a,this._lastStatus=o;var l=this._group,s=this._handle;if(!o||o==="hide"){l&&l.hide(),s&&s.hide();return}l&&l.show(),s&&s.show();var u={};this.makeElOption(u,a,e,t,r);var h=u.graphicKey;h!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=h;var c=this._moveAnimation=this.determineAnimation(e,t);if(!l)l=this._group=new mt,this.createPointerEl(l,u,e,t),this.createLabelEl(l,u,e,t),r.getZr().add(l);else{var d=R(kt,t,c);this.updatePointerEl(l,u,d),this.updateLabelEl(l,u,d,t)}Gt(l,t,!0),this._renderHandle(a)}},i.prototype.remove=function(e){this.clear(e)},i.prototype.dispose=function(e){this.clear(e)},i.prototype.determineAnimation=function(e,t){var r=t.get("animation"),n=e.axis,a=n.type==="category",o=t.get("snap");if(!o&&!a)return!1;if(r==="auto"||r==null){var l=this.animationThreshold;if(a&&n.getBandWidth()>l)return!0;if(o){var s=Ae(e).seriesDataCount,u=n.getExtent();return Math.abs(u[0]-u[1])/s>l}return!1}return r===!0},i.prototype.makeElOption=function(e,t,r,n,a){},i.prototype.createPointerEl=function(e,t,r,n){var a=t.pointer;if(a){var o=W(e).pointerEl=new Re[a.type](Mt(t.pointer));e.add(o)}},i.prototype.createLabelEl=function(e,t,r,n){if(t.label){var a=W(e).labelEl=new Z(Mt(t.label));e.add(a),Bt(a,n)}},i.prototype.updatePointerEl=function(e,t,r){var n=W(e).pointerEl;n&&t.pointer&&(n.setStyle(t.pointer.style),r(n,{shape:t.pointer.shape}))},i.prototype.updateLabelEl=function(e,t,r,n){var a=W(e).labelEl;a&&(a.setStyle(t.label.style),r(a,{x:t.label.x,y:t.label.y}),Bt(a,n))},i.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var t=this._axisPointerModel,r=this._api.getZr(),n=this._handle,a=t.getModel("handle"),o=t.get("status");if(!a.get("show")||!o||o==="hide"){n&&r.remove(n),this._handle=null;return}var l;this._handle||(l=!0,n=this._handle=te(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Me(u.event)},onmousedown:ot(this._onHandleDragMove,this,0,0),drift:ot(this._onHandleDragMove,this),ondragend:ot(this._onHandleDragEnd,this)}),r.add(n)),Gt(n,t,!1),n.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var s=a.get("size");M(s)||(s=[s,s]),n.scaleX=s[0]/2,n.scaleY=s[1]/2,ee(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,l)}},i.prototype._moveHandleToValue=function(e,t){kt(this._axisPointerModel,!t&&this._moveAnimation,this._handle,st(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},i.prototype._onHandleDragMove=function(e,t){var r=this._handle;if(r){this._dragging=!0;var n=this.updateHandleTransform(st(r),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=n,r.stopAnimation(),r.attr(st(n)),W(r).lastProp=null,this._doDispatchAxisPointer()}},i.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var t=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},i.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},i.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),r=this._group,n=this._handle;t&&r&&(this._lastGraphicKey=null,r&&t.remove(r),n&&t.remove(n),this._group=null,this._handle=null,this._payloadInfo=null),ht(this,"_doDispatchAxisPointer")},i.prototype.doClear=function(){},i.prototype.buildLabel=function(e,t,r){return r=r||0,{x:e[r],y:e[1-r],width:t[r],height:t[1-r]}},i}();function kt(i,e,t,r){de(W(t).lastProp,r)||(W(t).lastProp=r,e?ie(t,r,i):(t.stopAnimation(),t.attr(r)))}function de(i,e){if(j(i)&&j(e)){var t=!0;return _(e,function(r,n){t=t&&de(i[n],r)}),!!t}else return i===e}function Bt(i,e){i[e.get(["label","show"])?"show":"hide"]()}function st(i){return{x:i.x||0,y:i.y||0,rotation:i.rotation||0}}function Gt(i,e,t){var r=e.get("z"),n=e.get("zlevel");i&&i.traverse(function(a){a.type!=="group"&&(r!=null&&(a.z=r),n!=null&&(a.zlevel=n),a.silent=t)})}const bi=_i;function wi(i){var e=i.get("type"),t=i.getModel(e+"Style"),r;return e==="line"?(r=t.getLineStyle(),r.fill=null):e==="shadow"&&(r=t.getAreaStyle(),r.stroke=null),r}function Si(i,e,t,r,n){var a=t.get("value"),o=ce(a,e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),l=t.getModel("label"),s=_t(l.get("padding")||0),u=l.getFont(),h=He(o,u),c=n.position,d=h.width+s[1]+s[3],f=h.height+s[0]+s[2],p=n.align;p==="right"&&(c[0]-=d),p==="center"&&(c[0]-=d/2);var v=n.verticalAlign;v==="bottom"&&(c[1]-=f),v==="middle"&&(c[1]-=f/2),Ci(c,d,f,r);var y=l.get("backgroundColor");(!y||y==="auto")&&(y=e.get(["axisLine","lineStyle","color"])),i.label={x:c[0],y:c[1],style:ne(l,{text:o,font:u,fill:l.getTextColor(),padding:s,backgroundColor:y}),z2:10}}function Ci(i,e,t,r){var n=r.getWidth(),a=r.getHeight();i[0]=Math.min(i[0]+e,n)-e,i[1]=Math.min(i[1]+t,a)-t,i[0]=Math.max(i[0],0),i[1]=Math.max(i[1],0)}function ce(i,e,t,r,n){i=e.scale.parse(i);var a=e.scale.getLabel({value:i},{precision:n.precision}),o=n.formatter;if(o){var l={value:re(e,{value:i}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};_(r,function(s){var u=t.getSeriesByIndex(s.seriesIndex),h=s.dataIndexInside,c=u&&u.getDataParams(h);c&&l.seriesData.push(c)}),P(o)?a=o.replace("{value}",a):q(o)&&(a=o(l))}return a}function fe(i,e,t){var r=ze();return ke(r,r,t.rotation),Be(r,r,t.position),Ge([i.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],r)}function Ti(i,e,t,r,n,a){var o=Ie.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=n.get(["label","margin"]),Si(e,r,n,a,{position:fe(r.axis,i,t),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function Ai(i,e,t){return t=t||0,{x1:i[t],y1:i[1-t],x2:e[t],y2:e[1-t]}}function Ii(i,e,t){return t=t||0,{x:i[t],y:i[1-t],width:e[t],height:e[1-t]}}var Pi=function(i){k(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,n,a,o){var l=n.axis,s=l.grid,u=a.get("type"),h=Ht(s,l).getOtherAxis(l).getGlobalExtent(),c=l.toGlobalCoord(l.dataToCoord(r,!0));if(u&&u!=="none"){var d=wi(a),f=Di[u](l,c,h);f.style=d,t.graphicKey=f.type,t.pointer=f}var p=Tt(s.model,n);Ti(r,t,p,n,a,o)},e.prototype.getHandleTransform=function(t,r,n){var a=Tt(r.axis.grid.model,r,{labelInside:!1});a.labelMargin=n.get(["handle","margin"]);var o=fe(r.axis,t,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,r,n,a){var o=n.axis,l=o.grid,s=o.getGlobalExtent(!0),u=Ht(l,o).getOtherAxis(o).getGlobalExtent(),h=o.dim==="x"?0:1,c=[t.x,t.y];c[h]+=r[h],c[h]=Math.min(s[1],c[h]),c[h]=Math.max(s[0],c[h]);var d=(u[1]+u[0])/2,f=[d,d];f[h]=c[h];var p=[{verticalAlign:"middle"},{align:"center"}];return{x:c[0],y:c[1],rotation:t.rotation,cursorPoint:f,tooltipOption:p[h]}},e}(bi);function Ht(i,e){var t={};return t[e.dim+"AxisIndex"]=e.index,i.getCartesian(t)}var Di={line:function(i,e,t){var r=Ai([e,t[0]],[e,t[1]],zt(i));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(i,e,t){var r=Math.max(1,i.getBandWidth()),n=t[1]-t[0];return{type:"Rect",shape:Ii([e-r/2,t[0]],[r,n],zt(i))}}};function zt(i){return i.dim==="x"?0:1}const Oi=Pi;var Li=function(i){k(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(it);const Ri=Li;var G=yt(),Mi=_;function ve(i,e,t){if(!O.node){var r=e.getZr();G(r).records||(G(r).records={}),ki(r,e);var n=G(r).records[i]||(G(r).records[i]={});n.handler=t}}function ki(i,e){if(G(i).initialized)return;G(i).initialized=!0,t("click",R(Vt,"click")),t("mousemove",R(Vt,"mousemove")),t("globalout",Gi);function t(r,n){i.on(r,function(a){var o=Hi(e);Mi(G(i).records,function(l){l&&n(l,a,o.dispatchAction)}),Bi(o.pendings,e)})}}function Bi(i,e){var t=i.showTip.length,r=i.hideTip.length,n;t?n=i.showTip[t-1]:r&&(n=i.hideTip[r-1]),n&&(n.dispatchAction=null,e.dispatchAction(n))}function Gi(i,e,t){i.handler("leave",null,t)}function Vt(i,e,t,r){e.handler(i,t,r)}function Hi(i){var e={showTip:[],hideTip:[]},t=function(r){var n=e[r.type];n?n.push(r):(r.dispatchAction=t,i.dispatchAction(r))};return{dispatchAction:t,pendings:e}}function ct(i,e){if(!O.node){var t=e.getZr(),r=(G(t).records||{})[i];r&&(G(t).records[i]=null)}}var zi=function(i){k(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,n){var a=r.getComponent("tooltip"),o=t.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";ve("axisPointer",n,function(l,s,u){o!=="none"&&(l==="leave"||o.indexOf(l)>=0)&&u({type:"updateAxisPointer",currTrigger:l,x:s&&s.offsetX,y:s&&s.offsetY})})},e.prototype.remove=function(t,r){ct("axisPointer",r)},e.prototype.dispose=function(t,r){ct("axisPointer",r)},e.type="axisPointer",e}(rt);const Vi=zi;function pe(i,e){var t=[],r=i.seriesIndex,n;if(r==null||!(n=e.getSeriesByIndex(r)))return{point:[]};var a=n.getData(),o=Ve(a,i);if(o==null||o<0||M(o))return{point:[]};var l=a.getItemGraphicEl(o),s=n.coordinateSystem;if(n.getTooltipPosition)t=n.getTooltipPosition(o)||[];else if(s&&s.dataToPoint)if(i.isStacked){var u=s.getBaseAxis(),h=s.getOtherAxis(u),c=h.dim,d=u.dim,f=c==="x"||c==="radius"?1:0,p=a.mapDimension(d),v=[];v[f]=a.get(p,o),v[1-f]=a.get(a.getCalculationInfo("stackResultDimension"),o),t=s.dataToPoint(v)||[]}else t=s.dataToPoint(a.getValues(bt(s.dimensions,function(g){return a.mapDimension(g)}),o))||[];else if(l){var y=l.getBoundingRect().clone();y.applyTransform(l.transform),t=[y.x+y.width/2,y.y+y.height/2]}return{point:t,el:l}}var Wt=yt();function Wi(i,e,t){var r=i.currTrigger,n=[i.x,i.y],a=i,o=i.dispatchAction||H(t.dispatchAction,t),l=e.getComponent("axisPointer").coordSysAxesInfo;if(l){tt(n)&&(n=pe({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var s=tt(n),u=a.axesInfo,h=l.axesInfo,c=r==="leave"||tt(n),d={},f={},p={list:[],map:{}},v={showPointer:R(Ni,f),showTooltip:R(Fi,p)};_(l.coordSysMap,function(g,x){var m=s||g.containPoint(n);_(l.coordSysAxesInfo[x],function(w,b){var S=w.axis,C=Ui(u,w);if(!c&&m&&(!u||C)){var T=C&&C.value;T==null&&!s&&(T=S.pointToData(n)),T!=null&&Et(w,T,v,!1,d)}})});var y={};return _(h,function(g,x){var m=g.linkGroup;m&&!f[x]&&_(m.axesInfo,function(w,b){var S=f[b];if(w!==g&&S){var C=S.value;m.mapper&&(C=g.axis.scale.parse(m.mapper(C,Nt(w),Nt(g)))),y[g.key]=C}})}),_(y,function(g,x){Et(h[x],g,v,!0,d)}),Yi(f,h,d),$i(p,n,i,o),Xi(h,o,t),d}}function Et(i,e,t,r,n){var a=i.axis;if(!(a.scale.isBlank()||!a.containData(e))){if(!i.involveSeries){t.showPointer(i,e);return}var o=Ei(e,i),l=o.payloadBatch,s=o.snapToValue;l[0]&&n.seriesIndex==null&&J(n,l[0]),!r&&i.snap&&a.containData(s)&&s!=null&&(e=s),t.showPointer(i,e,l),t.showTooltip(i,o,s)}}function Ei(i,e){var t=e.axis,r=t.dim,n=i,a=[],o=Number.MAX_VALUE,l=-1;return _(e.seriesModels,function(s,u){var h=s.getData().mapDimensionsAll(r),c,d;if(s.getAxisTooltipData){var f=s.getAxisTooltipData(h,i,t);d=f.dataIndices,c=f.nestestValue}else{if(d=s.getData().indicesOfNearest(h[0],i,t.type==="category"?.5:null),!d.length)return;c=s.getData().get(h[0],d[0])}if(!(c==null||!isFinite(c))){var p=i-c,v=Math.abs(p);v<=o&&((v<o||p>=0&&l<0)&&(o=v,l=p,n=c,a.length=0),_(d,function(y){a.push({seriesIndex:s.seriesIndex,dataIndexInside:y,dataIndex:s.getData().getRawIndex(y)})}))}}),{payloadBatch:a,snapToValue:n}}function Ni(i,e,t,r){i[e.key]={value:t,payloadBatch:r}}function Fi(i,e,t,r){var n=t.payloadBatch,a=e.axis,o=a.model,l=e.axisPointerModel;if(!(!e.triggerTooltip||!n.length)){var s=e.coordSys.model,u=Pe(s),h=i.map[u];h||(h=i.map[u]={coordSysId:s.id,coordSysIndex:s.componentIndex,coordSysType:s.type,coordSysMainType:s.mainType,dataByAxis:[]},i.list.push(h)),h.dataByAxis.push({axisDim:a.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:r,valueLabelOpt:{precision:l.get(["label","precision"]),formatter:l.get(["label","formatter"])},seriesDataIndices:n.slice()})}}function Yi(i,e,t){var r=t.axesInfo=[];_(e,function(n,a){var o=n.axisPointerModel.option,l=i[a];l?(!n.useHandle&&(o.status="show"),o.value=l.value,o.seriesDataIndices=(l.payloadBatch||[]).slice()):!n.useHandle&&(o.status="hide"),o.status==="show"&&r.push({axisDim:n.axis.dim,axisIndex:n.axis.model.componentIndex,value:o.value})})}function $i(i,e,t,r){if(tt(e)||!i.list.length){r({type:"hideTip"});return}var n=((i.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:n.dataIndexInside,dataIndex:n.dataIndex,seriesIndex:n.seriesIndex,dataByCoordSys:i.list})}function Xi(i,e,t){var r=t.getZr(),n="axisPointerLastHighlights",a=Wt(r)[n]||{},o=Wt(r)[n]={};_(i,function(u,h){var c=u.axisPointerModel.option;c.status==="show"&&u.triggerEmphasis&&_(c.seriesDataIndices,function(d){var f=d.seriesIndex+" | "+d.dataIndex;o[f]=d})});var l=[],s=[];_(a,function(u,h){!o[h]&&s.push(u)}),_(o,function(u,h){!a[h]&&l.push(u)}),s.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:s}),l.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:l})}function Ui(i,e){for(var t=0;t<(i||[]).length;t++){var r=i[t];if(e.axis.dim===r.axisDim&&e.axis.model.componentIndex===r.axisIndex)return r}}function Nt(i){var e=i.axis.model,t={},r=t.axisDim=i.axis.dim;return t.axisIndex=t[r+"AxisIndex"]=e.componentIndex,t.axisName=t[r+"AxisName"]=e.name,t.axisId=t[r+"AxisId"]=e.id,t}function tt(i){return!i||i[0]==null||isNaN(i[0])||i[1]==null||isNaN(i[1])}function ge(i){De.registerAxisPointerClass("CartesianAxisPointer",Oi),i.registerComponentModel(Ri),i.registerComponentView(Vi),i.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!M(t)&&(e.axisPointer.link=[t])}}),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=Oe(e,t)}),i.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Wi)}function Xr(i){F(Le),F(ge)}function Ki(i,e){var t=_t(e.get("padding")),r=e.getItemStyle(["color","opacity"]);return r.fill=e.get("backgroundColor"),i=new nt({shape:{x:i.x-t[3],y:i.y-t[0],width:i.width+t[1]+t[3],height:i.height+t[0]+t[2],r:e.get("borderRadius")},style:r,silent:!0,z2:-1}),i}var Zi=function(i){k(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(it);const ji=Zi;function ye(i){var e=i.get("confine");return e!=null?!!e:i.get("renderMode")==="richText"}function me(i){if(O.domSupported){for(var e=document.documentElement.style,t=0,r=i.length;t<r;t++)if(i[t]in e)return i[t]}}var xe=me(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),qi=me(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function _e(i,e){if(!i)return e;e=ae(e,!0);var t=i.indexOf(e);return i=t===-1?e:"-"+i.slice(0,t)+"-"+e,i.toLowerCase()}function Ji(i,e){var t=i.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(i);return t?e?t[e]:t:null}var Qi=_e(qi,"transition"),St=_e(xe,"transform"),tr="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(O.transform3dSupported?"will-change:transform;":"");function er(i){return i=i==="left"?"right":i==="right"?"left":i==="top"?"bottom":"top",i}function ir(i,e,t){if(!P(t)||t==="inside")return"";var r=i.get("backgroundColor"),n=i.get("borderWidth");e=et(e);var a=er(t),o=Math.max(Math.round(n)*1.5,6),l="",s=St+":",u;oe(["left","right"],a)>-1?(l+="top:50%",s+="translateY(-50%) rotate("+(u=a==="left"?-225:-45)+"deg)"):(l+="left:50%",s+="translateX(-50%) rotate("+(u=a==="top"?225:45)+"deg)");var h=u*Math.PI/180,c=o+n,d=c*Math.abs(Math.cos(h))+c*Math.abs(Math.sin(h)),f=Math.round(((d-Math.SQRT2*n)/2+Math.SQRT2*n-(d-c)/2)*100)/100;l+=";"+a+":-"+f+"px";var p=e+" solid "+n+"px;",v=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",l+";"+s+";","border-bottom:"+p,"border-right:"+p,"background-color:"+r+";"];return'<div style="'+v.join("")+'"></div>'}function rr(i,e){var t="cubic-bezier(0.23,1,0.32,1)",r=" "+i/2+"s "+t,n="opacity"+r+",visibility"+r;return e||(r=" "+i+"s "+t,n+=O.transformSupported?","+St+r:",left"+r+",top"+r),Qi+":"+n}function Ft(i,e,t){var r=i.toFixed(0)+"px",n=e.toFixed(0)+"px";if(!O.transformSupported)return t?"top:"+n+";left:"+r+";":[["top",n],["left",r]];var a=O.transform3dSupported,o="translate"+(a?"3d":"")+"("+r+","+n+(a?",0":"")+")";return t?"top:0;left:0;"+St+":"+o+";":[["top",0],["left",0],[xe,o]]}function nr(i){var e=[],t=i.get("fontSize"),r=i.getTextColor();r&&e.push("color:"+r),e.push("font:"+i.getFont()),t&&e.push("line-height:"+Math.round(t*3/2)+"px");var n=i.get("textShadowColor"),a=i.get("textShadowBlur")||0,o=i.get("textShadowOffsetX")||0,l=i.get("textShadowOffsetY")||0;return n&&a&&e.push("text-shadow:"+o+"px "+l+"px "+a+"px "+n),_(["decoration","align"],function(s){var u=i.get(s);u&&e.push("text-"+s+":"+u)}),e.join(";")}function ar(i,e,t){var r=[],n=i.get("transitionDuration"),a=i.get("backgroundColor"),o=i.get("shadowBlur"),l=i.get("shadowColor"),s=i.get("shadowOffsetX"),u=i.get("shadowOffsetY"),h=i.getModel("textStyle"),c=se(i,"html"),d=s+"px "+u+"px "+o+"px "+l;return r.push("box-shadow:"+d),e&&n&&r.push(rr(n,t)),a&&r.push("background-color:"+a),_(["width","color","radius"],function(f){var p="border-"+f,v=ae(p),y=i.get(v);y!=null&&r.push(p+":"+y+(f==="color"?"":"px"))}),r.push(nr(h)),c!=null&&r.push("padding:"+_t(c).join("px ")+"px"),r.join(";")+";"}function Yt(i,e,t,r,n){var a=e&&e.painter;if(t){var o=a&&a.getViewportRoot();o&&Ne(i,o,document.body,r,n)}else{i[0]=r,i[1]=n;var l=a&&a.getViewportRootOffset();l&&(i[0]+=l.offsetLeft,i[1]+=l.offsetTop)}i[2]=i[0]/e.getWidth(),i[3]=i[1]/e.getHeight()}var or=function(){function i(e,t,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,O.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var a=this._zr=t.getZr(),o=this._appendToBody=r&&r.appendToBody;Yt(this._styleCoord,a,o,t.getWidth()/2,t.getHeight()/2),o?document.body.appendChild(n):e.appendChild(n),this._container=e;var l=this;n.onmouseenter=function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0},n.onmousemove=function(s){if(s=s||window.event,!l._enterable){var u=a.handler,h=a.painter.getViewportRoot();We(h,s,!0),u.dispatch("mousemove",s)}},n.onmouseleave=function(){l._inContent=!1,l._enterable&&l._show&&l.hideLater(l._hideDelay)}}return i.prototype.update=function(e){var t=this._container,r=Ji(t,"position"),n=t.style;n.position!=="absolute"&&r!=="absolute"&&(n.position="relative");var a=e.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this.el.className=e.get("className")||""},i.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,n=r.style,a=this._styleCoord;r.innerHTML?n.cssText=tr+ar(e,!this._firstShow,this._longHide)+Ft(a[0],a[1],!0)+("border-color:"+et(t)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):n.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},i.prototype.setContent=function(e,t,r,n,a){var o=this.el;if(e==null){o.innerHTML="";return}var l="";if(P(a)&&r.get("trigger")==="item"&&!ye(r)&&(l=ir(r,n,a)),P(e))o.innerHTML=e+l;else if(e){o.innerHTML="",M(e)||(e=[e]);for(var s=0;s<e.length;s++)Ee(e[s])&&e[s].parentNode!==o&&o.appendChild(e[s]);if(l&&o.childNodes.length){var u=document.createElement("div");u.innerHTML=l,o.appendChild(u)}}},i.prototype.setEnterable=function(e){this._enterable=e},i.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},i.prototype.moveTo=function(e,t){var r=this._styleCoord;if(Yt(r,this._zr,this._appendToBody,e,t),r[0]!=null&&r[1]!=null){var n=this.el.style,a=Ft(r[0],r[1]);_(a,function(o){n[o[0]]=o[1]})}},i.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},i.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",O.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},i.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(H(this.hide,this),e)):this.hide())},i.prototype.isShow=function(){return this._show},i.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},i}();const sr=or;var lr=function(){function i(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),Xt(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return i.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},i.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},i.prototype.setContent=function(e,t,r,n,a){var o=this;j(e)&&A(""),this.el&&this._zr.remove(this.el);var l=r.getModel("textStyle");this.el=new Z({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:n,textShadowColor:l.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:se(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),_(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){o.el.style[u]=r.get(u)}),_(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){o.el.style[u]=l.get(u)||0}),this._zr.add(this.el);var s=this;this.el.on("mouseover",function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0}),this.el.on("mouseout",function(){s._enterable&&s._show&&s.hideLater(s._hideDelay),s._inContent=!1})},i.prototype.setEnterable=function(e){this._enterable=e},i.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),r=$t(e.style);return[t.width+r.left+r.right,t.height+r.top+r.bottom]},i.prototype.moveTo=function(e,t){var r=this.el;if(r){var n=this._styleCoord;Xt(n,this._zr,e,t),e=n[0],t=n[1];var a=r.style,o=V(a.borderWidth||0),l=$t(a);r.x=e+o+l.left,r.y=t+o+l.top,r.markRedraw()}},i.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},i.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},i.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(H(this.hide,this),e)):this.hide())},i.prototype.isShow=function(){return this._show},i.prototype.dispose=function(){this._zr.remove(this.el)},i}();function V(i){return Math.max(0,i)}function $t(i){var e=V(i.shadowBlur||0),t=V(i.shadowOffsetX||0),r=V(i.shadowOffsetY||0);return{left:V(e-t),right:V(e+t),top:V(e-r),bottom:V(e+r)}}function Xt(i,e,t,r){i[0]=t,i[1]=r,i[2]=i[0]/e.getWidth(),i[3]=i[1]/e.getHeight()}const ur=lr;var hr=new nt({shape:{x:-1,y:-1,width:2,height:2}}),dr=function(i){k(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){if(!(O.node||!r.getDom())){var n=t.getComponent("tooltip"),a=this._renderMode=Fe(n.get("renderMode"));this._tooltipContent=a==="richText"?new ur(r):new sr(r.getDom(),r,{appendToBody:n.get("appendToBody",!0)})}},e.prototype.render=function(t,r,n){if(!(O.node||!n.getDom())){this.group.removeAll(),this._tooltipModel=t,this._ecModel=r,this._api=n;var a=this._tooltipContent;a.update(t),a.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&t.get("transitionDuration")?ee(this,"_updatePosition",50,"fixRate"):ht(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,r=t.get("triggerOn");ve("itemTooltip",this._api,H(function(n,a,o){r!=="none"&&(r.indexOf(n)>=0?this._tryShow(a,o):n==="leave"&&this._hide(o))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,r=this._ecModel,n=this._api,a=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!n.isDisposed()&&o.manuallyShowTip(t,r,n,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,r,n,a){if(!(a.from===this.uid||O.node||!n.getDom())){var o=Ut(a,n);this._ticket="";var l=a.dataByCoordSys,s=pr(a,r,n);if(s){var u=s.el.getBoundingRect().clone();u.applyTransform(s.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:s.el,position:a.position,positionDefault:"bottom"},o)}else if(a.tooltip&&a.x!=null&&a.y!=null){var h=hr;h.x=a.x,h.y=a.y,h.update(),N(h).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:h},o)}else if(l)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:l,tooltipOption:a.tooltipOption},o);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(t,r,n,a))return;var c=pe(a,r),d=c.point[0],f=c.point[1];d!=null&&f!=null&&this._tryShow({offsetX:d,offsetY:f,target:c.el,position:a.position,positionDefault:"bottom"},o)}else a.x!=null&&a.y!=null&&(n.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:n.getZr().findHover(a.x,a.y).target},o))}},e.prototype.manuallyHideTip=function(t,r,n,a){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(Ut(a,n))},e.prototype._manuallyAxisShowTip=function(t,r,n,a){var o=a.seriesIndex,l=a.dataIndex,s=r.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||l==null||s==null)){var u=r.getSeriesByIndex(o);if(u){var h=u.getData(),c=$([h.getItemModel(l),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(c.get("trigger")==="axis")return n.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:l,position:a.position}),!0}}},e.prototype._tryShow=function(t,r){var n=t.target,a=this._tooltipModel;if(a){this._lastX=t.offsetX,this._lastY=t.offsetY;var o=t.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,t);else if(n){this._lastDataByCoordSys=null;var l,s;Ye(n,function(u){if(N(u).dataIndex!=null)return l=u,!0;if(N(u).tooltipConfig!=null)return s=u,!0},!0),l?this._showSeriesItemTooltip(t,l,r):s?this._showComponentItemTooltip(t,s,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},e.prototype._showOrMove=function(t,r){var n=t.get("showDelay");r=H(r,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(r,n):r()},e.prototype._showAxisTooltip=function(t,r){var n=this._ecModel,a=this._tooltipModel,o=[r.offsetX,r.offsetY],l=$([r.tooltipOption],a),s=this._renderMode,u=[],h=At("section",{blocks:[],noHeader:!0}),c=[],d=new at;_(t,function(x){_(x.dataByAxis,function(m){var w=n.getComponent(m.axisDim+"Axis",m.axisIndex),b=m.value;if(!(!w||b==null)){var S=ce(b,w.axis,n,m.seriesDataIndices,m.valueLabelOpt),C=At("section",{header:S,noHeader:!$e(S),sortBlocks:!0,blocks:[]});h.blocks.push(C),_(m.seriesDataIndices,function(T){var z=n.getSeriesByIndex(T.seriesIndex),D=T.dataIndexInside,I=z.getDataParams(D);if(!(I.dataIndex<0)){I.axisDim=m.axisDim,I.axisIndex=m.axisIndex,I.axisType=m.axisType,I.axisId=m.axisId,I.axisValue=re(w.axis,{value:b}),I.axisValueLabel=S,I.marker=d.makeTooltipMarker("item",et(I.color),s);var L=It(z.formatTooltip(D,!0,null)),B=L.frag;if(B){var Y=$([z],a).get("valueFormatter");C.blocks.push(Y?J({valueFormatter:Y},B):B)}L.text&&c.push(L.text),u.push(I)}})}})}),h.blocks.reverse(),c.reverse();var f=r.position,p=l.get("order"),v=Pt(h,d,s,p,n.get("useUTC"),l.get("textStyle"));v&&c.unshift(v);var y=s==="richText"?"\n\n":"<br/>",g=c.join(y);this._showOrMove(l,function(){this._updateContentNotChangedOnAxis(t,u)?this._updatePosition(l,f,o[0],o[1],this._tooltipContent,u):this._showTooltipContent(l,g,u,Math.random()+"",o[0],o[1],f,null,d)})},e.prototype._showSeriesItemTooltip=function(t,r,n){var a=this._ecModel,o=N(r),l=o.seriesIndex,s=a.getSeriesByIndex(l),u=o.dataModel||s,h=o.dataIndex,c=o.dataType,d=u.getData(c),f=this._renderMode,p=t.positionDefault,v=$([d.getItemModel(h),u,s&&(s.coordinateSystem||{}).model],this._tooltipModel,p?{position:p}:null),y=v.get("trigger");if(!(y!=null&&y!=="item")){var g=u.getDataParams(h,c),x=new at;g.marker=x.makeTooltipMarker("item",et(g.color),f);var m=It(u.formatTooltip(h,!1,c)),w=v.get("order"),b=v.get("valueFormatter"),S=m.frag,C=S?Pt(b?J({valueFormatter:b},S):S,x,f,w,a.get("useUTC"),v.get("textStyle")):m.text,T="item_"+u.name+"_"+h;this._showOrMove(v,function(){this._showTooltipContent(v,C,g,T,t.offsetX,t.offsetY,t.position,t.target,x)}),n({type:"showTip",dataIndexInside:h,dataIndex:d.getRawIndex(h),seriesIndex:l,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,r,n){var a=N(r),o=a.tooltipConfig,l=o.option||{};if(P(l)){var s=l;l={content:s,formatter:s}}var u=[l],h=this._ecModel.getComponent(a.componentMainType,a.componentIndex);h&&u.push(h),u.push({formatter:l.content});var c=t.positionDefault,d=$(u,this._tooltipModel,c?{position:c}:null),f=d.get("content"),p=Math.random()+"",v=new at;this._showOrMove(d,function(){var y=xt(d.get("formatterParams")||{});this._showTooltipContent(d,f,y,p,t.offsetX,t.offsetY,t.position,r,v)}),n({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,r,n,a,o,l,s,u,h){if(this._ticket="",!(!t.get("showContent")||!t.get("show"))){var c=this._tooltipContent;c.setEnterable(t.get("enterable"));var d=t.get("formatter");s=s||t.get("position");var f=r,p=this._getNearestPoint([o,l],n,t.get("trigger"),t.get("borderColor")),v=p.color;if(d)if(P(d)){var y=t.ecModel.get("useUTC"),g=M(n)?n[0]:n,x=g&&g.axisType&&g.axisType.indexOf("time")>=0;f=d,x&&(f=Xe(g.axisValue,f,y)),f=Ue(f,n,!0)}else if(q(d)){var m=H(function(w,b){w===this._ticket&&(c.setContent(b,h,t,v,s),this._updatePosition(t,s,o,l,c,n,u))},this);this._ticket=a,f=d(n,a,m)}else f=d;c.setContent(f,h,t,v,s),c.show(t,v),this._updatePosition(t,s,o,l,c,n,u)}},e.prototype._getNearestPoint=function(t,r,n,a){if(n==="axis"||M(r))return{color:a||(this._renderMode==="html"?"#fff":"none")};if(!M(r))return{color:a||r.color||r.borderColor}},e.prototype._updatePosition=function(t,r,n,a,o,l,s){var u=this._api.getWidth(),h=this._api.getHeight();r=r||t.get("position");var c=o.getSize(),d=t.get("align"),f=t.get("verticalAlign"),p=s&&s.getBoundingRect().clone();if(s&&p.applyTransform(s.transform),q(r)&&(r=r([n,a],l,o.el,p,{viewSize:[u,h],contentSize:c.slice()})),M(r))n=Dt(r[0],u),a=Dt(r[1],h);else if(j(r)){var v=r;v.width=c[0],v.height=c[1];var y=dt(v,{width:u,height:h});n=y.x,a=y.y,d=null,f=null}else if(P(r)&&s){var g=vr(r,p,c,t.get("borderWidth"));n=g[0],a=g[1]}else{var g=cr(n,a,o,u,h,d?null:20,f?null:20);n=g[0],a=g[1]}if(d&&(n-=Kt(d)?c[0]/2:d==="right"?c[0]:0),f&&(a-=Kt(f)?c[1]/2:f==="bottom"?c[1]:0),ye(t)){var g=fr(n,a,o,u,h);n=g[0],a=g[1]}o.moveTo(n,a)},e.prototype._updateContentNotChangedOnAxis=function(t,r){var n=this._lastDataByCoordSys,a=this._cbParamsList,o=!!n&&n.length===t.length;return o&&_(n,function(l,s){var u=l.dataByAxis||[],h=t[s]||{},c=h.dataByAxis||[];o=o&&u.length===c.length,o&&_(u,function(d,f){var p=c[f]||{},v=d.seriesDataIndices||[],y=p.seriesDataIndices||[];o=o&&d.value===p.value&&d.axisType===p.axisType&&d.axisId===p.axisId&&v.length===y.length,o&&_(v,function(g,x){var m=y[x];o=o&&g.seriesIndex===m.seriesIndex&&g.dataIndex===m.dataIndex}),a&&_(d.seriesDataIndices,function(g){var x=g.seriesIndex,m=r[x],w=a[x];m&&w&&w.data!==m.data&&(o=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=r,!!o},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,r){O.node||!r.getDom()||(ht(this,"_updatePosition"),this._tooltipContent.dispose(),ct("itemTooltip",r))},e.type="tooltip",e}(rt);function $(i,e,t){var r=e.ecModel,n;t?(n=new U(t,r,r),n=new U(e.option,n,r)):n=e;for(var a=i.length-1;a>=0;a--){var o=i[a];o&&(o instanceof U&&(o=o.get("tooltip",!0)),P(o)&&(o={formatter:o}),o&&(n=new U(o,n,r)))}return n}function Ut(i,e){return i.dispatchAction||H(e.dispatchAction,e)}function cr(i,e,t,r,n,a,o){var l=t.getSize(),s=l[0],u=l[1];return a!=null&&(i+s+a+2>r?i-=s+a:i+=a),o!=null&&(e+u+o>n?e-=u+o:e+=o),[i,e]}function fr(i,e,t,r,n){var a=t.getSize(),o=a[0],l=a[1];return i=Math.min(i+o,r)-o,e=Math.min(e+l,n)-l,i=Math.max(i,0),e=Math.max(e,0),[i,e]}function vr(i,e,t,r){var n=t[0],a=t[1],o=Math.ceil(Math.SQRT2*r)+8,l=0,s=0,u=e.width,h=e.height;switch(i){case"inside":l=e.x+u/2-n/2,s=e.y+h/2-a/2;break;case"top":l=e.x+u/2-n/2,s=e.y-a-o;break;case"bottom":l=e.x+u/2-n/2,s=e.y+h+o;break;case"left":l=e.x-n-o,s=e.y+h/2-a/2;break;case"right":l=e.x+u+o,s=e.y+h/2-a/2}return[l,s]}function Kt(i){return i==="center"||i==="middle"}function pr(i,e,t){var r=Ke(i).queryOptionMap,n=r.keys()[0];if(!(!n||n==="series")){var a=Ze(e,n,r.get(n),{useDefault:!1,enableAll:!1,enableNone:!1}),o=a.models[0];if(o){var l=t.getViewOfComponentModel(o),s;if(l.group.traverse(function(u){var h=N(u).tooltipConfig;if(h&&h.name===i.name)return s=u,!0}),s)return{componentMainType:n,componentIndex:o.componentIndex,el:s}}}}const gr=dr;function Ur(i){F(ge),i.registerComponentModel(ji),i.registerComponentView(gr),i.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Ot),i.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Ot)}var yr=function(i,e){if(e==="all")return{type:"all",title:i.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:i.getLocaleModel().get(["legend","selector","inverse"])}},mr=function(i){k(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.prototype.init=function(t,r,n){this.mergeDefaultAndTheme(t,n),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,r){i.prototype.mergeOption.call(this,t,r),this._updateSelector(t)},e.prototype._updateSelector=function(t){var r=t.selector,n=this.ecModel;r===!0&&(r=t.selector=["all","inverse"]),M(r)&&_(r,function(a,o){P(a)&&(a={type:a}),r[o]=je(a,yr(n,a.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var r=!1,n=0;n<t.length;n++){var a=t[n].get("name");if(this.isSelected(a)){this.select(a),r=!0;break}}!r&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var r=[],n=[];t.eachRawSeries(function(s){var u=s.name;n.push(u);var h;if(s.legendVisualProvider){var c=s.legendVisualProvider,d=c.getAllNames();t.isSeriesFiltered(s)||(n=n.concat(d)),d.length?r=r.concat(d):h=!0}else h=!0;h&&qe(s)&&r.push(s.name)}),this._availableNames=n;var a=this.get("data")||r,o=wt(),l=bt(a,function(s){return(P(s)||le(s))&&(s={name:s}),o.get(s.name)?null:(o.set(s.name,!0),new U(s,this,this.ecModel))},this);this._data=Je(l,function(s){return!!s})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var r=this.option.selected,n=this.get("selectedMode");if(n==="single"){var a=this._data;_(a,function(o){r[o.get("name")]=!1})}r[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var r=this.option.selected;r.hasOwnProperty(t)||(r[t]=!0),this[r[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,r=this.option.selected;_(t,function(n){r[n.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,r=this.option.selected;_(t,function(n){var a=n.get("name",!0);r.hasOwnProperty(a)||(r[a]=!0),r[a]=!r[a]})},e.prototype.isSelected=function(t){var r=this.option.selected;return!(r.hasOwnProperty(t)&&!r[t])&&oe(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(it);const ft=mr;var E=R,vt=_,Q=mt,xr=function(i){k(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return e.prototype.init=function(){this.group.add(this._contentGroup=new Q),this.group.add(this._selectorGroup=new Q),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,r,n){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var o=t.get("align"),l=t.get("orient");(!o||o==="auto")&&(o=t.get("left")==="right"&&l==="vertical"?"right":"left");var s=t.get("selector",!0),u=t.get("selectorPosition",!0);s&&(!u||u==="auto")&&(u=l==="horizontal"?"end":"start"),this.renderInner(o,t,r,n,s,l,u);var h=t.getBoxLayoutParams(),c={width:n.getWidth(),height:n.getHeight()},d=t.get("padding"),f=dt(h,c,d),p=this.layoutInner(t,o,f,a,s,u),v=dt(Qe({width:p.width,height:p.height},h),c,d);this.group.x=v.x-p.x,this.group.y=v.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Ki(p,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,r,n,a,o,l,s){var u=this.getContentGroup(),h=wt(),c=r.get("selectedMode"),d=[];n.eachRawSeries(function(f){!f.get("legendHoverLink")&&d.push(f.id)}),vt(r.getData(),function(f,p){var v=f.get("name");if(!this.newlineDisabled&&(v===""||v==="\n")){var y=new Q;y.newline=!0,u.add(y);return}var g=n.getSeriesByName(v)[0];if(!h.get(v))if(g){var x=g.getData(),m=x.getVisual("legendLineStyle")||{},w=x.getVisual("legendIcon"),b=x.getVisual("style"),S=this._createItem(g,v,p,f,r,t,m,b,w,c,a);S.on("click",E(Zt,v,null,a,d)).on("mouseover",E(pt,g.name,null,a,d)).on("mouseout",E(gt,g.name,null,a,d)),h.set(v,!0)}else n.eachRawSeries(function(C){if(!h.get(v)&&C.legendVisualProvider){var T=C.legendVisualProvider;if(!T.containName(v))return;var z=T.indexOfName(v),D=T.getItemVisual(z,"style"),I=T.getItemVisual(z,"legendIcon"),L=ti(D.fill);L&&L[3]===0&&(L[3]=.2,D=J(J({},D),{fill:ei(L,"rgba")}));var B=this._createItem(C,v,p,f,r,t,{},D,I,c,a);B.on("click",E(Zt,null,v,a,d)).on("mouseover",E(pt,null,v,a,d)).on("mouseout",E(gt,null,v,a,d)),h.set(v,!0)}},this)},this),o&&this._createSelector(o,r,a,l,s)},e.prototype._createSelector=function(t,r,n,a,o){var l=this.getSelectorGroup();vt(t,function(u){var h=u.type,c=new Z({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:h==="all"?"legendAllSelect":"legendInverseSelect"})}});l.add(c);var d=r.getModel("selectorLabel"),f=r.getModel(["emphasis","selectorLabel"]);ii(c,{normal:d,emphasis:f},{defaultText:u.title}),Lt(c)})},e.prototype._createItem=function(t,r,n,a,o,l,s,u,h,c,d){var f=t.visualDrawType,p=o.get("itemWidth"),v=o.get("itemHeight"),y=o.isSelected(r),g=a.get("symbolRotate"),x=a.get("symbolKeepAspect"),m=a.get("icon");h=m||h||"roundRect";var w=_r(h,a,s,u,f,y,d),b=new Q,S=a.getModel("textStyle");if(q(t.getLegendIcon)&&(!m||m==="inherit"))b.add(t.getLegendIcon({itemWidth:p,itemHeight:v,icon:h,iconRotate:g,itemStyle:w.itemStyle,lineStyle:w.lineStyle,symbolKeepAspect:x}));else{var C=m==="inherit"&&t.getData().getVisual("symbol")?g==="inherit"?t.getData().getVisual("symbolRotate"):g:0;b.add(br({itemWidth:p,itemHeight:v,icon:h,iconRotate:C,itemStyle:w.itemStyle,lineStyle:w.lineStyle,symbolKeepAspect:x}))}var T=l==="left"?p+5:-5,z=l,D=o.get("formatter"),I=r;P(D)&&D?I=D.replace("{name}",r!=null?r:""):q(D)&&(I=D(r));var L=y?S.getTextColor():a.get("inactiveColor");b.add(new Z({style:ne(S,{text:I,x:T,y:v/2,fill:L,align:z,verticalAlign:"middle"},{inheritColor:L})}));var B=new nt({shape:b.getBoundingRect(),invisible:!0}),Y=a.getModel("tooltip");return Y.get("show")&&ri({el:B,componentModel:o,itemName:r,itemTooltipOption:Y.option}),b.add(B),b.eachChild(function(Te){Te.silent=!0}),B.silent=!c,this.getContentGroup().add(b),Lt(b),b.__legendDataIndex=n,b},e.prototype.layoutInner=function(t,r,n,a,o,l){var s=this.getContentGroup(),u=this.getSelectorGroup();K(t.get("orient"),s,t.get("itemGap"),n.width,n.height);var h=s.getBoundingRect(),c=[-h.x,-h.y];if(u.markRedraw(),s.markRedraw(),o){K("horizontal",u,t.get("selectorItemGap",!0));var d=u.getBoundingRect(),f=[-d.x,-d.y],p=t.get("selectorButtonGap",!0),v=t.getOrient().index,y=v===0?"width":"height",g=v===0?"height":"width",x=v===0?"y":"x";l==="end"?f[v]+=h[y]+p:c[v]+=d[y]+p,f[1-v]+=h[g]/2-d[g]/2,u.x=f[0],u.y=f[1],s.x=c[0],s.y=c[1];var m={x:0,y:0};return m[y]=h[y]+p+d[y],m[g]=Math.max(h[g],d[g]),m[x]=Math.min(0,d[x]+f[1-v]),m}else return s.x=c[0],s.y=c[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(rt);function _r(i,e,t,r,n,a,o){function l(y,g){y.lineWidth==="auto"&&(y.lineWidth=g.lineWidth>0?2:0),vt(y,function(x,m){y[m]==="inherit"&&(y[m]=g[m])})}var s=e.getModel("itemStyle"),u=s.getItemStyle(),h=i.lastIndexOf("empty",0)===0?"fill":"stroke",c=s.getShallow("decal");u.decal=!c||c==="inherit"?r.decal:ni(c,o),u.fill==="inherit"&&(u.fill=r[n]),u.stroke==="inherit"&&(u.stroke=r[h]),u.opacity==="inherit"&&(u.opacity=(n==="fill"?r:t).opacity),l(u,r);var d=e.getModel("lineStyle"),f=d.getLineStyle();if(l(f,t),u.fill==="auto"&&(u.fill=r.fill),u.stroke==="auto"&&(u.stroke=r.fill),f.stroke==="auto"&&(f.stroke=r.fill),!a){var p=e.get("inactiveBorderWidth"),v=u[h];u.lineWidth=p==="auto"?r.lineWidth>0&&v?2:0:u.lineWidth,u.fill=e.get("inactiveColor"),u.stroke=e.get("inactiveBorderColor"),f.stroke=d.get("inactiveColor"),f.lineWidth=d.get("inactiveWidth")}return{itemStyle:u,lineStyle:f}}function br(i){var e=i.icon||"roundRect",t=ai(e,0,0,i.itemWidth,i.itemHeight,i.itemStyle.fill,i.symbolKeepAspect);return t.setStyle(i.itemStyle),t.rotation=(i.iconRotate||0)*Math.PI/180,t.setOrigin([i.itemWidth/2,i.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}function Zt(i,e,t,r){gt(i,e,t,r),t.dispatchAction({type:"legendToggleSelect",name:i!=null?i:e}),pt(i,e,t,r)}function be(i){for(var e=i.getZr().storage.getDisplayList(),t,r=0,n=e.length;r<n&&!(t=e[r].states.emphasis);)r++;return t&&t.hoverLayer}function pt(i,e,t,r){be(t)||t.dispatchAction({type:"highlight",seriesName:i,name:e,excludeSeriesId:r})}function gt(i,e,t,r){be(t)||t.dispatchAction({type:"downplay",seriesName:i,name:e,excludeSeriesId:r})}const we=xr;function wr(i){var e=i.findComponents({mainType:"legend"});e&&e.length&&i.filterSeries(function(t){for(var r=0;r<e.length;r++)if(!e[r].isSelected(t.name))return!1;return!0})}function X(i,e,t){var r={},n=i==="toggleSelected",a;return t.eachComponent("legend",function(o){n&&a!=null?o[a?"select":"unSelect"](e.name):i==="allSelect"||i==="inverseSelect"?o[i]():(o[i](e.name),a=o.isSelected(e.name));var l=o.getData();_(l,function(s){var u=s.get("name");if(!(u==="\n"||u==="")){var h=o.isSelected(u);r.hasOwnProperty(u)?r[u]=r[u]&&h:r[u]=h}})}),i==="allSelect"||i==="inverseSelect"?{selected:r}:{name:e.name,selected:r}}function Sr(i){i.registerAction("legendToggleSelect","legendselectchanged",R(X,"toggleSelected")),i.registerAction("legendAllSelect","legendselectall",R(X,"allSelect")),i.registerAction("legendInverseSelect","legendinverseselect",R(X,"inverseSelect")),i.registerAction("legendSelect","legendselected",R(X,"select")),i.registerAction("legendUnSelect","legendunselected",R(X,"unSelect"))}function Se(i){i.registerComponentModel(ft),i.registerComponentView(we),i.registerProcessor(i.PRIORITY.PROCESSOR.SERIES_FILTER,wr),i.registerSubTypeDefaulter("legend",function(){return"plain"}),Sr(i)}var Cr=function(i){k(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,r,n){var a=oi(t);i.prototype.init.call(this,t,r,n),jt(this,t,a)},e.prototype.mergeOption=function(t,r){i.prototype.mergeOption.call(this,t,r),jt(this,this.option,t)},e.type="legend.scroll",e.defaultOption=si(ft.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(ft);function jt(i,e,t){var r=i.getOrient(),n=[1,1];n[r.index]=0,li(e,t,{type:"box",ignoreSize:!!n})}const Tr=Cr;var qt=mt,lt=["width","height"],ut=["x","y"],Ar=function(i){k(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return e.prototype.init=function(){i.prototype.init.call(this),this.group.add(this._containerGroup=new qt),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new qt)},e.prototype.resetInner=function(){i.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,r,n,a,o,l,s){var u=this;i.prototype.renderInner.call(this,t,r,n,a,o,l,s);var h=this._controllerGroup,c=r.get("pageIconSize",!0),d=M(c)?c:[c,c];p("pagePrev",0);var f=r.getModel("pageTextStyle");h.add(new Z({name:"pageText",style:{text:"xx/xx",fill:f.getTextColor(),font:f.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),p("pageNext",1);function p(v,y){var g=v+"DataIndex",x=te(r.get("pageIcons",!0)[r.getOrient().name][y],{onclick:H(u._pageGo,u,g,r,a)},{x:-d[0]/2,y:-d[1]/2,width:d[0],height:d[1]});x.name=v,h.add(x)}},e.prototype.layoutInner=function(t,r,n,a,o,l){var s=this.getSelectorGroup(),u=t.getOrient().index,h=lt[u],c=ut[u],d=lt[1-u],f=ut[1-u];o&&K("horizontal",s,t.get("selectorItemGap",!0));var p=t.get("selectorButtonGap",!0),v=s.getBoundingRect(),y=[-v.x,-v.y],g=xt(n);o&&(g[h]=n[h]-v[h]-p);var x=this._layoutContentAndController(t,a,g,u,h,d,f,c);if(o){if(l==="end")y[u]+=x[h]+p;else{var m=v[h]+p;y[u]-=m,x[c]-=m}x[h]+=v[h]+p,y[1-u]+=x[f]+x[d]/2-v[d]/2,x[d]=Math.max(x[d],v[d]),x[f]=Math.min(x[f],v[f]+y[1-u]),s.x=y[0],s.y=y[1],s.markRedraw()}return x},e.prototype._layoutContentAndController=function(t,r,n,a,o,l,s,u){var h=this.getContentGroup(),c=this._containerGroup,d=this._controllerGroup;K(t.get("orient"),h,t.get("itemGap"),a?n.width:null,a?null:n.height),K("horizontal",d,t.get("pageButtonItemGap",!0));var f=h.getBoundingRect(),p=d.getBoundingRect(),v=this._showController=f[o]>n[o],y=[-f.x,-f.y];r||(y[a]=h[u]);var g=[0,0],x=[-p.x,-p.y],m=ui(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(v){var w=t.get("pageButtonPosition",!0);w==="end"?x[a]+=n[o]-p[o]:g[a]+=p[o]+m}x[1-a]+=f[l]/2-p[l]/2,h.setPosition(y),c.setPosition(g),d.setPosition(x);var b={x:0,y:0};if(b[o]=v?n[o]:f[o],b[l]=Math.max(f[l],p[l]),b[s]=Math.min(0,p[s]+x[1-a]),c.__rectSize=n[o],v){var S={x:0,y:0};S[o]=Math.max(n[o]-p[o]-m,0),S[l]=b[l],c.setClipPath(new nt({shape:S})),c.__rectSize=S[o]}else d.eachChild(function(T){T.attr({invisible:!0,silent:!0})});var C=this._getPageInfo(t);return C.pageIndex!=null&&ie(h,{x:C.contentPosition[0],y:C.contentPosition[1]},v?t:null),this._updatePageInfoView(t,C),b},e.prototype._pageGo=function(t,r,n){var a=this._getPageInfo(r)[t];a!=null&&n.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:r.id})},e.prototype._updatePageInfoView=function(t,r){var n=this._controllerGroup;_(["pagePrev","pageNext"],function(h){var c=h+"DataIndex",d=r[c]!=null,f=n.childOfName(h);f&&(f.setStyle("fill",d?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),f.cursor=d?"pointer":"default")});var a=n.childOfName("pageText"),o=t.get("pageFormatter"),l=r.pageIndex,s=l!=null?l+1:0,u=r.pageCount;a&&o&&a.setStyle("text",P(o)?o.replace("{current}",s==null?"":s+"").replace("{total}",u==null?"":u+""):o({current:s,total:u}))},e.prototype._getPageInfo=function(t){var r=t.get("scrollDataIndex",!0),n=this.getContentGroup(),a=this._containerGroup.__rectSize,o=t.getOrient().index,l=lt[o],s=ut[o],u=this._findTargetItemIndex(r),h=n.children(),c=h[u],d=h.length,f=d?1:0,p={contentPosition:[n.x,n.y],pageCount:f,pageIndex:f-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return p;var v=w(c);p.contentPosition[o]=-v.s;for(var y=u+1,g=v,x=v,m=null;y<=d;++y)m=w(h[y]),(!m&&x.e>g.s+a||m&&!b(m,g.s))&&(x.i>g.i?g=x:g=m,g&&(p.pageNextDataIndex==null&&(p.pageNextDataIndex=g.i),++p.pageCount)),x=m;for(var y=u-1,g=v,x=v,m=null;y>=-1;--y)m=w(h[y]),(!m||!b(x,m.s))&&g.i<x.i&&(x=g,p.pagePrevDataIndex==null&&(p.pagePrevDataIndex=g.i),++p.pageCount,++p.pageIndex),g=m;return p;function w(S){if(S){var C=S.getBoundingRect(),T=C[s]+S[s];return{s:T,e:T+C[l],i:S.__legendDataIndex}}}function b(S,C){return S.e>=C&&S.s<=C+a}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var r,n=this.getContentGroup(),a;return n.eachChild(function(o,l){var s=o.__legendDataIndex;a==null&&s!=null&&(a=l),s===t&&(r=l)}),r!=null?r:a},e.type="legend.scroll",e}(we);const Ir=Ar;function Pr(i){i.registerAction("legendScroll","legendscroll",function(e,t){var r=e.scrollDataIndex;r!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(n){n.setScrollDataIndex(r)})})}function Dr(i){F(Se),i.registerComponentModel(Tr),i.registerComponentView(Ir),Pr(i)}function Kr(i){F(Se),F(Dr)}var Jt={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},Or=function(){function i(e){var t=this._condVal=P(e)?new RegExp(e):fi(e)?e:null;if(t==null){var r="";A(r)}}return i.prototype.evaluate=function(e){var t=typeof e;return P(t)?this._condVal.test(e):le(t)?this._condVal.test(e+""):!1},i}(),Lr=function(){function i(){}return i.prototype.evaluate=function(){return this.value},i}(),Rr=function(){function i(){}return i.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},i}(),Mr=function(){function i(){}return i.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},i}(),kr=function(){function i(){}return i.prototype.evaluate=function(){return!this.child.evaluate()},i}(),Br=function(){function i(){}return i.prototype.evaluate=function(){for(var e=!!this.valueParser,t=this.getValue,r=t(this.valueGetterParam),n=e?this.valueParser(r):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(e?n:r))return!1;return!0},i}();function Ct(i,e){if(i===!0||i===!1){var t=new Lr;return t.value=i,t}var r="";return Ce(i)||A(r),i.and?Qt("and",i,e):i.or?Qt("or",i,e):i.not?Gr(i,e):Hr(i,e)}function Qt(i,e,t){var r=e[i],n="";M(r)||A(n),r.length||A(n);var a=i==="and"?new Rr:new Mr;return a.children=bt(r,function(o){return Ct(o,t)}),a.children.length||A(n),a}function Gr(i,e){var t=i.not,r="";Ce(t)||A(r);var n=new kr;return n.child=Ct(t,e),n.child||A(r),n}function Hr(i,e){for(var t="",r=e.prepareGetValue(i),n=[],a=hi(i),o=i.parser,l=o?ue(o):null,s=0;s<a.length;s++){var u=a[s];if(!(u==="parser"||e.valueGetterAttrMap.get(u))){var h=he(Jt,u)?Jt[u]:u,c=i[u],d=l?l(c):c,f=di(h,d)||h==="reg"&&new Or(d);f||A(t),n.push(f)}}n.length||A(t);var p=new Br;return p.valueGetterParam=r,p.valueParser=l,p.getValue=e.getValue,p.subCondList=n,p}function Ce(i){return j(i)&&!ci(i)}var zr=function(){function i(e,t){this._cond=Ct(e,t)}return i.prototype.evaluate=function(){return this._cond.evaluate()},i}();function Vr(i,e){return new zr(i,e)}var Wr={type:"echarts:filter",transform:function(i){for(var e=i.upstream,t,r=Vr(i.config,{valueGetterAttrMap:wt({dimension:!0}),prepareGetValue:function(l){var s="",u=l.dimension;he(l,"dimension")||A(s);var h=e.getDimensionInfo(u);return h||A(s),{dimIdx:h.index}},getValue:function(l){return e.retrieveValueFromItem(t,l.dimIdx)}}),n=[],a=0,o=e.count();a<o;a++)t=e.getRawDataItem(a),r.evaluate()&&n.push(t);return{data:n}}},Er={type:"echarts:sort",transform:function(i){var e=i.upstream,t=i.config,r="",n=yi(t);n.length||A(r);var a=[];_(n,function(h){var c=h.dimension,d=h.order,f=h.parser,p=h.incomparable;if(c==null&&A(r),d!=="asc"&&d!=="desc"&&A(r),p&&p!=="min"&&p!=="max"){var v="";A(v)}if(d!=="asc"&&d!=="desc"){var y="";A(y)}var g=e.getDimensionInfo(c);g||A(r);var x=f?ue(f):null;f&&!x&&A(r),a.push({dimIdx:g.index,parser:x,comparator:new vi(d,p)})});var o=e.sourceFormat;o!==pi&&o!==gi&&A(r);for(var l=[],s=0,u=e.count();s<u;s++)l.push(e.getRawDataItem(s));return l.sort(function(h,c){for(var d=0;d<a.length;d++){var f=a[d],p=e.retrieveValueFromItem(h,f.dimIdx),v=e.retrieveValueFromItem(c,f.dimIdx);f.parser&&(p=f.parser(p),v=f.parser(v));var y=f.comparator.evaluate(p,v);if(y!==0)return y}return 0}),{data:l}}};function Zr(i){i.registerTransform(Wr),i.registerTransform(Er)}var Nr=function(i){k(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dataset",t}return e.prototype.init=function(t,r,n){i.prototype.init.call(this,t,r,n),this._sourceManager=new mi(this),Rt(this)},e.prototype.mergeOption=function(t,r){i.prototype.mergeOption.call(this,t,r),Rt(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:xi},e}(it),Fr=function(i){k(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dataset",t}return e.type="dataset",e}(rt);function jr(i){i.registerComponentModel(Nr),i.registerComponentView(Fr)}export{Xr as a,jr as b,Zr as c,Kr as d,Ur as i};
