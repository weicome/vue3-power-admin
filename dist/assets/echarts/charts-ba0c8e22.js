import{_ as O,c as dt,G as K,a as Ie,S as Me,r as kt,i as q,e as fr,l as gr,u as j,s as Te,b as Y,g as Ae,n as Ia,Z as Ta,d as Z,f as ke,t as ye,h as te,j as Nt,k as Ca,m as Pa,o as mt,p as U,q as Fe,v as ve,w as pe,P as pr,x as Et,y as Ye,z as Ot,R as Ne,A as oe,B as Ee,C as se,D as Rt,E as $,F as be,H as Vt,I as de,J as Gt,K as qe,L as dr,M as Ma,N as k,O as mr,Q as Bt,T as yr,U as br,V as Ce,W as xr,X as zt,Y as Ar,$ as lt,a0 as Sr,a1 as Lr,a2 as me,a3 as wr,a4 as Dr,a5 as _r,a6 as ka,a7 as X,a8 as Ft,a9 as Ir,aa as Tr,ab as Cr,ac as yt,ad as Pr,ae as Mr,af as kr,ag as Nr,ah as Er,ai as Na,aj as We,ak as Or,al as Rr,am as Vr,an as Gr,ao as bt,ap as $e,aq as Ea,ar as Oa,as as ee,at as Br,au as zr,av as Fr,aw as Wr,ax as $r,ay as Hr,az as Wt,aA as xe,aB as Ra,aC as Pe,aD as ut,aE as Ur,aF as Qe,aG as Zr,aH as ze,aI as Xr,aJ as Yr,aK as qr,aL as jr,aM as vt,aN as $t,aO as He,aP as Ue,aQ as Jr,aR as Kr,aS as Va,aT as Qr,aU as ei,aV as ti,aW as ai,aX as Ht,aY as xt,aZ as Ga,a_ as Ze,a$ as At,b0 as St,b1 as ri,b2 as ii,b3 as ni,b4 as Ba,b5 as oi,b6 as si,b7 as Ut,b8 as li,b9 as ui,ba as Zt,bb as vi}from"./core-7df7331c.js";var ci=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e){return dt(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var a=new K,i=Ie("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);a.add(i),i.setStyle(e.lineStyle);var o=this.getData().getVisual("symbol"),n=this.getData().getVisual("symbolRotate"),s=o==="none"?"circle":o,l=e.itemHeight*.8,u=Ie(s,(e.itemWidth-l)/2,(e.itemHeight-l)/2,l,l,e.itemStyle.fill);a.add(u),u.setStyle(e.itemStyle);var v=e.iconRotate==="inherit"?n:e.iconRotate||0;return u.rotation=v*Math.PI/180,u.setOrigin([e.itemWidth/2,e.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),a},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(Me);const hi=ci;function Lt(r,t){var e=r.mapDimensionsAll("defaultedLabel"),a=e.length;if(a===1){var i=kt(r,t,e[0]);return i!=null?i+"":null}else if(a){for(var o=[],n=0;n<e.length;n++)o.push(kt(r,t,e[n]));return o.join(" ")}}function za(r,t){var e=r.mapDimensionsAll("defaultedLabel");if(!q(t))return t+"";for(var a=[],i=0;i<e.length;i++){var o=r.getDimensionIndex(e[i]);o>=0&&a.push(t[o])}return a.join(" ")}var fi=function(r){O(t,r);function t(e,a,i,o){var n=r.call(this)||this;return n.updateData(e,a,i,o),n}return t.prototype._createSymbol=function(e,a,i,o,n){this.removeAll();var s=Ie(e,-1,-1,2,2,null,n);s.attr({z2:100,culling:!0,scaleX:o[0]/2,scaleY:o[1]/2}),s.drift=gi,this._symbolType=e,this.add(s)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){fr(this.childAt(0))},t.prototype.downplay=function(){gr(this.childAt(0))},t.prototype.setZ=function(e,a){var i=this.childAt(0);i.zlevel=e,i.z=a},t.prototype.setDraggable=function(e,a){var i=this.childAt(0);i.draggable=e,i.cursor=!a&&e?"move":i.cursor},t.prototype.updateData=function(e,a,i,o){this.silent=!1;var n=e.getItemVisual(a,"symbol")||"circle",s=e.hostModel,l=t.getSymbolSize(e,a),u=n!==this._symbolType,v=o&&o.disableAnimation;if(u){var c=e.getItemVisual(a,"symbolKeepAspect");this._createSymbol(n,e,a,l,c)}else{var g=this.childAt(0);g.silent=!1;var h={scaleX:l[0]/2,scaleY:l[1]/2};v?g.attr(h):j(g,h,s,a),Te(g)}if(this._updateCommon(e,a,l,i,o),u){var g=this.childAt(0);if(!v){var h={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:g.style.opacity}};g.scaleX=g.scaleY=0,g.style.opacity=0,Y(g,h,s,a)}}v&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,a,i,o,n){var s=this.childAt(0),l=e.hostModel,u,v,c,g,h,f,p,d,y;if(o&&(u=o.emphasisItemStyle,v=o.blurItemStyle,c=o.selectItemStyle,g=o.focus,h=o.blurScope,p=o.labelStatesModels,d=o.hoverScale,y=o.cursorStyle,f=o.emphasisDisabled),!o||e.hasItemOption){var m=o&&o.itemModel?o.itemModel:e.getItemModel(a),b=m.getModel("emphasis");u=b.getModel("itemStyle").getItemStyle(),c=m.getModel(["select","itemStyle"]).getItemStyle(),v=m.getModel(["blur","itemStyle"]).getItemStyle(),g=b.get("focus"),h=b.get("blurScope"),f=b.get("disabled"),p=Ae(m),d=b.getShallow("scale"),y=m.getShallow("cursor")}var A=e.getItemVisual(a,"symbolRotate");s.attr("rotation",(A||0)*Math.PI/180||0);var w=Ia(e.getItemVisual(a,"symbolOffset"),i);w&&(s.x=w[0],s.y=w[1]),y&&s.attr("cursor",y);var x=e.getItemVisual(a,"style"),L=x.fill;if(s instanceof Ta){var S=s.style;s.useStyle(Z({image:S.image,x:S.x,y:S.y,width:S.width,height:S.height},x))}else s.__isEmptyBrush?s.useStyle(Z({},x)):s.useStyle(x),s.style.decal=null,s.setColor(L,n&&n.symbolInnerColor),s.style.strokeNoScale=!0;var I=e.getItemVisual(a,"liftZ"),T=this._z2;I!=null?T==null&&(this._z2=s.z2,s.z2+=I):T!=null&&(s.z2=T,this._z2=null);var D=n&&n.useNameLabel;ke(s,p,{labelFetcher:l,labelDataIndex:a,defaultText:_,inheritColor:L,defaultOpacity:x.opacity});function _(P){return D?e.getName(P):Lt(e,P)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var C=s.ensureState("emphasis");C.style=u,s.ensureState("select").style=c,s.ensureState("blur").style=v;var N=d==null||d===!0?Math.max(1.1,3/this._sizeY):isFinite(d)&&d>0?+d:1;C.scaleX=this._sizeX*N,C.scaleY=this._sizeY*N,this.setSymbolScale(1),ye(this,g,h,f)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,a,i){var o=this.childAt(0),n=te(this).dataIndex,s=i&&i.animation;if(this.silent=o.silent=!0,i&&i.fadeLabel){var l=o.getTextContent();l&&Nt(l,{style:{opacity:0}},a,{dataIndex:n,removeOpt:s,cb:function(){o.removeTextContent()}})}else o.removeTextContent();Nt(o,{style:{opacity:0},scaleX:0,scaleY:0},a,{dataIndex:n,cb:e,removeOpt:s})},t.getSymbolSize=function(e,a){return Ca(e.getItemVisual(a,"symbolSize"))},t}(K);function gi(r,t){this.parent.drift(r,t)}const wt=fi;function et(r,t,e,a){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(a.isIgnore&&a.isIgnore(e))&&!(a.clipShape&&!a.clipShape.contain(t[0],t[1]))&&r.getItemVisual(e,"symbol")!=="none"}function Xt(r){return r!=null&&!mt(r)&&(r={isIgnore:r}),r||{}}function Yt(r){var t=r.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),emphasisDisabled:e.get("disabled"),hoverScale:e.get("scale"),labelStatesModels:Ae(t),cursorStyle:t.get("cursor")}}var pi=function(){function r(t){this.group=new K,this._SymbolCtor=t||wt}return r.prototype.updateData=function(t,e){this._progressiveEls=null,e=Xt(e);var a=this.group,i=t.hostModel,o=this._data,n=this._SymbolCtor,s=e.disableAnimation,l=Yt(t),u={disableAnimation:s},v=e.getSymbolPoint||function(c){return t.getItemLayout(c)};o||a.removeAll(),t.diff(o).add(function(c){var g=v(c);if(et(t,g,c,e)){var h=new n(t,c,l,u);h.setPosition(g),t.setItemGraphicEl(c,h),a.add(h)}}).update(function(c,g){var h=o.getItemGraphicEl(g),f=v(c);if(!et(t,f,c,e)){a.remove(h);return}var p=t.getItemVisual(c,"symbol")||"circle",d=h&&h.getSymbolType&&h.getSymbolType();if(!h||d&&d!==p)a.remove(h),h=new n(t,c,l,u),h.setPosition(f);else{h.updateData(t,c,l,u);var y={x:f[0],y:f[1]};s?h.attr(y):j(h,y,i)}a.add(h),t.setItemGraphicEl(c,h)}).remove(function(c){var g=o.getItemGraphicEl(c);g&&g.fadeOut(function(){a.remove(g)},i)}).execute(),this._getSymbolPoint=v,this._data=t},r.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(a,i){var o=t._getSymbolPoint(i);a.setPosition(o),a.markRedraw()})},r.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=Yt(t),this._data=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(t,e,a){this._progressiveEls=[],a=Xt(a);function i(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var o=t.start;o<t.end;o++){var n=e.getItemLayout(o);if(et(e,n,o,a)){var s=new this._SymbolCtor(e,o,this._seriesScope);s.traverse(i),s.setPosition(n),this.group.add(s),e.setItemGraphicEl(o,s),this._progressiveEls.push(s)}}},r.prototype.eachRendered=function(t){Pa(this._progressiveEls||this.group,t)},r.prototype.remove=function(t){var e=this.group,a=this._data;a&&t?a.eachItemGraphicEl(function(i){i.fadeOut(function(){e.remove(i)},a.hostModel)}):e.removeAll()},r}();const di=pi;function Fa(r,t,e){var a=r.getBaseAxis(),i=r.getOtherAxis(a),o=mi(i,e),n=a.dim,s=i.dim,l=t.mapDimension(s),u=t.mapDimension(n),v=s==="x"||s==="radius"?1:0,c=U(r.dimensions,function(f){return t.mapDimension(f)}),g=!1,h=t.getCalculationInfo("stackResultDimension");return Fe(t,c[0])&&(g=!0,c[0]=h),Fe(t,c[1])&&(g=!0,c[1]=h),{dataDimsForPoint:c,valueStart:o,valueAxisDim:s,baseAxisDim:n,stacked:!!g,valueDim:l,baseDim:u,baseDataOffset:v,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function mi(r,t){var e=0,a=r.scale.getExtent();return t==="start"?e=a[0]:t==="end"?e=a[1]:ve(t)&&!isNaN(t)?e=t:a[0]>0?e=a[0]:a[1]<0&&(e=a[1]),e}function Wa(r,t,e,a){var i=NaN;r.stacked&&(i=e.get(e.getCalculationInfo("stackedOverDimension"),a)),isNaN(i)&&(i=r.valueStart);var o=r.baseDataOffset,n=[];return n[o]=e.get(r.baseDim,a),n[1-o]=i,t.dataToPoint(n)}function yi(r,t){var e=[];return t.diff(r).add(function(a){e.push({cmd:"+",idx:a})}).update(function(a,i){e.push({cmd:"=",idx:i,idx1:a})}).remove(function(a){e.push({cmd:"-",idx:a})}).execute(),e}function bi(r,t,e,a,i,o,n,s){for(var l=yi(r,t),u=[],v=[],c=[],g=[],h=[],f=[],p=[],d=Fa(i,t,n),y=r.getLayout("points")||[],m=t.getLayout("points")||[],b=0;b<l.length;b++){var A=l[b],w=!0,x=void 0,L=void 0;switch(A.cmd){case"=":x=A.idx*2,L=A.idx1*2;var S=y[x],I=y[x+1],T=m[L],D=m[L+1];(isNaN(S)||isNaN(I))&&(S=T,I=D),u.push(S,I),v.push(T,D),c.push(e[x],e[x+1]),g.push(a[L],a[L+1]),p.push(t.getRawIndex(A.idx1));break;case"+":var _=A.idx,C=d.dataDimsForPoint,N=i.dataToPoint([t.get(C[0],_),t.get(C[1],_)]);L=_*2,u.push(N[0],N[1]),v.push(m[L],m[L+1]);var P=Wa(d,i,t,_);c.push(P[0],P[1]),g.push(a[L],a[L+1]),p.push(t.getRawIndex(_));break;case"-":w=!1}w&&(h.push(A),f.push(f.length))}f.sort(function(Q,z){return p[Q]-p[z]});for(var E=u.length,V=pe(E),M=pe(E),R=pe(E),H=pe(E),F=[],b=0;b<f.length;b++){var B=f[b],G=b*2,W=B*2;V[G]=u[W],V[G+1]=u[W+1],M[G]=v[W],M[G+1]=v[W+1],R[G]=c[W],R[G+1]=c[W+1],H[G]=g[W],H[G+1]=g[W+1],F[b]=h[B]}return{current:V,next:M,stackedOnCurrent:R,stackedOnNext:H,status:F}}var ae=Math.min,re=Math.max;function le(r,t){return isNaN(r)||isNaN(t)}function ct(r,t,e,a,i,o,n,s,l){for(var u,v,c,g,h,f,p=e,d=0;d<a;d++){var y=t[p*2],m=t[p*2+1];if(p>=i||p<0)break;if(le(y,m)){if(l){p+=o;continue}break}if(p===e)r[o>0?"moveTo":"lineTo"](y,m),c=y,g=m;else{var b=y-u,A=m-v;if(b*b+A*A<.5){p+=o;continue}if(n>0){for(var w=p+o,x=t[w*2],L=t[w*2+1];x===y&&L===m&&d<a;)d++,w+=o,p+=o,x=t[w*2],L=t[w*2+1],y=t[p*2],m=t[p*2+1],b=y-u,A=m-v;var S=d+1;if(l)for(;le(x,L)&&S<a;)S++,w+=o,x=t[w*2],L=t[w*2+1];var I=.5,T=0,D=0,_=void 0,C=void 0;if(S>=a||le(x,L))h=y,f=m;else{T=x-u,D=L-v;var N=y-u,P=x-y,E=m-v,V=L-m,M=void 0,R=void 0;if(s==="x"){M=Math.abs(N),R=Math.abs(P);var H=T>0?1:-1;h=y-H*M*n,f=m,_=y+H*R*n,C=m}else if(s==="y"){M=Math.abs(E),R=Math.abs(V);var F=D>0?1:-1;h=y,f=m-F*M*n,_=y,C=m+F*R*n}else M=Math.sqrt(N*N+E*E),R=Math.sqrt(P*P+V*V),I=R/(R+M),h=y-T*n*(1-I),f=m-D*n*(1-I),_=y+T*n*I,C=m+D*n*I,_=ae(_,re(x,y)),C=ae(C,re(L,m)),_=re(_,ae(x,y)),C=re(C,ae(L,m)),T=_-y,D=C-m,h=y-T*M/R,f=m-D*M/R,h=ae(h,re(u,y)),f=ae(f,re(v,m)),h=re(h,ae(u,y)),f=re(f,ae(v,m)),T=y-h,D=m-f,_=y+T*R/M,C=m+D*R/M}r.bezierCurveTo(c,g,h,f,y,m),c=_,g=C}else r.lineTo(y,m)}u=y,v=m,p+=o}return d}var $a=function(){function r(){this.smooth=0,this.smoothConstraint=!0}return r}(),xi=function(r){O(t,r);function t(e){var a=r.call(this,e)||this;return a.type="ec-polyline",a}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new $a},t.prototype.buildPath=function(e,a){var i=a.points,o=0,n=i.length/2;if(a.connectNulls){for(;n>0&&le(i[n*2-2],i[n*2-1]);n--);for(;o<n&&le(i[o*2],i[o*2+1]);o++);}for(;o<n;)o+=ct(e,i,o,n,n,1,a.smooth,a.smoothMonotone,a.connectNulls)+1},t.prototype.getPointOn=function(e,a){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,o=i.data,n=pr.CMD,s,l,u=a==="x",v=[],c=0;c<o.length;){var g=o[c++],h=void 0,f=void 0,p=void 0,d=void 0,y=void 0,m=void 0,b=void 0;switch(g){case n.M:s=o[c++],l=o[c++];break;case n.L:if(h=o[c++],f=o[c++],b=u?(e-s)/(h-s):(e-l)/(f-l),b<=1&&b>=0){var A=u?(f-l)*b+l:(h-s)*b+s;return u?[e,A]:[A,e]}s=h,l=f;break;case n.C:h=o[c++],f=o[c++],p=o[c++],d=o[c++],y=o[c++],m=o[c++];var w=u?Et(s,h,p,y,e,v):Et(l,f,d,m,e,v);if(w>0)for(var x=0;x<w;x++){var L=v[x];if(L<=1&&L>=0){var A=u?Ot(l,f,d,m,L):Ot(s,h,p,y,L);return u?[e,A]:[A,e]}}s=y,l=m;break}}},t}(Ye),Ai=function(r){O(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t}($a),Si=function(r){O(t,r);function t(e){var a=r.call(this,e)||this;return a.type="ec-polygon",a}return t.prototype.getDefaultShape=function(){return new Ai},t.prototype.buildPath=function(e,a){var i=a.points,o=a.stackedOnPoints,n=0,s=i.length/2,l=a.smoothMonotone;if(a.connectNulls){for(;s>0&&le(i[s*2-2],i[s*2-1]);s--);for(;n<s&&le(i[n*2],i[n*2+1]);n++);}for(;n<s;){var u=ct(e,i,n,s,s,1,a.smooth,l,a.connectNulls);ct(e,o,n+u-1,u,s,-1,a.stackedOnSmooth,l,a.connectNulls),n+=u+1,e.closePath()}},t}(Ye);function Ha(r,t,e,a,i){var o=r.getArea(),n=o.x,s=o.y,l=o.width,u=o.height,v=e.get(["lineStyle","width"])||2;n-=v/2,s-=v/2,l+=v,u+=v,n=Math.floor(n),l=Math.round(l);var c=new Ne({shape:{x:n,y:s,width:l,height:u}});if(t){var g=r.getBaseAxis(),h=g.isHorizontal(),f=g.inverse;h?(f&&(c.shape.x+=l),c.shape.width=0):(f||(c.shape.y+=u),c.shape.height=0);var p=se(i)?function(d){i(d,c)}:null;Y(c,{shape:{width:l,height:u,x:n,y:s}},e,null,a,p)}return c}function Ua(r,t,e){var a=r.getArea(),i=oe(a.r0,1),o=oe(a.r,1),n=new Ee({shape:{cx:oe(r.cx,1),cy:oe(r.cy,1),r0:i,r:o,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}});if(t){var s=r.getBaseAxis().dim==="angle";s?n.shape.endAngle=a.startAngle:n.shape.r=i,Y(n,{shape:{endAngle:a.endAngle,r:o}},e)}return n}function Li(r,t,e,a,i){if(r){if(r.type==="polar")return Ua(r,t,e);if(r.type==="cartesian2d")return Ha(r,t,e,a,i)}else return null;return null}function Dt(r,t){return r.type===t}function qt(r,t){if(r.length===t.length){for(var e=0;e<r.length;e++)if(r[e]!==t[e])return;return!0}}function jt(r){for(var t=1/0,e=1/0,a=-1/0,i=-1/0,o=0;o<r.length;){var n=r[o++],s=r[o++];isNaN(n)||(t=Math.min(n,t),a=Math.max(n,a)),isNaN(s)||(e=Math.min(s,e),i=Math.max(s,i))}return[[t,e],[a,i]]}function Jt(r,t){var e=jt(r),a=e[0],i=e[1],o=jt(t),n=o[0],s=o[1];return Math.max(Math.abs(a[0]-n[0]),Math.abs(a[1]-n[1]),Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]))}function Kt(r){return ve(r)?r:r?.5:0}function wi(r,t,e){if(!e.valueDim)return[];for(var a=t.count(),i=pe(a*2),o=0;o<a;o++){var n=Wa(e,r,t,o);i[o*2]=n[0],i[o*2+1]=n[1]}return i}function ie(r,t,e,a){var i=t.getBaseAxis(),o=i.dim==="x"||i.dim==="radius"?0:1,n=[],s=0,l=[],u=[],v=[],c=[];if(a){for(s=0;s<r.length;s+=2)!isNaN(r[s])&&!isNaN(r[s+1])&&c.push(r[s],r[s+1]);r=c}for(s=0;s<r.length-2;s+=2)switch(v[0]=r[s+2],v[1]=r[s+3],u[0]=r[s],u[1]=r[s+1],n.push(u[0],u[1]),e){case"end":l[o]=v[o],l[1-o]=u[1-o],n.push(l[0],l[1]);break;case"middle":var g=(u[o]+v[o])/2,h=[];l[o]=h[o]=g,l[1-o]=u[1-o],h[1-o]=v[1-o],n.push(l[0],l[1]),n.push(h[0],h[1]);break;default:l[o]=u[o],l[1-o]=v[1-o],n.push(l[0],l[1])}return n.push(r[s++],r[s++]),n}function Di(r,t){var e=[],a=r.length,i,o;function n(v,c,g){var h=v.coord,f=(g-h)/(c.coord-h),p=yr(f,[v.color,c.color]);return{coord:g,color:p}}for(var s=0;s<a;s++){var l=r[s],u=l.coord;if(u<0)i=l;else if(u>t){o?e.push(n(o,l,t)):i&&e.push(n(i,l,0),n(i,l,t));break}else i&&(e.push(n(i,l,0)),i=null),e.push(l),o=l}return e}function _i(r,t,e){var a=r.getVisual("visualMeta");if(!(!a||!a.length||!r.count())&&t.type==="cartesian2d"){for(var i,o,n=a.length-1;n>=0;n--){var s=r.getDimensionInfo(a[n].dimension);if(i=s&&s.coordDim,i==="x"||i==="y"){o=a[n];break}}if(o){var l=t.getAxis(i),u=U(o.stops,function(b){return{coord:l.toGlobalCoord(l.dataToCoord(b.value)),color:b.color}}),v=u.length,c=o.outerColors.slice();v&&u[0].coord>u[v-1].coord&&(u.reverse(),c.reverse());var g=Di(u,i==="x"?e.getWidth():e.getHeight()),h=g.length;if(!h&&v)return u[0].coord<0?c[1]?c[1]:u[v-1].color:c[0]?c[0]:u[0].color;var f=10,p=g[0].coord-f,d=g[h-1].coord+f,y=d-p;if(y<.001)return"transparent";k(g,function(b){b.offset=(b.coord-p)/y}),g.push({offset:h?g[h-1].offset:.5,color:c[1]||"transparent"}),g.unshift({offset:h?g[0].offset:.5,color:c[0]||"transparent"});var m=new mr(0,0,0,0,g,!0);return m[i]=p,m[i+"2"]=d,m}}}function Ii(r,t,e){var a=r.get("showAllSymbol"),i=a==="auto";if(!(a&&!i)){var o=e.getAxesByScale("ordinal")[0];if(o&&!(i&&Ti(o,t))){var n=t.mapDimension(o.dim),s={};return k(o.getViewLabels(),function(l){var u=o.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(t.get(n,l))}}}}function Ti(r,t){var e=r.getExtent(),a=Math.abs(e[1]-e[0])/r.scale.count();isNaN(a)&&(a=0);for(var i=t.count(),o=Math.max(1,Math.round(i/5)),n=0;n<i;n+=o)if(wt.getSymbolSize(t,n)[r.isHorizontal()?1:0]*1.5>a)return!1;return!0}function Ci(r,t){return isNaN(r)||isNaN(t)}function Pi(r){for(var t=r.length/2;t>0&&Ci(r[t*2-2],r[t*2-1]);t--);return t-1}function Qt(r,t){return[r[t*2],r[t*2+1]]}function Mi(r,t,e){for(var a=r.length/2,i=e==="x"?0:1,o,n,s=0,l=-1,u=0;u<a;u++)if(n=r[u*2+i],!(isNaN(n)||isNaN(r[u*2+1-i]))){if(u===0){o=n;continue}if(o<=t&&n>=t||o>=t&&n<=t){l=u;break}s=u,o=n}return{range:[s,l],t:(t-o)/(n-o)}}function Za(r){if(r.get(["endLabel","show"]))return!0;for(var t=0;t<Bt.length;t++)if(r.get([Bt[t],"endLabel","show"]))return!0;return!1}function tt(r,t,e,a){if(Dt(t,"cartesian2d")){var i=a.getModel("endLabel"),o=i.get("valueAnimation"),n=a.getData(),s={lastFrameIndex:0},l=Za(a)?function(h,f){r._endLabelOnDuring(h,f,n,s,o,i,t)}:null,u=t.getBaseAxis().isHorizontal(),v=Ha(t,e,a,function(){var h=r._endLabel;h&&e&&s.originalX!=null&&h.attr({x:s.originalX,y:s.originalY})},l);if(!a.get("clip",!0)){var c=v.shape,g=Math.max(c.width,c.height);u?(c.y-=g,c.height+=g*2):(c.x-=g,c.width+=g*2)}return l&&l(1,v),v}else return Ua(t,e,a)}function ki(r,t){var e=t.getBaseAxis(),a=e.isHorizontal(),i=e.inverse,o=a?i?"right":"left":"center",n=a?"middle":i?"top":"bottom";return{normal:{align:r.get("align")||o,verticalAlign:r.get("verticalAlign")||n}}}var Ni=function(r){O(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(){var e=new K,a=new di;this.group.add(a.group),this._symbolDraw=a,this._lineGroup=e},t.prototype.render=function(e,a,i){var o=this,n=e.coordinateSystem,s=this.group,l=e.getData(),u=e.getModel("lineStyle"),v=e.getModel("areaStyle"),c=l.getLayout("points")||[],g=n.type==="polar",h=this._coordSys,f=this._symbolDraw,p=this._polyline,d=this._polygon,y=this._lineGroup,m=!a.ssr&&e.isAnimationEnabled(),b=!v.isEmpty(),A=v.get("origin"),w=Fa(n,l,A),x=b&&wi(n,l,w),L=e.get("showSymbol"),S=e.get("connectNulls"),I=L&&!g&&Ii(e,l,n),T=this._data;T&&T.eachItemGraphicEl(function(z,ce){z.__temp&&(s.remove(z),T.setItemGraphicEl(ce,null))}),L||f.remove(),s.add(y);var D=g?!1:e.get("step"),_;n&&n.getArea&&e.get("clip",!0)&&(_=n.getArea(),_.width!=null?(_.x-=.1,_.y-=.1,_.width+=.2,_.height+=.2):_.r0&&(_.r0-=.5,_.r+=.5)),this._clipShapeForSymbol=_;var C=_i(l,n,i)||l.getVisual("style")[l.getVisual("drawType")];if(!(p&&h.type===n.type&&D===this._step))L&&f.updateData(l,{isIgnore:I,clipShape:_,disableAnimation:!0,getSymbolPoint:function(z){return[c[z*2],c[z*2+1]]}}),m&&this._initSymbolLabelAnimation(l,n,_),D&&(c=ie(c,n,D,S),x&&(x=ie(x,n,D,S))),p=this._newPolyline(c),b?d=this._newPolygon(c,x):d&&(y.remove(d),d=this._polygon=null),g||this._initOrUpdateEndLabel(e,n,Rt(C)),y.setClipPath(tt(this,n,!0,e));else{b&&!d?d=this._newPolygon(c,x):d&&!b&&(y.remove(d),d=this._polygon=null),g||this._initOrUpdateEndLabel(e,n,Rt(C));var N=y.getClipPath();if(N){var P=tt(this,n,!1,e);Y(N,{shape:P.shape},e)}else y.setClipPath(tt(this,n,!0,e));L&&f.updateData(l,{isIgnore:I,clipShape:_,disableAnimation:!0,getSymbolPoint:function(z){return[c[z*2],c[z*2+1]]}}),(!qt(this._stackedOnPoints,x)||!qt(this._points,c))&&(m?this._doUpdateAnimation(l,x,n,i,D,A,S):(D&&(c=ie(c,n,D,S),x&&(x=ie(x,n,D,S))),p.setShape({points:c}),d&&d.setShape({points:c,stackedOnPoints:x})))}var E=e.getModel("emphasis"),V=E.get("focus"),M=E.get("blurScope"),R=E.get("disabled");if(p.useStyle($(u.getLineStyle(),{fill:"none",stroke:C,lineJoin:"bevel"})),be(p,e,"lineStyle"),p.style.lineWidth>0&&e.get(["emphasis","lineStyle","width"])==="bolder"){var H=p.getState("emphasis").style;H.lineWidth=+p.style.lineWidth+1}te(p).seriesIndex=e.seriesIndex,ye(p,V,M,R);var F=Kt(e.get("smooth")),B=e.get("smoothMonotone");if(p.setShape({smooth:F,smoothMonotone:B,connectNulls:S}),d){var G=l.getCalculationInfo("stackedOnSeries"),W=0;d.useStyle($(v.getAreaStyle(),{fill:C,opacity:.7,lineJoin:"bevel",decal:l.getVisual("style").decal})),G&&(W=Kt(G.get("smooth"))),d.setShape({smooth:F,stackedOnSmooth:W,smoothMonotone:B,connectNulls:S}),be(d,e,"areaStyle"),te(d).seriesIndex=e.seriesIndex,ye(d,V,M,R)}var Q=function(z){o._changePolyState(z)};l.eachItemGraphicEl(function(z){z&&(z.onHoverStateChange=Q)}),this._polyline.onHoverStateChange=Q,this._data=l,this._coordSys=n,this._stackedOnPoints=x,this._points=c,this._step=D,this._valueOrigin=A,e.get("triggerLineEvent")&&(this.packEventData(e,p),d&&this.packEventData(e,d))},t.prototype.packEventData=function(e,a){te(a).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,a,i,o){var n=e.getData(),s=Vt(n,o);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=n.getLayout("points"),u=n.getItemGraphicEl(s);if(!u){var v=l[s*2],c=l[s*2+1];if(isNaN(v)||isNaN(c)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(v,c))return;var g=e.get("zlevel")||0,h=e.get("z")||0;u=new wt(n,s),u.x=v,u.y=c,u.setZ(g,h);var f=u.getSymbolPath().getTextContent();f&&(f.zlevel=g,f.z=h,f.z2=this._polyline.z2+1),u.__temp=!0,n.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else de.prototype.highlight.call(this,e,a,i,o)},t.prototype.downplay=function(e,a,i,o){var n=e.getData(),s=Vt(n,o);if(this._changePolyState("normal"),s!=null&&s>=0){var l=n.getItemGraphicEl(s);l&&(l.__temp?(n.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else de.prototype.downplay.call(this,e,a,i,o)},t.prototype._changePolyState=function(e){var a=this._polygon;Gt(this._polyline,e),a&&Gt(a,e)},t.prototype._newPolyline=function(e){var a=this._polyline;return a&&this._lineGroup.remove(a),a=new xi({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(a),this._polyline=a,a},t.prototype._newPolygon=function(e,a){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new Si({shape:{points:e,stackedOnPoints:a},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},t.prototype._initSymbolLabelAnimation=function(e,a,i){var o,n,s=a.getBaseAxis(),l=s.inverse;a.type==="cartesian2d"?(o=s.isHorizontal(),n=!1):a.type==="polar"&&(o=s.dim==="angle",n=!0);var u=e.hostModel,v=u.get("animationDuration");se(v)&&(v=v(null));var c=u.get("animationDelay")||0,g=se(c)?c(null):c;e.eachItemGraphicEl(function(h,f){var p=h;if(p){var d=[h.x,h.y],y=void 0,m=void 0,b=void 0;if(i)if(n){var A=i,w=a.pointToCoord(d);o?(y=A.startAngle,m=A.endAngle,b=-w[1]/180*Math.PI):(y=A.r0,m=A.r,b=w[0])}else{var x=i;o?(y=x.x,m=x.x+x.width,b=h.x):(y=x.y+x.height,m=x.y,b=h.y)}var L=m===y?0:(b-y)/(m-y);l&&(L=1-L);var S=se(c)?c(f):v*L+g,I=p.getSymbolPath(),T=I.getTextContent();p.attr({scaleX:0,scaleY:0}),p.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:S}),T&&T.animateFrom({style:{opacity:0}},{duration:300,delay:S}),I.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,a,i){var o=e.getModel("endLabel");if(Za(e)){var n=e.getData(),s=this._polyline,l=n.getLayout("points");if(!l){s.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new qe({z2:200}),u.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var v=Pi(l);v>=0&&(ke(s,Ae(e,"endLabel"),{inheritColor:i,labelFetcher:e,labelDataIndex:v,defaultText:function(c,g,h){return h!=null?za(n,h):Lt(n,c)},enableTextSetter:!0},ki(o,a)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,a,i,o,n,s,l){var u=this._endLabel,v=this._polyline;if(u){e<1&&o.originalX==null&&(o.originalX=u.x,o.originalY=u.y);var c=i.getLayout("points"),g=i.hostModel,h=g.get("connectNulls"),f=s.get("precision"),p=s.get("distance")||0,d=l.getBaseAxis(),y=d.isHorizontal(),m=d.inverse,b=a.shape,A=m?y?b.x:b.y+b.height:y?b.x+b.width:b.y,w=(y?p:0)*(m?-1:1),x=(y?0:-p)*(m?-1:1),L=y?"x":"y",S=Mi(c,A,L),I=S.range,T=I[1]-I[0],D=void 0;if(T>=1){if(T>1&&!h){var _=Qt(c,I[0]);u.attr({x:_[0]+w,y:_[1]+x}),n&&(D=g.getRawValue(I[0]))}else{var _=v.getPointOn(A,L);_&&u.attr({x:_[0]+w,y:_[1]+x});var C=g.getRawValue(I[0]),N=g.getRawValue(I[1]);n&&(D=dr(i,f,C,N,S.t))}o.lastFrameIndex=I[0]}else{var P=e===1||o.lastFrameIndex>0?I[0]:0,_=Qt(c,P);n&&(D=g.getRawValue(P)),u.attr({x:_[0]+w,y:_[1]+x})}if(n){var E=Ma(u);typeof E.setLabelText=="function"&&E.setLabelText(D)}}},t.prototype._doUpdateAnimation=function(e,a,i,o,n,s,l){var u=this._polyline,v=this._polygon,c=e.hostModel,g=bi(this._data,e,this._stackedOnPoints,a,this._coordSys,i,this._valueOrigin),h=g.current,f=g.stackedOnCurrent,p=g.next,d=g.stackedOnNext;if(n&&(h=ie(g.current,i,n,l),f=ie(g.stackedOnCurrent,i,n,l),p=ie(g.next,i,n,l),d=ie(g.stackedOnNext,i,n,l)),Jt(h,p)>3e3||v&&Jt(f,d)>3e3){u.stopAnimation(),u.setShape({points:p}),v&&(v.stopAnimation(),v.setShape({points:p,stackedOnPoints:d}));return}u.shape.__points=g.current,u.shape.points=h;var y={shape:{points:p}};g.current!==h&&(y.shape.__points=g.next),u.stopAnimation(),j(u,y,c),v&&(v.setShape({points:h,stackedOnPoints:f}),v.stopAnimation(),j(v,{shape:{stackedOnPoints:d}},c),u.shape.points!==v.shape.points&&(v.shape.points=u.shape.points));for(var m=[],b=g.status,A=0;A<b.length;A++){var w=b[A].cmd;if(w==="="){var x=e.getItemGraphicEl(b[A].idx1);x&&m.push({el:x,ptIdx:A})}}u.animators&&u.animators.length&&u.animators[0].during(function(){v&&v.dirtyShape();for(var L=u.shape.__points,S=0;S<m.length;S++){var I=m[S].el,T=m[S].ptIdx*2;I.x=L[T],I.y=L[T+1],I.markRedraw()}})},t.prototype.remove=function(e){var a=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(o,n){o.__temp&&(a.remove(o),i.setItemGraphicEl(n,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(de);const Ei=Ni;function Oi(r,t){return{seriesType:r,plan:br(),reset:function(e){var a=e.getData(),i=e.coordinateSystem,o=e.pipelineContext,n=t||o.large;if(i){var s=U(i.dimensions,function(h){return a.mapDimension(h)}).slice(0,2),l=s.length,u=a.getCalculationInfo("stackResultDimension");Fe(a,s[0])&&(s[0]=u),Fe(a,s[1])&&(s[1]=u);var v=a.getStore(),c=a.getDimensionIndex(s[0]),g=a.getDimensionIndex(s[1]);return l&&{progress:function(h,f){for(var p=h.end-h.start,d=n&&pe(p*l),y=[],m=[],b=h.start,A=0;b<h.end;b++){var w=void 0;if(l===1){var x=v.get(c,b);w=i.dataToPoint(x,null,m)}else y[0]=v.get(c,b),y[1]=v.get(g,b),w=i.dataToPoint(y,null,m);n?(d[A++]=w[0],d[A++]=w[1]):f.setItemLayout(b,w.slice())}n&&f.setLayout("points",d)}}}}}}var Ri={average:function(r){for(var t=0,e=0,a=0;a<r.length;a++)isNaN(r[a])||(t+=r[a],e++);return e===0?NaN:t/e},sum:function(r){for(var t=0,e=0;e<r.length;e++)t+=r[e]||0;return t},max:function(r){for(var t=-1/0,e=0;e<r.length;e++)r[e]>t&&(t=r[e]);return isFinite(t)?t:NaN},min:function(r){for(var t=1/0,e=0;e<r.length;e++)r[e]<t&&(t=r[e]);return isFinite(t)?t:NaN},nearest:function(r){return r[0]}},Vi=function(r){return Math.round(r.length/2)};function Xa(r){return{seriesType:r,reset:function(t,e,a){var i=t.getData(),o=t.get("sampling"),n=t.coordinateSystem,s=i.count();if(s>10&&n.type==="cartesian2d"&&o){var l=n.getBaseAxis(),u=n.getOtherAxis(l),v=l.getExtent(),c=a.getDevicePixelRatio(),g=Math.abs(v[1]-v[0])*(c||1),h=Math.round(s/g);if(isFinite(h)&&h>1){o==="lttb"&&t.setData(i.lttbDownSample(i.mapDimension(u.dim),1/h));var f=void 0;Ce(o)?f=Ri[o]:se(o)&&(f=o),f&&t.setData(i.downSample(i.mapDimension(u.dim),1/h,f,Vi))}}}}}function ho(r){r.registerChartView(Ei),r.registerSeriesModel(hi),r.registerLayout(Oi("line",!0)),r.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),a=t.getModel("lineStyle").getLineStyle();a&&!a.stroke&&(a.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",a)}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,Xa("line"))}var Ya=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,a){return dt(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,a,i){var o=this.coordinateSystem;if(o&&o.clampData){var n=o.clampData(e),s=o.dataToPoint(n);if(i)k(o.getAxes(),function(g,h){if(g.type==="category"&&a!=null){var f=g.getTicksCoords(),p=n[h],d=a[h]==="x1"||a[h]==="y1";if(d&&(p+=1),f.length<2)return;if(f.length===2){s[h]=g.toGlobalCoord(g.getExtent()[d?1:0]);return}for(var y=void 0,m=void 0,b=1,A=0;A<f.length;A++){var w=f[A].coord,x=A===f.length-1?f[A-1].tickValue+b:f[A].tickValue;if(x===p){m=w;break}else if(x<p)y=w;else if(y!=null&&x>p){m=(w+y)/2;break}A===1&&(b=x-f[0].tickValue)}m==null&&(y?y&&(m=f[f.length-1].coord):m=f[0].coord),s[h]=g.toGlobalCoord(m)}});else{var l=this.getData(),u=l.getLayout("offset"),v=l.getLayout("size"),c=o.getBaseAxis().isHorizontal()?0:1;s[c]+=u+v/2}return s}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(Me);Me.registerClass(Ya);const ea=Ya;var Gi=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(){return dt(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),a=this.get("largeThreshold");return a>e&&(e=a),e},t.prototype.brushSelector=function(e,a,i){return i.rect(a.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=xr(ea.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(ea);const Bi=Gi;var zi=function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r}(),Fi=function(r){O(t,r);function t(e){var a=r.call(this,e)||this;return a.type="sausage",a}return t.prototype.getDefaultShape=function(){return new zi},t.prototype.buildPath=function(e,a){var i=a.cx,o=a.cy,n=Math.max(a.r0||0,0),s=Math.max(a.r,0),l=(s-n)*.5,u=n+l,v=a.startAngle,c=a.endAngle,g=a.clockwise,h=Math.PI*2,f=g?c-v<h:v-c<h;f||(v=c-(g?h:-h));var p=Math.cos(v),d=Math.sin(v),y=Math.cos(c),m=Math.sin(c);f?(e.moveTo(p*n+i,d*n+o),e.arc(p*u+i,d*u+o,l,-Math.PI+v,v,!g)):e.moveTo(p*s+i,d*s+o),e.arc(i,o,s,v,c,!g),e.arc(y*u+i,m*u+o,l,c-Math.PI*2,c-Math.PI,!g),n!==0&&e.arc(i,o,n,c,v,g)},t}(Ye);const ta=Fi;function Wi(r,t){t=t||{};var e=t.isRoundCap;return function(a,i,o){var n=i.position;if(!n||n instanceof Array)return zt(a,i,o);var s=r(n),l=i.distance!=null?i.distance:5,u=this.shape,v=u.cx,c=u.cy,g=u.r,h=u.r0,f=(g+h)/2,p=u.startAngle,d=u.endAngle,y=(p+d)/2,m=e?Math.abs(g-h)/2:0,b=Math.cos,A=Math.sin,w=v+g*b(p),x=c+g*A(p),L="left",S="top";switch(s){case"startArc":w=v+(h-l)*b(y),x=c+(h-l)*A(y),L="center",S="top";break;case"insideStartArc":w=v+(h+l)*b(y),x=c+(h+l)*A(y),L="center",S="bottom";break;case"startAngle":w=v+f*b(p)+Oe(p,l+m,!1),x=c+f*A(p)+Re(p,l+m,!1),L="right",S="middle";break;case"insideStartAngle":w=v+f*b(p)+Oe(p,-l+m,!1),x=c+f*A(p)+Re(p,-l+m,!1),L="left",S="middle";break;case"middle":w=v+f*b(y),x=c+f*A(y),L="center",S="middle";break;case"endArc":w=v+(g+l)*b(y),x=c+(g+l)*A(y),L="center",S="bottom";break;case"insideEndArc":w=v+(g-l)*b(y),x=c+(g-l)*A(y),L="center",S="top";break;case"endAngle":w=v+f*b(d)+Oe(d,l+m,!0),x=c+f*A(d)+Re(d,l+m,!0),L="left",S="middle";break;case"insideEndAngle":w=v+f*b(d)+Oe(d,-l+m,!0),x=c+f*A(d)+Re(d,-l+m,!0),L="right",S="middle";break;default:return zt(a,i,o)}return a=a||{},a.x=w,a.y=x,a.align=L,a.verticalAlign=S,a}}function $i(r,t,e,a){if(ve(a)){r.setTextConfig({rotation:a});return}else if(q(t)){r.setTextConfig({rotation:0});return}var i=r.shape,o=i.clockwise?i.startAngle:i.endAngle,n=i.clockwise?i.endAngle:i.startAngle,s=(o+n)/2,l,u=e(t);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=o;break;case"endAngle":case"insideEndAngle":l=n;break;default:r.setTextConfig({rotation:0});return}var v=Math.PI*1.5-l;u==="middle"&&v>Math.PI/2&&v<Math.PI*1.5&&(v-=Math.PI),r.setTextConfig({rotation:v})}function Oe(r,t,e){return t*Math.sin(r)*(e?-1:1)}function Re(r,t,e){return t*Math.cos(r)*(e?1:-1)}function _e(r,t,e){var a=r.get("borderRadius");if(a==null)return e?{cornerRadius:0}:null;q(a)||(a=[a,a,a,a]);var i=Math.abs(t.r||0-t.r0||0);return{cornerRadius:U(a,function(o){return Ar(o,i)})}}var at=Math.max,rt=Math.min;function Hi(r,t){var e=r.getArea&&r.getArea();if(Dt(r,"cartesian2d")){var a=r.getBaseAxis();if(a.type!=="category"||!a.onBand){var i=t.getLayout("bandWidth");a.isHorizontal()?(e.x-=i,e.width+=i*2):(e.y-=i,e.height+=i*2)}}return e}var Ui=function(r){O(t,r);function t(){var e=r.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return t.prototype.render=function(e,a,i,o){this._model=e,this._removeOnRenderedListener(i),this._updateDrawMode(e);var n=e.get("coordinateSystem");(n==="cartesian2d"||n==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,a,i):this._renderNormal(e,a,i,o))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,a){this._progressiveEls=[],this._incrementalRenderLarge(e,a)},t.prototype.eachRendered=function(e){Pa(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var a=e.pipelineContext.large;(this._isLargeDraw==null||a!==this._isLargeDraw)&&(this._isLargeDraw=a,this._clear())},t.prototype._renderNormal=function(e,a,i,o){var n=this.group,s=e.getData(),l=this._data,u=e.coordinateSystem,v=u.getBaseAxis(),c;u.type==="cartesian2d"?c=v.isHorizontal():u.type==="polar"&&(c=v.dim==="angle");var g=e.isAnimationEnabled()?e:null,h=Zi(e,u);h&&this._enableRealtimeSort(h,s,i);var f=e.get("clip",!0)||h,p=Hi(u,s);n.removeClipPath();var d=e.get("roundCap",!0),y=e.get("showBackground",!0),m=e.getModel("backgroundStyle"),b=m.get("borderRadius")||0,A=[],w=this._backgroundEls,x=o&&o.isInitSort,L=o&&o.type==="changeAxisOrder";function S(D){var _=Ve[u.type](s,D),C=Qi(u,c,_);return C.useStyle(m.getItemStyle()),u.type==="cartesian2d"?C.setShape("r",b):C.setShape("cornerRadius",b),A[D]=C,C}s.diff(l).add(function(D){var _=s.getItemModel(D),C=Ve[u.type](s,D,_);if(y&&S(D),!(!s.hasValue(D)||!oa[u.type](C))){var N=!1;f&&(N=aa[u.type](p,C));var P=ra[u.type](e,s,D,C,c,g,v.model,!1,d);h&&(P.forceLabelAnimation=!0),sa(P,s,D,_,C,e,c,u.type==="polar"),x?P.attr({shape:C}):h?ia(h,g,P,C,D,c,!1,!1):Y(P,{shape:C},e,D),s.setItemGraphicEl(D,P),n.add(P),P.ignore=N}}).update(function(D,_){var C=s.getItemModel(D),N=Ve[u.type](s,D,C);if(y){var P=void 0;w.length===0?P=S(_):(P=w[_],P.useStyle(m.getItemStyle()),u.type==="cartesian2d"?P.setShape("r",b):P.setShape("cornerRadius",b),A[D]=P);var E=Ve[u.type](s,D),V=ja(c,E,u);j(P,{shape:V},g,D)}var M=l.getItemGraphicEl(_);if(!s.hasValue(D)||!oa[u.type](N)){n.remove(M);return}var R=!1;if(f&&(R=aa[u.type](p,N),R&&n.remove(M)),M?Te(M):M=ra[u.type](e,s,D,N,c,g,v.model,!!M,d),h&&(M.forceLabelAnimation=!0),L){var H=M.getTextContent();if(H){var F=Ma(H);F.prevValue!=null&&(F.prevValue=F.value)}}else sa(M,s,D,C,N,e,c,u.type==="polar");x?M.attr({shape:N}):h?ia(h,g,M,N,D,c,!0,L):j(M,{shape:N},e,D,null),s.setItemGraphicEl(D,M),M.ignore=R,n.add(M)}).remove(function(D){var _=l.getItemGraphicEl(D);_&&lt(_,e,D)}).execute();var I=this._backgroundGroup||(this._backgroundGroup=new K);I.removeAll();for(var T=0;T<A.length;++T)I.add(A[T]);n.add(I),this._backgroundEls=A,this._data=s},t.prototype._renderLarge=function(e,a,i){this._clear(),ua(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,a){this._removeBackground(),ua(a,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var a=e.get("clip",!0)&&Li(e.coordinateSystem,!1,e),i=this.group;a?i.setClipPath(a):i.removeClipPath()},t.prototype._enableRealtimeSort=function(e,a,i){var o=this;if(a.count()){var n=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(a,e,i),this._isFirstFrame=!1;else{var s=function(l){var u=a.getItemGraphicEl(l),v=u&&u.shape;return v&&Math.abs(n.isHorizontal()?v.height:v.width)||0};this._onRendered=function(){o._updateSortWithinSameData(a,s,n,i)},i.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,a,i){var o=[];return e.each(e.mapDimension(a.dim),function(n,s){var l=i(s);l=l==null?NaN:l,o.push({dataIndex:s,mappedValue:l,ordinalNumber:n})}),o.sort(function(n,s){return s.mappedValue-n.mappedValue}),{ordinalNumbers:U(o,function(n){return n.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,a,i){for(var o=i.scale,n=e.mapDimension(i.dim),s=Number.MAX_VALUE,l=0,u=o.getOrdinalMeta().categories.length;l<u;++l){var v=e.rawIndexOf(n,o.getRawOrdinalNumber(l)),c=v<0?Number.MIN_VALUE:a(e.indexOfRawIndex(v));if(c>s)return!0;s=c}return!1},t.prototype._isOrderDifferentInView=function(e,a){for(var i=a.scale,o=i.getExtent(),n=Math.max(0,o[0]),s=Math.min(o[1],i.getOrdinalMeta().categories.length-1);n<=s;++n)if(e.ordinalNumbers[n]!==i.getRawOrdinalNumber(n))return!0},t.prototype._updateSortWithinSameData=function(e,a,i,o){if(this._isOrderChangedWithinSameData(e,a,i)){var n=this._dataSort(e,i,a);this._isOrderDifferentInView(n,i)&&(this._removeOnRenderedListener(o),o.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:n}))}},t.prototype._dispatchInitSort=function(e,a,i){var o=a.baseAxis,n=this._dataSort(e,o,function(s){return e.get(e.mapDimension(a.otherAxis.dim),s)});i.dispatchAction({type:"changeAxisOrder",componentType:o.dim+"Axis",isInitSort:!0,axisId:o.index,sortInfo:n})},t.prototype.remove=function(e,a){this._clear(this._model),this._removeOnRenderedListener(a)},t.prototype.dispose=function(e,a){this._removeOnRenderedListener(a)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var a=this.group,i=this._data;e&&e.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(o){lt(o,e,te(o).dataIndex)})):a.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(de),aa={cartesian2d:function(r,t){var e=t.width<0?-1:1,a=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),a<0&&(t.y+=t.height,t.height=-t.height);var i=r.x+r.width,o=r.y+r.height,n=at(t.x,r.x),s=rt(t.x+t.width,i),l=at(t.y,r.y),u=rt(t.y+t.height,o),v=s<n,c=u<l;return t.x=v&&n>i?s:n,t.y=c&&l>o?u:l,t.width=v?0:s-n,t.height=c?0:u-l,e<0&&(t.x+=t.width,t.width=-t.width),a<0&&(t.y+=t.height,t.height=-t.height),v||c},polar:function(r,t){var e=t.r0<=t.r?1:-1;if(e<0){var a=t.r;t.r=t.r0,t.r0=a}var i=rt(t.r,r.r),o=at(t.r0,r.r0);t.r=i,t.r0=o;var n=i-o<0;if(e<0){var a=t.r;t.r=t.r0,t.r0=a}return n}},ra={cartesian2d:function(r,t,e,a,i,o,n,s,l){var u=new Ne({shape:Z({},a),z2:1});if(u.__dataIndex=e,u.name="item",o){var v=u.shape,c=i?"height":"width";v[c]=0}return u},polar:function(r,t,e,a,i,o,n,s,l){var u=!i&&l?ta:Ee,v=new u({shape:a,z2:1});v.name="item";var c=qa(i);if(v.calculateTextPosition=Wi(c,{isRoundCap:u===ta}),o){var g=v.shape,h=i?"r":"endAngle",f={};g[h]=i?a.r0:a.startAngle,f[h]=a[h],(s?j:Y)(v,{shape:f},o)}return v}};function Zi(r,t){var e=r.get("realtimeSort",!0),a=t.getBaseAxis();if(e&&a.type==="category"&&t.type==="cartesian2d")return{baseAxis:a,otherAxis:t.getOtherAxis(a)}}function ia(r,t,e,a,i,o,n,s){var l,u;o?(u={x:a.x,width:a.width},l={y:a.y,height:a.height}):(u={y:a.y,height:a.height},l={x:a.x,width:a.width}),s||(n?j:Y)(e,{shape:l},t,i,null);var v=t?r.baseAxis.model:null;(n?j:Y)(e,{shape:u},v,i)}function na(r,t){for(var e=0;e<t.length;e++)if(!isFinite(r[t[e]]))return!0;return!1}var Xi=["x","y","width","height"],Yi=["cx","cy","r","startAngle","endAngle"],oa={cartesian2d:function(r){return!na(r,Xi)},polar:function(r){return!na(r,Yi)}},Ve={cartesian2d:function(r,t,e){var a=r.getItemLayout(t),i=e?ji(e,a):0,o=a.width>0?1:-1,n=a.height>0?1:-1;return{x:a.x+o*i/2,y:a.y+n*i/2,width:a.width-o*i,height:a.height-n*i}},polar:function(r,t,e){var a=r.getItemLayout(t);return{cx:a.cx,cy:a.cy,r0:a.r0,r:a.r,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}}};function qi(r){return r.startAngle!=null&&r.endAngle!=null&&r.startAngle===r.endAngle}function qa(r){return function(t){var e=t?"Arc":"Angle";return function(a){switch(a){case"start":case"insideStart":case"end":case"insideEnd":return a+e;default:return a}}}(r)}function sa(r,t,e,a,i,o,n,s){var l=t.getItemVisual(e,"style");if(s){if(!o.get("roundCap")){var v=r.shape,c=_e(a.getModel("itemStyle"),v,!0);Z(v,c),r.setShape(v)}}else{var u=a.get(["itemStyle","borderRadius"])||0;r.setShape("r",u)}r.useStyle(l);var g=a.getShallow("cursor");g&&r.attr("cursor",g);var h=s?n?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":n?i.height>=0?"bottom":"top":i.width>=0?"right":"left",f=Ae(a);ke(r,f,{labelFetcher:o,labelDataIndex:e,defaultText:Lt(o.getData(),e),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:h});var p=r.getTextContent();if(s&&p){var d=a.get(["label","position"]);r.textConfig.inside=d==="middle"?!0:null,$i(r,d==="outside"?h:d,qa(n),a.get(["label","rotate"]))}Sr(p,f,o.getRawValue(e),function(m){return za(t,m)});var y=a.getModel(["emphasis"]);ye(r,y.get("focus"),y.get("blurScope"),y.get("disabled")),be(r,a),qi(i)&&(r.style.fill="none",r.style.stroke="none",k(r.states,function(m){m.style&&(m.style.fill=m.style.stroke="none")}))}function ji(r,t){var e=r.get(["itemStyle","borderColor"]);if(!e||e==="none")return 0;var a=r.get(["itemStyle","borderWidth"])||0,i=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),o=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(a,i,o)}var Ji=function(){function r(){}return r}(),la=function(r){O(t,r);function t(e){var a=r.call(this,e)||this;return a.type="largeBar",a}return t.prototype.getDefaultShape=function(){return new Ji},t.prototype.buildPath=function(e,a){for(var i=a.points,o=this.baseDimIdx,n=1-this.baseDimIdx,s=[],l=[],u=this.barWidth,v=0;v<i.length;v+=3)l[o]=u,l[n]=i[v+2],s[o]=i[v+o],s[n]=i[v+n],e.rect(s[0],s[1],l[0],l[1])},t}(Ye);function ua(r,t,e,a){var i=r.getData(),o=i.getLayout("valueAxisHorizontal")?1:0,n=i.getLayout("largeDataIndices"),s=i.getLayout("size"),l=r.getModel("backgroundStyle"),u=i.getLayout("largeBackgroundPoints");if(u){var v=new la({shape:{points:u},incremental:!!a,silent:!0,z2:0});v.baseDimIdx=o,v.largeDataIndices=n,v.barWidth=s,v.useStyle(l.getItemStyle()),t.add(v),e&&e.push(v)}var c=new la({shape:{points:i.getLayout("largePoints")},incremental:!!a,ignoreCoarsePointer:!0,z2:1});c.baseDimIdx=o,c.largeDataIndices=n,c.barWidth=s,t.add(c),c.useStyle(i.getVisual("style")),te(c).seriesIndex=r.seriesIndex,r.get("silent")||(c.on("mousedown",va),c.on("mousemove",va)),e&&e.push(c)}var va=Lr(function(r){var t=this,e=Ki(t,r.offsetX,r.offsetY);te(t).dataIndex=e>=0?e:null},30,!1);function Ki(r,t,e){for(var a=r.baseDimIdx,i=1-a,o=r.shape.points,n=r.largeDataIndices,s=[],l=[],u=r.barWidth,v=0,c=o.length/3;v<c;v++){var g=v*3;if(l[a]=u,l[i]=o[g+2],s[a]=o[g+a],s[i]=o[g+i],l[i]<0&&(s[i]+=l[i],l[i]=-l[i]),t>=s[0]&&t<=s[0]+l[0]&&e>=s[1]&&e<=s[1]+l[1])return n[v]}return-1}function ja(r,t,e){if(Dt(e,"cartesian2d")){var a=t,i=e.getArea();return{x:r?a.x:i.x,y:r?i.y:a.y,width:r?a.width:i.width,height:r?i.height:a.height}}else{var i=e.getArea(),o=t;return{cx:i.cx,cy:i.cy,r0:r?i.r0:o.r0,r:r?i.r:o.r,startAngle:r?o.startAngle:0,endAngle:r?o.endAngle:Math.PI*2}}}function Qi(r,t,e){var a=r.type==="polar"?Ee:Ne;return new a({shape:ja(t,e,r),silent:!0,z2:0})}const en=Ui;function fo(r){r.registerChartView(en),r.registerSeriesModel(Bi),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,me(wr,"bar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Dr("bar")),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,Xa("bar")),r.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){var a=t.componentType||"series";e.eachComponent({mainType:a,query:t},function(i){t.sortInfo&&i.axis.setCategorySortInfo(t.sortInfo)})})}var Ge=Math.PI*2,ca=Math.PI/180;function Ja(r,t){return ka(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function Ka(r,t){var e=Ja(r,t),a=r.get("center"),i=r.get("radius");q(i)||(i=[0,i]);var o=X(e.width,t.getWidth()),n=X(e.height,t.getHeight()),s=Math.min(o,n),l=X(i[0],s/2),u=X(i[1],s/2),v,c,g=r.coordinateSystem;if(g){var h=g.dataToPoint(a);v=h[0]||0,c=h[1]||0}else q(a)||(a=[a,a]),v=X(a[0],o)+e.x,c=X(a[1],n)+e.y;return{cx:v,cy:c,r0:l,r:u}}function tn(r,t,e){t.eachSeriesByType(r,function(a){var i=a.getData(),o=i.mapDimension("value"),n=Ja(a,e),s=Ka(a,e),l=s.cx,u=s.cy,v=s.r,c=s.r0,g=-a.get("startAngle")*ca,h=a.get("minAngle")*ca,f=0;i.each(o,function(T){!isNaN(T)&&f++});var p=i.getSum(o),d=Math.PI/(p||f)*2,y=a.get("clockwise"),m=a.get("roseType"),b=a.get("stillShowZeroSum"),A=i.getDataExtent(o);A[0]=0;var w=Ge,x=0,L=g,S=y?1:-1;if(i.setLayout({viewRect:n,r:v}),i.each(o,function(T,D){var _;if(isNaN(T)){i.setItemLayout(D,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:y,cx:l,cy:u,r0:c,r:m?NaN:v});return}m!=="area"?_=p===0&&b?d:T*d:_=Ge/f,_<h?(_=h,w-=h):x+=T;var C=L+S*_;i.setItemLayout(D,{angle:_,startAngle:L,endAngle:C,clockwise:y,cx:l,cy:u,r0:c,r:m?_r(T,A,[c,v]):v}),L=C}),w<Ge&&f)if(w<=.001){var I=Ge/f;i.each(o,function(T,D){if(!isNaN(T)){var _=i.getItemLayout(D);_.angle=I,_.startAngle=g+S*D*I,_.endAngle=g+S*(D+1)*I}})}else d=w/x,L=g,i.each(o,function(T,D){if(!isNaN(T)){var _=i.getItemLayout(D),C=_.angle===h?h:T*d;_.startAngle=L,_.endAngle=L+S*C,L+=S*C}})})}function Qa(r){return{seriesType:r,reset:function(t,e){var a=e.findComponents({mainType:"legend"});if(!(!a||!a.length)){var i=t.getData();i.filterSelf(function(o){for(var n=i.getName(o),s=0;s<a.length;s++)if(!a[s].isSelected(n))return!1;return!0})}}}}var an=Math.PI/180;function ha(r,t,e,a,i,o,n,s,l,u){if(r.length<2)return;function v(p){for(var d=p.rB,y=d*d,m=0;m<p.list.length;m++){var b=p.list[m],A=Math.abs(b.label.y-e),w=a+b.len,x=w*w,L=Math.sqrt((1-Math.abs(A*A/y))*x),S=t+(L+b.len2)*i,I=S-b.label.x,T=b.targetTextWidth-I*i;er(b,T,!0),b.label.x=S}}function c(p){for(var d={list:[],maxY:0},y={list:[],maxY:0},m=0;m<p.length;m++)if(p[m].labelAlignTo==="none"){var b=p[m],A=b.label.y>e?y:d,w=Math.abs(b.label.y-e);if(w>=A.maxY){var x=b.label.x-t-b.len2*i,L=a+b.len,S=Math.abs(x)<L?Math.sqrt(w*w/(1-x*x/L/L)):L;A.rB=S,A.maxY=w}A.list.push(b)}v(d),v(y)}for(var g=r.length,h=0;h<g;h++)if(r[h].position==="outer"&&r[h].labelAlignTo==="labelLine"){var f=r[h].label.x-u;r[h].linePoints[1][0]+=f,r[h].label.x=u}Cr(r,l,l+n)&&c(r)}function rn(r,t,e,a,i,o,n,s){for(var l=[],u=[],v=Number.MAX_VALUE,c=-Number.MAX_VALUE,g=0;g<r.length;g++){var h=r[g].label;it(r[g])||(h.x<t?(v=Math.min(v,h.x),l.push(r[g])):(c=Math.max(c,h.x),u.push(r[g])))}for(var g=0;g<r.length;g++){var f=r[g];if(!it(f)&&f.linePoints){if(f.labelStyleWidth!=null)continue;var h=f.label,p=f.linePoints,d=void 0;f.labelAlignTo==="edge"?h.x<t?d=p[2][0]-f.labelDistance-n-f.edgeDistance:d=n+i-f.edgeDistance-p[2][0]-f.labelDistance:f.labelAlignTo==="labelLine"?h.x<t?d=v-n-f.bleedMargin:d=n+i-c-f.bleedMargin:h.x<t?d=h.x-n-f.bleedMargin:d=n+i-h.x-f.bleedMargin,f.targetTextWidth=d,er(f,d)}}ha(u,t,e,a,1,i,o,n,s,c),ha(l,t,e,a,-1,i,o,n,s,v);for(var g=0;g<r.length;g++){var f=r[g];if(!it(f)&&f.linePoints){var h=f.label,p=f.linePoints,y=f.labelAlignTo==="edge",m=h.style.padding,b=m?m[1]+m[3]:0,A=h.style.backgroundColor?0:b,w=f.rect.width+A,x=p[1][0]-p[2][0];y?h.x<t?p[2][0]=n+f.edgeDistance+w+f.labelDistance:p[2][0]=n+i-f.edgeDistance-w-f.labelDistance:(h.x<t?p[2][0]=h.x+f.labelDistance:p[2][0]=h.x-f.labelDistance,p[1][0]=p[2][0]+x),p[1][1]=p[2][1]=h.y}}}function er(r,t,e){if(e===void 0&&(e=!1),r.labelStyleWidth==null){var a=r.label,i=a.style,o=r.rect,n=i.backgroundColor,s=i.padding,l=s?s[1]+s[3]:0,u=i.overflow,v=o.width+(n?0:l);if(t<v||e){var c=o.height;if(u&&u.match("break")){a.setStyle("backgroundColor",null),a.setStyle("width",t-l);var g=a.getBoundingRect();a.setStyle("width",Math.ceil(g.width)),a.setStyle("backgroundColor",n)}else{var h=t-l,f=t<v?h:e?h>r.unconstrainedWidth?null:h:null;a.setStyle("width",f)}var p=a.getBoundingRect();o.width=p.width;var d=(a.style.margin||0)+2.1;o.height=p.height+d,o.y-=(o.height-c)/2}}}function it(r){return r.position==="center"}function nn(r){var t=r.getData(),e=[],a,i,o=!1,n=(r.get("minShowLabelAngle")||0)*an,s=t.getLayout("viewRect"),l=t.getLayout("r"),u=s.width,v=s.x,c=s.y,g=s.height;function h(x){x.ignore=!0}function f(x){if(!x.ignore)return!0;for(var L in x.states)if(x.states[L].ignore===!1)return!0;return!1}t.each(function(x){var L=t.getItemGraphicEl(x),S=L.shape,I=L.getTextContent(),T=L.getTextGuideLine(),D=t.getItemModel(x),_=D.getModel("label"),C=_.get("position")||D.get(["emphasis","label","position"]),N=_.get("distanceToLabelLine"),P=_.get("alignTo"),E=X(_.get("edgeDistance"),u),V=_.get("bleedMargin"),M=D.getModel("labelLine"),R=M.get("length");R=X(R,u);var H=M.get("length2");if(H=X(H,u),Math.abs(S.endAngle-S.startAngle)<n){k(I.states,h),I.ignore=!0,T&&(k(T.states,h),T.ignore=!0);return}if(f(I)){var F=(S.startAngle+S.endAngle)/2,B=Math.cos(F),G=Math.sin(F),W,Q,z,ce;a=S.cx,i=S.cy;var he=C==="inside"||C==="inner";if(C==="center")W=S.cx,Q=S.cy,ce="center";else{var je=(he?(S.r+S.r0)/2*B:S.r*B)+a,Je=(he?(S.r+S.r0)/2*G:S.r*G)+i;if(W=je+B*3,Q=Je+G*3,!he){var It=je+B*(R+l-S.r),Tt=Je+G*(R+l-S.r),Ct=It+(B<0?-1:1)*H,Pt=Tt;P==="edge"?W=B<0?v+E:v+u-E:W=Ct+(B<0?-N:N),Q=Pt,z=[[je,Je],[It,Tt],[Ct,Pt]]}ce=he?"center":P==="edge"?B>0?"right":"left":B>0?"left":"right"}var Se=Math.PI,fe=0,Le=_.get("rotate");if(ve(Le))fe=Le*(Se/180);else if(C==="center")fe=0;else if(Le==="radial"||Le===!0){var cr=B<0?-F+Se:-F;fe=cr}else if(Le==="tangential"&&C!=="outside"&&C!=="outer"){var ge=Math.atan2(B,G);ge<0&&(ge=Se*2+ge);var hr=G>0;hr&&(ge=Se+ge),fe=ge-Se}if(o=!!fe,I.x=W,I.y=Q,I.rotation=fe,I.setStyle({verticalAlign:"middle"}),he){I.setStyle({align:ce});var Ke=I.states.select;Ke&&(Ke.x+=I.x,Ke.y+=I.y)}else{var we=I.getBoundingRect().clone();we.applyTransform(I.getComputedTransform());var Mt=(I.style.margin||0)+2.1;we.y-=Mt/2,we.height+=Mt,e.push({label:I,labelLine:T,position:C,len:R,len2:H,minTurnAngle:M.get("minTurnAngle"),maxSurfaceAngle:M.get("maxSurfaceAngle"),surfaceNormal:new Ft(B,G),linePoints:z,textAlign:ce,labelDistance:N,labelAlignTo:P,edgeDistance:E,bleedMargin:V,rect:we,unconstrainedWidth:we.width,labelStyleWidth:I.style.width})}L.setTextConfig({inside:he})}}),!o&&r.get("avoidLabelOverlap")&&rn(e,a,i,l,u,g,v,c);for(var p=0;p<e.length;p++){var d=e[p],y=d.label,m=d.labelLine,b=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:d.textAlign}),b&&(k(y.states,h),y.ignore=!0);var A=y.states.select;A&&(A.x+=y.x,A.y+=y.y)}if(m){var w=d.linePoints;b||!w?(k(m.states,h),m.ignore=!0):(Ir(w,d.minTurnAngle),Tr(w,d.surfaceNormal,d.maxSurfaceAngle),m.setShape({points:w}),y.__hostTarget.textGuideLineConfig={anchor:new Ft(w[0][0],w[0][1])})}}}var on=function(r){O(t,r);function t(e,a,i){var o=r.call(this)||this;o.z2=2;var n=new qe;return o.setTextContent(n),o.updateData(e,a,i,!0),o}return t.prototype.updateData=function(e,a,i,o){var n=this,s=e.hostModel,l=e.getItemModel(a),u=l.getModel("emphasis"),v=e.getItemLayout(a),c=Z(_e(l.getModel("itemStyle"),v,!0),v);if(isNaN(c.startAngle)){n.setShape(c);return}if(o){n.setShape(c);var g=s.getShallow("animationType");s.ecModel.ssr?(Y(n,{scaleX:0,scaleY:0},s,{dataIndex:a,isFrom:!0}),n.originX=c.cx,n.originY=c.cy):g==="scale"?(n.shape.r=v.r0,Y(n,{shape:{r:v.r}},s,a)):i!=null?(n.setShape({startAngle:i,endAngle:i}),Y(n,{shape:{startAngle:v.startAngle,endAngle:v.endAngle}},s,a)):(n.shape.endAngle=v.startAngle,j(n,{shape:{endAngle:v.endAngle}},s,a))}else Te(n),j(n,{shape:c},s,a);n.useStyle(e.getItemVisual(a,"style")),be(n,l);var h=(v.startAngle+v.endAngle)/2,f=s.get("selectedOffset"),p=Math.cos(h)*f,d=Math.sin(h)*f,y=l.getShallow("cursor");y&&n.attr("cursor",y),this._updateLabel(s,e,a),n.ensureState("emphasis").shape=Z({r:v.r+(u.get("scale")&&u.get("scaleSize")||0)},_e(u.getModel("itemStyle"),v)),Z(n.ensureState("select"),{x:p,y:d,shape:_e(l.getModel(["select","itemStyle"]),v)}),Z(n.ensureState("blur"),{shape:_e(l.getModel(["blur","itemStyle"]),v)});var m=n.getTextGuideLine(),b=n.getTextContent();m&&Z(m.ensureState("select"),{x:p,y:d}),Z(b.ensureState("select"),{x:p,y:d}),ye(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(e,a,i){var o=this,n=a.getItemModel(i),s=n.getModel("labelLine"),l=a.getItemVisual(i,"style"),u=l&&l.fill,v=l&&l.opacity;ke(o,Ae(n),{labelFetcher:a.hostModel,labelDataIndex:i,inheritColor:u,defaultOpacity:v,defaultText:e.getFormattedLabel(i,"normal")||a.getName(i)});var c=o.getTextContent();o.setTextConfig({position:null,rotation:null}),c.attr({z2:10});var g=e.get(["label","position"]);if(g!=="outside"&&g!=="outer")o.removeTextGuideLine();else{var h=this.getTextGuideLine();h||(h=new yt,this.setTextGuideLine(h)),Pr(this,kr(n),{stroke:u,opacity:Mr(s.get(["lineStyle","opacity"]),v,1)})}},t}(Ee),sn=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return t.prototype.render=function(e,a,i,o){var n=e.getData(),s=this._data,l=this.group,u;if(!s&&n.count()>0){for(var v=n.getItemLayout(0),c=1;isNaN(v&&v.startAngle)&&c<n.count();++c)v=n.getItemLayout(c);v&&(u=v.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),n.count()===0&&e.get("showEmptyCircle")){var g=new Ee({shape:Ka(e,i)});g.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=g,l.add(g)}n.diff(s).add(function(h){var f=new on(n,h,u);n.setItemGraphicEl(h,f),l.add(f)}).update(function(h,f){var p=s.getItemGraphicEl(f);p.updateData(n,h,u),p.off("click"),l.add(p),n.setItemGraphicEl(h,p)}).remove(function(h){var f=s.getItemGraphicEl(h);lt(f,e,h)}).execute(),nn(e),e.get("animationTypeUpdate")!=="expansion"&&(this._data=n)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,a){var i=a.getData(),o=i.getItemLayout(0);if(o){var n=e[0]-o.cx,s=e[1]-o.cy,l=Math.sqrt(n*n+s*s);return l<=o.r&&l>=o.r0}},t.type="pie",t}(de);const ln=sn;function tr(r,t,e){t=q(t)&&{coordDimensions:t}||Z({encodeDefine:r.getEncode()},t);var a=r.getSource(),i=Nr(a,t).dimensions,o=new Er(i,r);return o.initData(a,e),o}var un=function(){function r(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return r.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},r.prototype.containName=function(t){var e=this._getRawData();return e.indexOfName(t)>=0},r.prototype.indexOfName=function(t){var e=this._getDataWithEncodedVisual();return e.indexOfName(t)},r.prototype.getItemVisual=function(t,e){var a=this._getDataWithEncodedVisual();return a.getItemVisual(t,e)},r}();const ar=un;var vn=Na(),cn=function(r){O(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new ar(We(this.getData,this),We(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.mergeOption=function(){r.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return tr(this,{coordDimensions:["value"],encodeDefaulter:me(Or,this)})},t.prototype.getDataParams=function(e){var a=this.getData(),i=vn(a),o=i.seats;if(!o){var n=[];a.each(a.mapDimension("value"),function(l){n.push(l)}),o=i.seats=Rr(n,a.hostModel.get("percentPrecision"))}var s=r.prototype.getDataParams.call(this,e);return s.percent=o[e]||0,s.$vars.push("percent"),s},t.prototype._defaultLabelLine=function(e){Vr(e,"labelLine",["show"]);var a=e.labelLine,i=e.emphasis.labelLine;a.show=a.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(Me);const hn=cn;function fn(r){return{seriesType:r,reset:function(t,e){var a=t.getData();a.filterSelf(function(i){var o=a.mapDimension("value"),n=a.get(o,i);return!(ve(n)&&!isNaN(n)&&n<0)})}}}function go(r){r.registerChartView(ln),r.registerSeriesModel(hn),Gr("pie",r.registerAction),r.registerLayout(me(tn,"pie")),r.registerProcessor(Qa("pie")),r.registerProcessor(fn("pie"))}var gn=function(r){O(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(bt);const pn=gn;var ht=function(r){O(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",$e).models[0]},t.type="cartesian2dAxis",t}(bt);Ea(ht,Oa);var rr={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},dn=ee({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},rr),_t=ee({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},rr),mn=ee({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},_t),yn=$({logBase:10},_t);const ir={category:dn,value:_t,time:mn,log:yn};var bn={value:1,category:1,time:1,log:1};function fa(r,t,e,a){k(bn,function(i,o){var n=ee(ee({},ir[o],!0),a,!0),s=function(l){O(u,l);function u(){var v=l!==null&&l.apply(this,arguments)||this;return v.type=t+"Axis."+o,v}return u.prototype.mergeDefaultAndTheme=function(v,c){var g=Br(this),h=g?zr(v):{},f=c.getTheme();ee(v,f.get(o+"Axis")),ee(v,this.getDefaultOption()),v.type=ga(v),g&&Fr(v,h,g)},u.prototype.optionUpdated=function(){var v=this.option;v.type==="category"&&(this.__ordinalMeta=Wr.createByAxisModel(this))},u.prototype.getCategories=function(v){var c=this.option;if(c.type==="category")return v?c.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=t+"Axis."+o,u.defaultOption=n,u}(e);r.registerComponentModel(s)}),r.registerSubTypeDefaulter(t+"Axis",ga)}function ga(r){return r.type||(r.data?"category":"value")}var xn=function(){function r(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return r.prototype.getAxis=function(t){return this._axes[t]},r.prototype.getAxes=function(){return U(this._dimList,function(t){return this._axes[t]},this)},r.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),$r(this.getAxes(),function(e){return e.scale.type===t})},r.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},r}();const An=xn;var ft=["x","y"];function pa(r){return r.type==="interval"||r.type==="time"}var Sn=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=ft,e}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,a=this.getAxis("y").scale;if(!(!pa(e)||!pa(a))){var i=e.getExtent(),o=a.getExtent(),n=this.dataToPoint([i[0],o[0]]),s=this.dataToPoint([i[1],o[1]]),l=i[1]-i[0],u=o[1]-o[0];if(!(!l||!u)){var v=(s[0]-n[0])/l,c=(s[1]-n[1])/u,g=n[0]-i[0]*v,h=n[1]-o[0]*c,f=this._transform=[v,0,0,c,g,h];this._invTransform=Hr([],f)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var a=this.getAxis("x"),i=this.getAxis("y");return a.contain(a.toLocalCoord(e[0]))&&i.contain(i.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,a){var i=this.dataToPoint(e),o=this.dataToPoint(a),n=this.getArea(),s=new Wt(i[0],i[1],o[0]-i[0],o[1]-i[1]);return n.intersect(s)},t.prototype.dataToPoint=function(e,a,i){i=i||[];var o=e[0],n=e[1];if(this._transform&&o!=null&&isFinite(o)&&n!=null&&isFinite(n))return xe(i,e,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return i[0]=s.toGlobalCoord(s.dataToCoord(o,a)),i[1]=l.toGlobalCoord(l.dataToCoord(n,a)),i},t.prototype.clampData=function(e,a){var i=this.getAxis("x").scale,o=this.getAxis("y").scale,n=i.getExtent(),s=o.getExtent(),l=i.parse(e[0]),u=o.parse(e[1]);return a=a||[],a[0]=Math.min(Math.max(Math.min(n[0],n[1]),l),Math.max(n[0],n[1])),a[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),a},t.prototype.pointToData=function(e,a){var i=[];if(this._invTransform)return xe(i,e,this._invTransform);var o=this.getAxis("x"),n=this.getAxis("y");return i[0]=o.coordToData(o.toLocalCoord(e[0]),a),i[1]=n.coordToData(n.toLocalCoord(e[1]),a),i},t.prototype.getOtherAxis=function(e){return this.getAxis(e.dim==="x"?"y":"x")},t.prototype.getArea=function(){var e=this.getAxis("x").getGlobalExtent(),a=this.getAxis("y").getGlobalExtent(),i=Math.min(e[0],e[1]),o=Math.min(a[0],a[1]),n=Math.max(e[0],e[1])-i,s=Math.max(a[0],a[1])-o;return new Wt(i,o,n,s)},t}(An),Ln=function(r){O(t,r);function t(e,a,i,o,n){var s=r.call(this,e,a,i)||this;return s.index=0,s.type=o||"value",s.position=n||"bottom",s}return t.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},t.prototype.getGlobalExtent=function(e){var a=this.getExtent();return a[0]=this.toGlobalCoord(a[0]),a[1]=this.toGlobalCoord(a[1]),e&&a[0]>a[1]&&a.reverse(),a},t.prototype.pointToData=function(e,a){return this.coordToData(this.toLocalCoord(e[this.dim==="x"?0:1]),a)},t.prototype.setCategorySortInfo=function(e){if(this.type!=="category")return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(Ra);const wn=Ln;function Dn(r,t,e){e=e||{};var a=r.coordinateSystem,i=t.axis,o={},n=i.getAxesOnZeroOf()[0],s=i.position,l=n?"onZero":s,u=i.dim,v=a.getRect(),c=[v.x,v.x+v.width,v.y,v.y+v.height],g={left:0,right:1,top:0,bottom:1,onZero:2},h=t.get("offset")||0,f=u==="x"?[c[2]-h,c[3]+h]:[c[0]-h,c[1]+h];if(n){var p=n.toGlobalCoord(n.dataToCoord(0));f[g.onZero]=Math.max(Math.min(p,f[1]),f[0])}o.position=[u==="y"?f[g[l]]:c[0],u==="x"?f[g[l]]:c[3]],o.rotation=Math.PI/2*(u==="x"?0:1);var d={top:-1,bottom:1,left:-1,right:1};o.labelDirection=o.tickDirection=o.nameDirection=d[s],o.labelOffset=n?f[g[s]]-f[g.onZero]:0,t.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),Pe(e.labelInside,t.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var y=t.get(["axisLabel","rotate"]);return o.labelRotate=l==="top"?-y:y,o.z2=1,o}function da(r){return r.get("coordinateSystem")==="cartesian2d"}function ma(r){var t={xAxisModel:null,yAxisModel:null};return k(t,function(e,a){var i=a.replace(/Model$/,""),o=r.getReferringComponents(i,$e).models[0];t[a]=o}),t}var nt=Math.log;function nr(r,t,e){var a=ut.prototype,i=a.getTicks.call(e),o=a.getTicks.call(e,!0),n=i.length-1,s=a.getInterval.call(e),l=Ur(r,t),u=l.extent,v=l.fixMin,c=l.fixMax;if(r.type==="log"){var g=nt(r.base);u=[nt(u[0])/g,nt(u[1])/g]}r.setExtent(u[0],u[1]),r.calcNiceExtent({splitNumber:n,fixMin:v,fixMax:c});var h=a.getExtent.call(r);v&&(u[0]=h[0]),c&&(u[1]=h[1]);var f=a.getInterval.call(r),p=u[0],d=u[1];if(v&&c)f=(d-p)/n;else if(v)for(d=u[0]+f*n;d<u[1]&&isFinite(d)&&isFinite(u[1]);)f=Qe(f),d=u[0]+f*n;else if(c)for(p=u[1]-f*n;p>u[0]&&isFinite(p)&&isFinite(u[0]);)f=Qe(f),p=u[1]-f*n;else{var y=r.getTicks().length-1;y>n&&(f=Qe(f));var m=f*n;d=Math.ceil(u[1]/f)*f,p=oe(d-m),p<0&&u[0]>=0?(p=0,d=oe(m)):d>0&&u[1]<=0&&(d=0,p=-oe(m))}var b=(i[0].value-o[0].value)/s,A=(i[n].value-o[n].value)/s;a.setExtent.call(r,p+f*b,d+f*A),a.setInterval.call(r,f),(b||A)&&a.setNiceExtent.call(r,p+f,d-f)}var _n=function(){function r(t,e,a){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=ft,this._initCartesian(t,e,a),this.model=t}return r.prototype.getRect=function(){return this._rect},r.prototype.update=function(t,e){var a=this._axesMap;this._updateScale(t,this.model);function i(n){var s,l=jr(n),u=l.length;if(u){for(var v=[],c=u-1;c>=0;c--){var g=+l[c],h=n[g],f=h.model,p=h.scale;vt(p)&&f.get("alignTicks")&&f.get("interval")==null?v.push(h):($t(p,f),vt(p)&&(s=h))}v.length&&(s||(s=v.pop(),$t(s.scale,s.model)),k(v,function(d){nr(d.scale,d.model,s.scale)}))}}i(a.x),i(a.y);var o={};k(a.x,function(n){ya(a,"y",n,o)}),k(a.y,function(n){ya(a,"x",n,o)}),this.resize(this.model,e)},r.prototype.resize=function(t,e,a){var i=t.getBoxLayoutParams(),o=!a&&t.get("containLabel"),n=ka(i,{width:e.getWidth(),height:e.getHeight()});this._rect=n;var s=this._axesList;l(),o&&(k(s,function(u){if(!u.model.get(["axisLabel","inside"])){var v=Zr(u);if(v){var c=u.isHorizontal()?"height":"width",g=u.model.get(["axisLabel","margin"]);n[c]-=v[c]+g,u.position==="top"?n.y+=v.height+g:u.position==="left"&&(n.x+=v.width+g)}}}),l()),k(this._coordsList,function(u){u.calcAffineTransform()});function l(){k(s,function(u){var v=u.isHorizontal(),c=v?[0,n.width]:[0,n.height],g=u.inverse?1:0;u.setExtent(c[g],c[1-g]),In(u,v?n.x:n.y)})}},r.prototype.getAxis=function(t,e){var a=this._axesMap[t];if(a!=null)return a[e||0]},r.prototype.getAxes=function(){return this._axesList.slice()},r.prototype.getCartesian=function(t,e){if(t!=null&&e!=null){var a="x"+t+"y"+e;return this._coordsMap[a]}mt(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,o=this._coordsList;i<o.length;i++)if(o[i].getAxis("x").index===t||o[i].getAxis("y").index===e)return o[i]},r.prototype.getCartesians=function(){return this._coordsList.slice()},r.prototype.convertToPixel=function(t,e,a){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.dataToPoint(a):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(a)):null},r.prototype.convertFromPixel=function(t,e,a){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.pointToData(a):i.axis?i.axis.coordToData(i.axis.toLocalCoord(a)):null},r.prototype._findConvertTarget=function(t){var e=t.seriesModel,a=t.xAxisModel||e&&e.getReferringComponents("xAxis",$e).models[0],i=t.yAxisModel||e&&e.getReferringComponents("yAxis",$e).models[0],o=t.gridModel,n=this._coordsList,s,l;if(e)s=e.coordinateSystem,ze(n,s)<0&&(s=null);else if(a&&i)s=this.getCartesian(a.componentIndex,i.componentIndex);else if(a)l=this.getAxis("x",a.componentIndex);else if(i)l=this.getAxis("y",i.componentIndex);else if(o){var u=o.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},r.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},r.prototype._initCartesian=function(t,e,a){var i=this,o=this,n={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(e.eachComponent("xAxis",u("x"),this),e.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,k(s.x,function(v,c){k(s.y,function(g,h){var f="x"+c+"y"+h,p=new Sn(f);p.master=i,p.model=t,i._coordsMap[f]=p,i._coordsList.push(p),p.addAxis(v),p.addAxis(g)})});function u(v){return function(c,g){if(ot(c,t)){var h=c.get("position");v==="x"?h!=="top"&&h!=="bottom"&&(h=n.bottom?"top":"bottom"):h!=="left"&&h!=="right"&&(h=n.left?"right":"left"),n[h]=!0;var f=new wn(v,Xr(c),[0,0],c.get("type"),h),p=f.type==="category";f.onBand=p&&c.get("boundaryGap"),f.inverse=c.get("inverse"),c.axis=f,f.model=c,f.grid=o,f.index=g,o._axesList.push(f),s[v][g]=f,l[v]++}}}},r.prototype._updateScale=function(t,e){k(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var o=i.model.get("categorySortInfo");i.scale.setSortInfo(o)}}),t.eachSeries(function(i){if(da(i)){var o=ma(i),n=o.xAxisModel,s=o.yAxisModel;if(!ot(n,e)||!ot(s,e))return;var l=this.getCartesian(n.componentIndex,s.componentIndex),u=i.getData(),v=l.getAxis("x"),c=l.getAxis("y");a(u,v),a(u,c)}},this);function a(i,o){k(Yr(i,o.dim),function(n){o.scale.unionExtentFromData(i,n)})}},r.prototype.getTooltipAxes=function(t){var e=[],a=[];return k(this.getCartesians(),function(i){var o=t!=null&&t!=="auto"?i.getAxis(t):i.getBaseAxis(),n=i.getOtherAxis(o);ze(e,o)<0&&e.push(o),ze(a,n)<0&&a.push(n)}),{baseAxes:e,otherAxes:a}},r.create=function(t,e){var a=[];return t.eachComponent("grid",function(i,o){var n=new r(i,t,e);n.name="grid_"+o,n.resize(i,e,!0),i.coordinateSystem=n,a.push(n)}),t.eachSeries(function(i){if(da(i)){var o=ma(i),n=o.xAxisModel,s=o.yAxisModel,l=n.getCoordSysModel(),u=l.coordinateSystem;i.coordinateSystem=u.getCartesian(n.componentIndex,s.componentIndex)}}),a},r.dimensions=ft,r}();function ot(r,t){return r.getCoordSysModel()===t}function ya(r,t,e,a){e.getAxesOnZeroOf=function(){return o?[o]:[]};var i=r[t],o,n=e.model,s=n.get(["axisLine","onZero"]),l=n.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)ba(i[l])&&(o=i[l]);else for(var u in i)if(i.hasOwnProperty(u)&&ba(i[u])&&!a[v(i[u])]){o=i[u];break}o&&(a[v(o)]=!0);function v(c){return c.dim+"_"+c.index}}function ba(r){return r&&r.type!=="category"&&r.type!=="time"&&qr(r)}function In(r,t){var e=r.getExtent(),a=e[0]+e[1];r.toGlobalCoord=r.dim==="x"?function(i){return i+t}:function(i){return a-i+t},r.toLocalCoord=r.dim==="x"?function(i){return i-t}:function(i){return a-i+t}}const Tn=_n;var ne=Math.PI,ue=function(){function r(t,e){this.group=new K,this.opt=e,this.axisModel=t,$(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var a=new K({x:e.position[0],y:e.position[1],rotation:e.rotation});a.updateTransform(),this._transformGroup=a}return r.prototype.hasBuilder=function(t){return!!xa[t]},r.prototype.add=function(t){xa[t](this.opt,this.axisModel,this.group,this._transformGroup)},r.prototype.getGroup=function(){return this.group},r.innerTextLayout=function(t,e,a){var i=Ga(e-t),o,n;return Ze(i)?(n=a>0?"top":"bottom",o="center"):Ze(i-ne)?(n=a>0?"bottom":"top",o="center"):(n="middle",i>0&&i<ne?o=a>0?"right":"left":o=a>0?"left":"right"),{rotation:i,textAlign:o,textVerticalAlign:n}},r.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},r.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},r}(),xa={axisLine:function(r,t,e,a){var i=t.get(["axisLine","show"]);if(i==="auto"&&r.handleAutoShown&&(i=r.handleAutoShown("axisLine")),!!i){var o=t.axis.getExtent(),n=a.transform,s=[o[0],0],l=[o[1],0],u=s[0]>l[0];n&&(xe(s,s,n),xe(l,l,n));var v=Z({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),c=new He({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:v,strokeContainThreshold:r.strokeContainThreshold||5,silent:!0,z2:1});Ue(c.shape,c.style.lineWidth),c.anid="line",e.add(c);var g=t.get(["axisLine","symbol"]);if(g!=null){var h=t.get(["axisLine","symbolSize"]);Ce(g)&&(g=[g,g]),(Ce(h)||ve(h))&&(h=[h,h]);var f=Ia(t.get(["axisLine","symbolOffset"])||0,h),p=h[0],d=h[1];k([{rotate:r.rotation+Math.PI/2,offset:f[0],r:0},{rotate:r.rotation-Math.PI/2,offset:f[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(y,m){if(g[m]!=="none"&&g[m]!=null){var b=Ie(g[m],-p/2,-d/2,p,d,v.stroke,!0),A=y.r+y.offset,w=u?l:s;b.attr({rotation:y.rotate,x:w[0]+A*Math.cos(r.rotation),y:w[1]-A*Math.sin(r.rotation),silent:!0,z2:11}),e.add(b)}})}}},axisTickLabel:function(r,t,e,a){var i=Mn(e,a,t,r),o=Nn(e,a,t,r);if(Pn(t,o,i),kn(e,a,t,r.tickDirection),t.get(["axisLabel","hideOverlap"])){var n=Jr(U(o,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}}));Kr(n)}},axisName:function(r,t,e,a){var i=Pe(r.axisName,t.get("name"));if(i){var o=t.get("nameLocation"),n=r.nameDirection,s=t.getModel("nameTextStyle"),l=t.get("nameGap")||0,u=t.axis.getExtent(),v=u[0]>u[1]?-1:1,c=[o==="start"?u[0]-v*l:o==="end"?u[1]+v*l:(u[0]+u[1])/2,Sa(o)?r.labelOffset+n*l:0],g,h=t.get("nameRotate");h!=null&&(h=h*ne/180);var f;Sa(o)?g=ue.innerTextLayout(r.rotation,h!=null?h:r.rotation,n):(g=Cn(r.rotation,o,h||0,u),f=r.axisNameAvailableWidth,f!=null&&(f=Math.abs(f/Math.sin(g.rotation)),!isFinite(f)&&(f=null)));var p=s.getFont(),d=t.get("nameTruncate",!0)||{},y=d.ellipsis,m=Pe(r.nameTruncateMaxWidth,d.maxWidth,f),b=new qe({x:c[0],y:c[1],rotation:g.rotation,silent:ue.isLabelSilent(t),style:Va(s,{text:i,font:p,overflow:"truncate",width:m,ellipsis:y,fill:s.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:s.get("align")||g.textAlign,verticalAlign:s.get("verticalAlign")||g.textVerticalAlign}),z2:1});if(Qr({el:b,componentModel:t,itemName:i}),b.__fullText=i,b.anid="name",t.get("triggerEvent")){var A=ue.makeAxisEventDataBase(t);A.targetType="axisName",A.name=i,te(b).eventData=A}a.add(b),b.updateTransform(),e.add(b),b.decomposeTransform()}}};function Cn(r,t,e,a){var i=Ga(e-r),o,n,s=a[0]>a[1],l=t==="start"&&!s||t!=="start"&&s;return Ze(i-ne/2)?(n=l?"bottom":"top",o="center"):Ze(i-ne*1.5)?(n=l?"top":"bottom",o="center"):(n="middle",i<ne*1.5&&i>ne/2?o=l?"left":"right":o=l?"right":"left"),{rotation:i,textAlign:o,textVerticalAlign:n}}function Pn(r,t,e){if(!ei(r.axis)){var a=r.get(["axisLabel","showMinLabel"]),i=r.get(["axisLabel","showMaxLabel"]);t=t||[],e=e||[];var o=t[0],n=t[1],s=t[t.length-1],l=t[t.length-2],u=e[0],v=e[1],c=e[e.length-1],g=e[e.length-2];a===!1?(J(o),J(u)):Aa(o,n)&&(a?(J(n),J(v)):(J(o),J(u))),i===!1?(J(s),J(c)):Aa(l,s)&&(i?(J(l),J(g)):(J(s),J(c)))}}function J(r){r&&(r.ignore=!0)}function Aa(r,t){var e=r&&r.getBoundingRect().clone(),a=t&&t.getBoundingRect().clone();if(!(!e||!a)){var i=ti([]);return ai(i,i,-r.rotation),e.applyTransform(Ht([],i,r.getLocalTransform())),a.applyTransform(Ht([],i,t.getLocalTransform())),e.intersect(a)}}function Sa(r){return r==="middle"||r==="center"}function or(r,t,e,a,i){for(var o=[],n=[],s=[],l=0;l<r.length;l++){var u=r[l].coord;n[0]=u,n[1]=0,s[0]=u,s[1]=e,t&&(xe(n,n,t),xe(s,s,t));var v=new He({shape:{x1:n[0],y1:n[1],x2:s[0],y2:s[1]},style:a,z2:2,autoBatch:!0,silent:!0});Ue(v.shape,v.style.lineWidth),v.anid=i+"_"+r[l].tickValue,o.push(v)}return o}function Mn(r,t,e,a){var i=e.axis,o=e.getModel("axisTick"),n=o.get("show");if(n==="auto"&&a.handleAutoShown&&(n=a.handleAutoShown("axisTick")),!(!n||i.scale.isBlank())){for(var s=o.getModel("lineStyle"),l=a.tickDirection*o.get("length"),u=i.getTicksCoords(),v=or(u,t.transform,l,$(s.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}),"ticks"),c=0;c<v.length;c++)r.add(v[c]);return v}}function kn(r,t,e,a){var i=e.axis,o=e.getModel("minorTick");if(!(!o.get("show")||i.scale.isBlank())){var n=i.getMinorTicksCoords();if(n.length)for(var s=o.getModel("lineStyle"),l=a*o.get("length"),u=$(s.getLineStyle(),$(e.getModel("axisTick").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})),v=0;v<n.length;v++)for(var c=or(n[v],t.transform,l,u,"minorticks_"+v),g=0;g<c.length;g++)r.add(c[g])}}function Nn(r,t,e,a){var i=e.axis,o=Pe(a.axisLabelShow,e.get(["axisLabel","show"]));if(!(!o||i.scale.isBlank())){var n=e.getModel("axisLabel"),s=n.get("margin"),l=i.getViewLabels(),u=(Pe(a.labelRotate,n.get("rotate"))||0)*ne/180,v=ue.innerTextLayout(a.rotation,u,a.labelDirection),c=e.getCategories&&e.getCategories(!0),g=[],h=ue.isLabelSilent(e),f=e.get("triggerEvent");return k(l,function(p,d){var y=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(p.tickValue):p.tickValue,m=p.formattedLabel,b=p.rawLabel,A=n;if(c&&c[y]){var w=c[y];mt(w)&&w.textStyle&&(A=new xt(w.textStyle,n,e.ecModel))}var x=A.getTextColor()||e.get(["axisLine","lineStyle","color"]),L=i.dataToCoord(y),S=new qe({x:L,y:a.labelOffset+a.labelDirection*s,rotation:v.rotation,silent:h,z2:10+(p.level||0),style:Va(A,{text:m,align:A.getShallow("align",!0)||v.textAlign,verticalAlign:A.getShallow("verticalAlign",!0)||A.getShallow("baseline",!0)||v.textVerticalAlign,fill:se(x)?x(i.type==="category"?b:i.type==="value"?y+"":y,d):x})});if(S.anid="label_"+y,f){var I=ue.makeAxisEventDataBase(e);I.targetType="axisLabel",I.value=b,I.tickIndex=d,i.type==="category"&&(I.dataIndex=y),te(S).eventData=I}t.add(S),S.updateTransform(),g.push(S),r.add(S),S.decomposeTransform()}),g}}const sr=ue;function po(r,t){var e={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return En(e,r,t),e.seriesInvolved&&Rn(e,r),e}function En(r,t,e){var a=t.getComponent("tooltip"),i=t.getComponent("axisPointer"),o=i.get("link",!0)||[],n=[];k(e.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=Xe(s.model),u=r.coordSysAxesInfo[l]={};r.coordSysMap[l]=s;var v=s.model,c=v.getModel("tooltip",a);if(k(s.getAxes(),me(p,!1,null)),s.getTooltipAxes&&a&&c.get("show")){var g=c.get("trigger")==="axis",h=c.get(["axisPointer","type"])==="cross",f=s.getTooltipAxes(c.get(["axisPointer","axis"]));(g||h)&&k(f.baseAxes,me(p,h?"cross":!0,g)),h&&k(f.otherAxes,me(p,"cross",!1))}function p(d,y,m){var b=m.model.getModel("axisPointer",i),A=b.get("show");if(!(!A||A==="auto"&&!d&&!gt(b))){y==null&&(y=b.get("triggerTooltip")),b=d?On(m,c,i,t,d,y):b;var w=b.get("snap"),x=b.get("triggerEmphasis"),L=Xe(m.model),S=y||w||m.type==="category",I=r.axesInfo[L]={key:L,axis:m,coordSys:s,axisPointerModel:b,triggerTooltip:y,triggerEmphasis:x,involveSeries:S,snap:w,useHandle:gt(b),seriesModels:[],linkGroup:null};u[L]=I,r.seriesInvolved=r.seriesInvolved||S;var T=Vn(o,m);if(T!=null){var D=n[T]||(n[T]={axesInfo:{}});D.axesInfo[L]=I,D.mapper=o[T].mapper,I.linkGroup=D}}}})}function On(r,t,e,a,i,o){var n=t.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};k(s,function(g){l[g]=At(n.get(g))}),l.snap=r.type!=="category"&&!!o,n.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),i==="cross"){var v=n.get(["label","show"]);if(u.show=v!=null?v:!0,!o){var c=l.lineStyle=n.get("crossStyle");c&&$(u,c.textStyle)}}return r.model.getModel("axisPointer",new xt(l,e,a))}function Rn(r,t){t.eachSeries(function(e){var a=e.coordinateSystem,i=e.get(["tooltip","trigger"],!0),o=e.get(["tooltip","show"],!0);!a||i==="none"||i===!1||i==="item"||o===!1||e.get(["axisPointer","show"],!0)===!1||k(r.coordSysAxesInfo[Xe(a.model)],function(n){var s=n.axis;a.getAxis(s.dim)===s&&(n.seriesModels.push(e),n.seriesDataCount==null&&(n.seriesDataCount=0),n.seriesDataCount+=e.getData().count())})})}function Vn(r,t){for(var e=t.model,a=t.dim,i=0;i<r.length;i++){var o=r[i]||{};if(st(o[a+"AxisId"],e.id)||st(o[a+"AxisIndex"],e.componentIndex)||st(o[a+"AxisName"],e.name))return i}}function st(r,t){return r==="all"||q(r)&&ze(r,t)>=0||r===t}function Gn(r){var t=lr(r);if(t){var e=t.axisPointerModel,a=t.axis.scale,i=e.option,o=e.get("status"),n=e.get("value");n!=null&&(n=a.parse(n));var s=gt(e);o==null&&(i.status=s?"show":"hide");var l=a.getExtent().slice();l[0]>l[1]&&l.reverse(),(n==null||n>l[1])&&(n=l[1]),n<l[0]&&(n=l[0]),i.value=n,s&&(i.status=t.axis.scale.isBlank()?"hide":"show")}}function lr(r){var t=(r.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[Xe(r)]}function Bn(r){var t=lr(r);return t&&t.axisPointerModel}function gt(r){return!!r.get(["handle","show"])}function Xe(r){return r.type+"||"+r.id}var La={},zn=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,i,o){this.axisPointerClass&&Gn(e),r.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,i,!0)},t.prototype.updateAxisPointer=function(e,a,i,o){this._doUpdateAxisPointerClass(e,i,!1)},t.prototype.remove=function(e,a){var i=this._axisPointer;i&&i.remove(a)},t.prototype.dispose=function(e,a){this._disposeAxisPointer(a),r.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,a,i){var o=t.getAxisPointerClass(this.axisPointerClass);if(o){var n=Bn(e);n?(this._axisPointer||(this._axisPointer=new o)).render(e,n,a,i):this._disposeAxisPointer(a)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,a){La[e]=a},t.getAxisPointerClass=function(e){return e&&La[e]},t.type="axis",t}(St);const Fn=zn;var pt=Na();function Wn(r,t,e,a){var i=e.axis;if(!i.scale.isBlank()){var o=e.getModel("splitArea"),n=o.getModel("areaStyle"),s=n.get("color"),l=a.coordinateSystem.getRect(),u=i.getTicksCoords({tickModel:o,clamp:!0});if(u.length){var v=s.length,c=pt(r).splitAreaColors,g=ri(),h=0;if(c)for(var f=0;f<u.length;f++){var p=c.get(u[f].tickValue);if(p!=null){h=(p+(v-1)*f)%v;break}}var d=i.toGlobalCoord(u[0].coord),y=n.getAreaStyle();s=q(s)?s:[s];for(var f=1;f<u.length;f++){var m=i.toGlobalCoord(u[f].coord),b=void 0,A=void 0,w=void 0,x=void 0;i.isHorizontal()?(b=d,A=l.y,w=m-b,x=l.height,d=b+w):(b=l.x,A=d,w=l.width,x=m-A,d=A+x);var L=u[f-1].tickValue;L!=null&&g.set(L,h),t.add(new Ne({anid:L!=null?"area_"+L:null,shape:{x:b,y:A,width:w,height:x},style:$({fill:s[h]},y),autoBatch:!0,silent:!0})),h=(h+1)%v}pt(r).splitAreaColors=g}}}function $n(r){pt(r).splitAreaColors=null}var Hn=["axisLine","axisTickLabel","axisName"],Un=["splitArea","splitLine","minorSplitLine"],ur=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="CartesianAxisPointer",e}return t.prototype.render=function(e,a,i,o){this.group.removeAll();var n=this._axisGroup;if(this._axisGroup=new K,this.group.add(this._axisGroup),!!e.get("show")){var s=e.getCoordSysModel(),l=Dn(s,e),u=new sr(e,Z({handleAutoShown:function(c){for(var g=s.coordinateSystem.getCartesians(),h=0;h<g.length;h++)if(vt(g[h].getOtherAxis(e.axis).scale))return!0;return!1}},l));k(Hn,u.add,u),this._axisGroup.add(u.getGroup()),k(Un,function(c){e.get([c,"show"])&&Zn[c](this,this._axisGroup,e,s)},this);var v=o&&o.type==="changeAxisOrder"&&o.isInitSort;v||ii(n,this._axisGroup,e),r.prototype.render.call(this,e,a,i,o)}},t.prototype.remove=function(){$n(this)},t.type="cartesianAxis",t}(Fn),Zn={splitLine:function(r,t,e,a){var i=e.axis;if(!i.scale.isBlank()){var o=e.getModel("splitLine"),n=o.getModel("lineStyle"),s=n.get("color");s=q(s)?s:[s];for(var l=a.coordinateSystem.getRect(),u=i.isHorizontal(),v=0,c=i.getTicksCoords({tickModel:o}),g=[],h=[],f=n.getLineStyle(),p=0;p<c.length;p++){var d=i.toGlobalCoord(c[p].coord);u?(g[0]=d,g[1]=l.y,h[0]=d,h[1]=l.y+l.height):(g[0]=l.x,g[1]=d,h[0]=l.x+l.width,h[1]=d);var y=v++%s.length,m=c[p].tickValue,b=new He({anid:m!=null?"line_"+c[p].tickValue:null,autoBatch:!0,shape:{x1:g[0],y1:g[1],x2:h[0],y2:h[1]},style:$({stroke:s[y]},f),silent:!0});Ue(b.shape,f.lineWidth),t.add(b)}}},minorSplitLine:function(r,t,e,a){var i=e.axis,o=e.getModel("minorSplitLine"),n=o.getModel("lineStyle"),s=a.coordinateSystem.getRect(),l=i.isHorizontal(),u=i.getMinorTicksCoords();if(u.length)for(var v=[],c=[],g=n.getLineStyle(),h=0;h<u.length;h++)for(var f=0;f<u[h].length;f++){var p=i.toGlobalCoord(u[h][f].coord);l?(v[0]=p,v[1]=s.y,c[0]=p,c[1]=s.y+s.height):(v[0]=s.x,v[1]=p,c[0]=s.x+s.width,c[1]=p);var d=new He({anid:"minor_line_"+u[h][f].tickValue,autoBatch:!0,shape:{x1:v[0],y1:v[1],x2:c[0],y2:c[1]},style:g,silent:!0});Ue(d.shape,g.lineWidth),t.add(d)}},splitArea:function(r,t,e,a){Wn(r,t,e,a)}},vr=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="xAxis",t}(ur),Xn=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=vr.type,e}return t.type="yAxis",t}(ur),Yn=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="grid",e}return t.prototype.render=function(e,a){this.group.removeAll(),e.get("show")&&this.group.add(new Ne({shape:e.coordinateSystem.getRect(),style:$({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(St),wa={offset:0};function mo(r){r.registerComponentView(Yn),r.registerComponentModel(pn),r.registerCoordinateSystem("cartesian2d",Tn),fa(r,"x",ht,wa),fa(r,"y",ht,wa),r.registerComponentView(vr),r.registerComponentView(Xn),r.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function qn(r){r.eachSeriesByType("radar",function(t){var e=t.getData(),a=[],i=t.coordinateSystem;if(i){var o=i.getIndicatorAxes();k(o,function(n,s){e.each(e.mapDimension(o[s].dim),function(l,u){a[u]=a[u]||[];var v=i.dataToPoint(l,s);a[u][s]=Da(v)?v:_a(i)})}),e.each(function(n){var s=ni(a[n],function(l){return Da(l)})||_a(i);a[n].push(s.slice()),e.setItemLayout(n,a[n])})}})}function Da(r){return!isNaN(r[0])&&!isNaN(r[1])}function _a(r){return[r.cx,r.cy]}function jn(r){var t=r.polar;if(t){q(t)||(t=[t]);var e=[];k(t,function(a,i){a.indicator?(a.type&&!a.shape&&(a.shape=a.type),r.radar=r.radar||[],q(r.radar)||(r.radar=[r.radar]),r.radar.push(a)):e.push(a)}),r.polar=e}k(r.series,function(a){a&&a.type==="radar"&&a.polarIndex&&(a.radarIndex=a.polarIndex)})}var Jn=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,i){var o=e.coordinateSystem,n=this.group,s=e.getData(),l=this._data;function u(g,h){var f=g.getItemVisual(h,"symbol")||"circle";if(f!=="none"){var p=Ca(g.getItemVisual(h,"symbolSize")),d=Ie(f,-1,-1,2,2),y=g.getItemVisual(h,"symbolRotate")||0;return d.attr({style:{strokeNoScale:!0},z2:100,scaleX:p[0]/2,scaleY:p[1]/2,rotation:y*Math.PI/180||0}),d}}function v(g,h,f,p,d,y){f.removeAll();for(var m=0;m<h.length-1;m++){var b=u(p,d);b&&(b.__dimIdx=m,g[m]?(b.setPosition(g[m]),oi[y?"initProps":"updateProps"](b,{x:h[m][0],y:h[m][1]},e,d)):b.setPosition(h[m]),f.add(b))}}function c(g){return U(g,function(h){return[o.cx,o.cy]})}s.diff(l).add(function(g){var h=s.getItemLayout(g);if(h){var f=new Ba,p=new yt,d={shape:{points:h}};f.shape.points=c(h),p.shape.points=c(h),Y(f,d,e,g),Y(p,d,e,g);var y=new K,m=new K;y.add(p),y.add(f),y.add(m),v(p.shape.points,h,m,s,g,!0),s.setItemGraphicEl(g,y)}}).update(function(g,h){var f=l.getItemGraphicEl(h),p=f.childAt(0),d=f.childAt(1),y=f.childAt(2),m={shape:{points:s.getItemLayout(g)}};m.shape.points&&(v(p.shape.points,m.shape.points,y,s,g,!1),Te(d),Te(p),j(p,m,e),j(d,m,e),s.setItemGraphicEl(g,f))}).remove(function(g){n.remove(l.getItemGraphicEl(g))}).execute(),s.eachItemGraphicEl(function(g,h){var f=s.getItemModel(h),p=g.childAt(0),d=g.childAt(1),y=g.childAt(2),m=s.getItemVisual(h,"style"),b=m.fill;n.add(g),p.useStyle($(f.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:b})),be(p,f,"lineStyle"),be(d,f,"areaStyle");var A=f.getModel("areaStyle"),w=A.isEmpty()&&A.parentModel.isEmpty();d.ignore=w,k(["emphasis","select","blur"],function(S){var I=f.getModel([S,"areaStyle"]),T=I.isEmpty()&&I.parentModel.isEmpty();d.ensureState(S).ignore=T&&w}),d.useStyle($(A.getAreaStyle(),{fill:b,opacity:.7,decal:m.decal}));var x=f.getModel("emphasis"),L=x.getModel("itemStyle").getItemStyle();y.eachChild(function(S){if(S instanceof Ta){var I=S.style;S.useStyle(Z({image:I.image,x:I.x,y:I.y,width:I.width,height:I.height},m))}else S.useStyle(m),S.setColor(b),S.style.strokeNoScale=!0;var T=S.ensureState("emphasis");T.style=At(L);var D=s.getStore().get(s.getDimensionIndex(S.__dimIdx),h);(D==null||isNaN(D))&&(D=""),ke(S,Ae(f),{labelFetcher:s.hostModel,labelDataIndex:h,labelDimIndex:S.__dimIdx,defaultText:D,inheritColor:b,defaultOpacity:m.opacity})}),ye(g,x.get("focus"),x.get("blurScope"),x.get("disabled"))}),this._data=s},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(de);const Kn=Jn;var Qn=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new ar(We(this.getData,this),We(this.getRawData,this))},t.prototype.getInitialData=function(e,a){return tr(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,a,i){var o=this.getData(),n=this.coordinateSystem,s=n.getIndicatorAxes(),l=this.getData().getName(e),u=l===""?this.name:l,v=si(this,e);return Ut("section",{header:u,sortBlocks:!0,blocks:U(s,function(c){var g=o.get(o.mapDimension(c.dim),e);return Ut("nameValue",{markerType:"subItem",markerColor:v,name:c.name,value:g,sortParam:g})})})},t.prototype.getTooltipPosition=function(e){if(e!=null){for(var a=this.getData(),i=this.coordinateSystem,o=a.getValues(U(i.dimensions,function(u){return a.mapDimension(u)}),e),n=0,s=o.length;n<s;n++)if(!isNaN(o[n])){var l=i.getIndicatorAxes();return i.coordToPoint(l[n].dataToCoord(o[n]),n)}}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(Me);const eo=Qn;var De=ir.value;function Be(r,t){return $({show:t},r)}var to=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),a=this.get("splitNumber"),i=this.get("scale"),o=this.get("axisLine"),n=this.get("axisTick"),s=this.get("axisLabel"),l=this.get("axisName"),u=this.get(["axisName","show"]),v=this.get(["axisName","formatter"]),c=this.get("axisNameGap"),g=this.get("triggerEvent"),h=U(this.get("indicator")||[],function(f){f.max!=null&&f.max>0&&!f.min?f.min=0:f.min!=null&&f.min<0&&!f.max&&(f.max=0);var p=l;f.color!=null&&(p=$({color:f.color},l));var d=ee(At(f),{boundaryGap:e,splitNumber:a,scale:i,axisLine:o,axisTick:n,axisLabel:s,name:f.text,showName:u,nameLocation:"end",nameGap:c,nameTextStyle:p,triggerEvent:g},!1);if(Ce(v)){var y=d.name;d.name=v.replace("{value}",y!=null?y:"")}else se(v)&&(d.name=v(d.name,d));var m=new xt(d,null,this.ecModel);return Ea(m,Oa.prototype),m.mainType="radar",m.componentIndex=this.componentIndex,m},this);this._indicatorModels=h},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:ee({lineStyle:{color:"#bbb"}},De.axisLine),axisLabel:Be(De.axisLabel,!1),axisTick:Be(De.axisTick,!1),splitLine:Be(De.splitLine,!0),splitArea:Be(De.splitArea,!0),indicator:[]},t}(bt);const ao=to;var ro=["axisLine","axisTickLabel","axisName"],io=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,i){var o=this.group;o.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e){var a=e.coordinateSystem,i=a.getIndicatorAxes(),o=U(i,function(n){var s=n.model.get("showName")?n.name:"",l=new sr(n.model,{axisName:s,position:[a.cx,a.cy],rotation:n.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return l});k(o,function(n){k(ro,n.add,n),this.group.add(n.getGroup())},this)},t.prototype._buildSplitLineAndArea=function(e){var a=e.coordinateSystem,i=a.getIndicatorAxes();if(!i.length)return;var o=e.get("shape"),n=e.getModel("splitLine"),s=e.getModel("splitArea"),l=n.getModel("lineStyle"),u=s.getModel("areaStyle"),v=n.get("show"),c=s.get("show"),g=l.get("color"),h=u.get("color"),f=q(g)?g:[g],p=q(h)?h:[h],d=[],y=[];function m(P,E,V){var M=V%E.length;return P[M]=P[M]||[],M}if(o==="circle")for(var b=i[0].getTicksCoords(),A=a.cx,w=a.cy,x=0;x<b.length;x++){if(v){var L=m(d,f,x);d[L].push(new li({shape:{cx:A,cy:w,r:b[x].coord}}))}if(c&&x<b.length-1){var L=m(y,p,x);y[L].push(new ui({shape:{cx:A,cy:w,r0:b[x].coord,r:b[x+1].coord}}))}}else for(var S,I=U(i,function(P,E){var V=P.getTicksCoords();return S=S==null?V.length-1:Math.min(V.length-1,S),U(V,function(M){return a.coordToPoint(M.coord,E)})}),T=[],x=0;x<=S;x++){for(var D=[],_=0;_<i.length;_++)D.push(I[_][x]);if(D[0]&&D.push(D[0].slice()),v){var L=m(d,f,x);d[L].push(new yt({shape:{points:D}}))}if(c&&T){var L=m(y,p,x-1);y[L].push(new Ba({shape:{points:D.concat(T)}}))}T=D.slice().reverse()}var C=l.getLineStyle(),N=u.getAreaStyle();k(y,function(P,E){this.group.add(Zt(P,{style:$({stroke:"none",fill:p[E%p.length]},N),silent:!0}))},this),k(d,function(P,E){this.group.add(Zt(P,{style:$({fill:"none",stroke:f[E%f.length]},C),silent:!0}))},this)},t.type="radar",t}(St);const no=io;var oo=function(r){O(t,r);function t(e,a,i){var o=r.call(this,e,a,i)||this;return o.type="value",o.angle=0,o.name="",o}return t}(Ra);const so=oo;var lo=function(){function r(t,e,a){this.dimensions=[],this._model=t,this._indicatorAxes=U(t.getIndicatorModels(),function(i,o){var n="indicator_"+o,s=new so(n,new ut);return s.name=i.get("name"),s.model=i,i.axis=s,this.dimensions.push(n),s},this),this.resize(t,a)}return r.prototype.getIndicatorAxes=function(){return this._indicatorAxes},r.prototype.dataToPoint=function(t,e){var a=this._indicatorAxes[e];return this.coordToPoint(a.dataToCoord(t),e)},r.prototype.coordToPoint=function(t,e){var a=this._indicatorAxes[e],i=a.angle,o=this.cx+t*Math.cos(i),n=this.cy-t*Math.sin(i);return[o,n]},r.prototype.pointToData=function(t){var e=t[0]-this.cx,a=t[1]-this.cy,i=Math.sqrt(e*e+a*a);e/=i,a/=i;for(var o=Math.atan2(-a,e),n=1/0,s,l=-1,u=0;u<this._indicatorAxes.length;u++){var v=this._indicatorAxes[u],c=Math.abs(o-v.angle);c<n&&(s=v,l=u,n=c)}return[l,+(s&&s.coordToData(i))]},r.prototype.resize=function(t,e){var a=t.get("center"),i=e.getWidth(),o=e.getHeight(),n=Math.min(i,o)/2;this.cx=X(a[0],i),this.cy=X(a[1],o),this.startAngle=t.get("startAngle")*Math.PI/180;var s=t.get("radius");(Ce(s)||ve(s))&&(s=[0,s]),this.r0=X(s[0],n),this.r=X(s[1],n),k(this._indicatorAxes,function(l,u){l.setExtent(this.r0,this.r);var v=this.startAngle+u*Math.PI*2/this._indicatorAxes.length;v=Math.atan2(Math.sin(v),Math.cos(v)),l.angle=v},this)},r.prototype.update=function(t,e){var a=this._indicatorAxes,i=this._model;k(a,function(s){s.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(s,l){if(!(s.get("coordinateSystem")!=="radar"||t.getComponent("radar",s.get("radarIndex"))!==i)){var u=s.getData();k(a,function(v){v.scale.unionExtentFromData(u,u.mapDimension(v.dim))})}},this);var o=i.get("splitNumber"),n=new ut;n.setExtent(0,o),n.setInterval(1),k(a,function(s,l){nr(s.scale,s.model,n)})},r.prototype.convertToPixel=function(t,e,a){return console.warn("Not implemented."),null},r.prototype.convertFromPixel=function(t,e,a){return console.warn("Not implemented."),null},r.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},r.create=function(t,e){var a=[];return t.eachComponent("radar",function(i){var o=new r(i,t,e);a.push(o),i.coordinateSystem=o}),t.eachSeriesByType("radar",function(i){i.get("coordinateSystem")==="radar"&&(i.coordinateSystem=a[i.get("radarIndex")||0])}),a},r.dimensions=[],r}();const uo=lo;function vo(r){r.registerCoordinateSystem("radar",uo),r.registerComponentModel(ao),r.registerComponentView(no),r.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each(function(a){e.setItemVisual(a,"legendIcon","roundRect")}),e.setVisual("legendIcon","roundRect")}})}function yo(r){vi(vo),r.registerChartView(Kn),r.registerSeriesModel(eo),r.registerLayout(qn),r.registerProcessor(Qa("radar")),r.registerPreprocessor(jn)}export{sr as A,Fn as a,fo as b,po as c,ho as d,go as e,yo as f,lr as g,mo as i,Dn as l,Xe as m};
