System.register(["./charts-legacy-927347c5.js","./core-legacy-fe9e6208.js"],(function(t,e){"use strict";var i,o,n,r,a,s,l,d,u,h,p,c,g,f,y,v,m,x,_,w,b,I,S,C,T,M,D,P,A,O,k,B,z,R,G,L,H,V,E,W,N,Y,X,F,U,K,Z,j,q,Q,J,$,tt,et,it,ot,nt,rt,at,st,lt,dt,ut,ht,pt,ct,gt,ft,yt,vt,mt,xt,_t,wt,bt,It,St,Ct,Tt,Mt,Dt,Pt,At,Ot,kt,Bt,zt,Rt,Gt,Lt,Ht,Vt,Et,Wt,Nt,Yt;return{setters:[t=>{i=t.g,o=t.A,n=t.l,r=t.m,a=t.a,s=t.c,l=t.i},t=>{d=t.ai,u=t.G,h=t.a2,p=t.b5,c=t.K,g=t.bc,f=t.bd,y=t.i,v=t.be,m=t.bf,x=t.u,_=t.o,w=t.N,b=t.a$,I=t.aj,S=t.bg,C=t.V,T=t.C,M=t.aW,D=t.bh,P=t.bi,A=t.bj,O=t.bk,k=t.aS,B=t.bl,z=t._,R=t.ao,G=t.bm,L=t.b0,H=t.H,V=t.p,E=t.d,W=t.bb,N=t.R,Y=t.bn,X=t.bo,F=t.D,U=t.bp,K=t.aH,Z=t.bq,j=t.br,q=t.bs,Q=t.bt,J=t.h,$=t.bu,tt=t.b7,et=t.bv,it=t.bw,ot=t.bx,nt=t.by,rt=t.bz,at=t.a7,st=t.a6,lt=t.aY,dt=t.bA,ut=t.bB,ht=t.bC,pt=t.bD,ct=t.as,gt=t.bE,ft=t.b1,yt=t.ax,vt=t.v,mt=t.E,xt=t.bF,_t=t.bG,wt=t.f,bt=t.bH,It=t.aT,St=t.bI,Ct=t.bJ,Tt=t.a,Mt=t.au,Dt=t.W,Pt=t.av,At=t.bK,Ot=t.aL,kt=t.bL,Bt=t.bM,zt=t.bN,Rt=t.bO,Gt=t.bP,Lt=t.bQ,Ht=t.bR,Vt=t.bS,Et=t.bT,Wt=t.bU,Nt=t.bV,Yt=t.bW}],execute:function(){t({a:function(t){W(l),W(Se)},b:function(t){t.registerComponentModel(Ai),t.registerComponentView(Oi)},c:function(t){t.registerTransform(Di),t.registerTransform(Pi)},d:function(t){W(si),W(yi)},i:function(t){W(Se),t.registerComponentModel(Te),t.registerComponentView(Ke),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},pt),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},pt)}});var e=d(),Xt=b,Ft=I,Ut=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(t,e,i,o){var n=e.get("value"),r=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=i,o||this._lastValue!==n||this._lastStatus!==r){this._lastValue=n,this._lastStatus=r;var a=this._group,s=this._handle;if(!r||"hide"===r)return a&&a.hide(),void(s&&s.hide());a&&a.show(),s&&s.show();var l={};this.makeElOption(l,n,t,e,i);var d=l.graphicKey;d!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=d;var p=this._moveAnimation=this.determineAnimation(t,e);if(a){var c=h(Kt,e,p);this.updatePointerEl(a,l,c),this.updateLabelEl(a,l,c,e)}else a=this._group=new u,this.createPointerEl(a,l,t,e),this.createLabelEl(a,l,t,e),i.getZr().add(a);Qt(a,e,!0),this._renderHandle(n)}},t.prototype.remove=function(t){this.clear(t)},t.prototype.dispose=function(t){this.clear(t)},t.prototype.determineAnimation=function(t,e){var o=e.get("animation"),n=t.axis,r="category"===n.type,a=e.get("snap");if(!a&&!r)return!1;if("auto"===o||null==o){var s=this.animationThreshold;if(r&&n.getBandWidth()>s)return!0;if(a){var l=i(t).seriesDataCount,d=n.getExtent();return Math.abs(d[0]-d[1])/l>s}return!1}return!0===o},t.prototype.makeElOption=function(t,e,i,o,n){},t.prototype.createPointerEl=function(t,i,o,n){var r=i.pointer;if(r){var a=e(t).pointerEl=new p[r.type](Xt(i.pointer));t.add(a)}},t.prototype.createLabelEl=function(t,i,o,n){if(i.label){var r=e(t).labelEl=new c(Xt(i.label));t.add(r),jt(r,n)}},t.prototype.updatePointerEl=function(t,i,o){var n=e(t).pointerEl;n&&i.pointer&&(n.setStyle(i.pointer.style),o(n,{shape:i.pointer.shape}))},t.prototype.updateLabelEl=function(t,i,o,n){var r=e(t).labelEl;r&&(r.setStyle(i.label.style),o(r,{x:i.label.x,y:i.label.y}),jt(r,n))},t.prototype._renderHandle=function(t){if(!this._dragging&&this.updateHandleTransform){var e,i=this._axisPointerModel,o=this._api.getZr(),n=this._handle,r=i.getModel("handle"),a=i.get("status");if(!r.get("show")||!a||"hide"===a)return n&&o.remove(n),void(this._handle=null);this._handle||(e=!0,n=this._handle=g(r.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){f(t.event)},onmousedown:Ft(this._onHandleDragMove,this,0,0),drift:Ft(this._onHandleDragMove,this),ondragend:Ft(this._onHandleDragEnd,this)}),o.add(n)),Qt(n,i,!1),n.setStyle(r.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var s=r.get("size");y(s)||(s=[s,s]),n.scaleX=s[0]/2,n.scaleY=s[1]/2,v(this,"_doDispatchAxisPointer",r.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},t.prototype._moveHandleToValue=function(t,e){Kt(this._axisPointerModel,!e&&this._moveAnimation,this._handle,qt(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(t,i){var o=this._handle;if(o){this._dragging=!0;var n=this.updateHandleTransform(qt(o),[t,i],this._axisModel,this._axisPointerModel);this._payloadInfo=n,o.stopAnimation(),o.attr(qt(n)),e(o).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),i=this._group,o=this._handle;e&&i&&(this._lastGraphicKey=null,i&&e.remove(i),o&&e.remove(o),this._group=null,this._handle=null,this._payloadInfo=null),m(this,"_doDispatchAxisPointer")},t.prototype.doClear=function(){},t.prototype.buildLabel=function(t,e,i){return{x:t[i=i||0],y:t[1-i],width:e[i],height:e[1-i]}},t}();function Kt(t,i,o,n){Zt(e(o).lastProp,n)||(e(o).lastProp=n,i?x(o,n,t):(o.stopAnimation(),o.attr(n)))}function Zt(t,e){if(_(t)&&_(e)){var i=!0;return w(e,(function(e,o){i=i&&Zt(t[o],e)})),!!i}return t===e}function jt(t,e){t[e.get(["label","show"])?"show":"hide"]()}function qt(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function Qt(t,e,i){var o=e.get("z"),n=e.get("zlevel");t&&t.traverse((function(t){"group"!==t.type&&(null!=o&&(t.z=o),null!=n&&(t.zlevel=n),t.silent=i)}))}function Jt(t,e,i,o,n){var r=$t(i.get("value"),e.axis,e.ecModel,i.get("seriesDataIndices"),{precision:i.get(["label","precision"]),formatter:i.get(["label","formatter"])}),a=i.getModel("label"),s=A(a.get("padding")||0),l=a.getFont(),d=O(r,l),u=n.position,h=d.width+s[1]+s[3],p=d.height+s[0]+s[2],c=n.align;"right"===c&&(u[0]-=h),"center"===c&&(u[0]-=h/2);var g=n.verticalAlign;"bottom"===g&&(u[1]-=p),"middle"===g&&(u[1]-=p/2),function(t,e,i,o){var n=o.getWidth(),r=o.getHeight();t[0]=Math.min(t[0]+e,n)-e,t[1]=Math.min(t[1]+i,r)-i,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}(u,h,p,o);var f=a.get("backgroundColor");f&&"auto"!==f||(f=e.get(["axisLine","lineStyle","color"])),t.label={x:u[0],y:u[1],style:k(a,{text:r,font:l,fill:a.getTextColor(),padding:s,backgroundColor:f}),z2:10}}function $t(t,e,i,o,n){t=e.scale.parse(t);var r=e.scale.getLabel({value:t},{precision:n.precision}),a=n.formatter;if(a){var s={value:S(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};w(o,(function(t){var e=i.getSeriesByIndex(t.seriesIndex),o=t.dataIndexInside,n=e&&e.getDataParams(o);n&&s.seriesData.push(n)})),C(a)?r=a.replace("{value}",r):T(a)&&(r=a(s))}return r}function te(t,e,i){var o=B();return M(o,o,i.rotation),D(o,o,i.position),P([t.dataToCoord(e),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],o)}var ee=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return z(e,t),e.prototype.makeElOption=function(t,e,i,r,a){var s=i.axis,l=s.grid,d=r.get("type"),u=ie(l,s).getOtherAxis(s).getGlobalExtent(),h=s.toGlobalCoord(s.dataToCoord(e,!0));if(d&&"none"!==d){var p=function(t){var e,i=t.get("type"),o=t.getModel(i+"Style");return"line"===i?(e=o.getLineStyle()).fill=null:"shadow"===i&&((e=o.getAreaStyle()).stroke=null),e}(r),c=oe[d](s,h,u);c.style=p,t.graphicKey=c.type,t.pointer=c}!function(t,e,i,n,r,a){var s=o.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=r.get(["label","margin"]),Jt(e,n,r,a,{position:te(n.axis,t,i),align:s.textAlign,verticalAlign:s.textVerticalAlign})}(e,t,n(l.model,i),i,r,a)},e.prototype.getHandleTransform=function(t,e,i){var o=n(e.axis.grid.model,e,{labelInside:!1});o.labelMargin=i.get(["handle","margin"]);var r=te(e.axis,t,o);return{x:r[0],y:r[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,e,i,o){var n=i.axis,r=n.grid,a=n.getGlobalExtent(!0),s=ie(r,n).getOtherAxis(n).getGlobalExtent(),l="x"===n.dim?0:1,d=[t.x,t.y];d[l]+=e[l],d[l]=Math.min(a[1],d[l]),d[l]=Math.max(a[0],d[l]);var u=(s[1]+s[0])/2,h=[u,u];return h[l]=d[l],{x:d[0],y:d[1],rotation:t.rotation,cursorPoint:h,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][l]}},e}(Ut);function ie(t,e){var i={};return i[e.dim+"AxisIndex"]=e.index,t.getCartesian(i)}var oe={line:function(t,e,i){var o,n,r;return{type:"Line",subPixelOptimize:!0,shape:(o=[e,i[0]],n=[e,i[1]],r=ne(t),{x1:o[r=r||0],y1:o[1-r],x2:n[r],y2:n[1-r]})}},shadow:function(t,e,i){var o,n,r,a=Math.max(1,t.getBandWidth()),s=i[1]-i[0];return{type:"Rect",shape:(o=[e-a/2,i[0]],n=[a,s],r=ne(t),{x:o[r=r||0],y:o[1-r],width:n[r],height:n[1-r]})}}};function ne(t){return"x"===t.dim?0:1}const re=ee;var ae=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return z(e,t),e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(R);const se=ae;var le=d(),de=w;function ue(t,e,i){if(!G.node){var o=e.getZr();le(o).records||(le(o).records={}),function(t,e){function i(i,o){t.on(i,(function(i){var n=function(t){var e={showTip:[],hideTip:[]},i=function(o){var n=e[o.type];n?n.push(o):(o.dispatchAction=i,t.dispatchAction(o))};return{dispatchAction:i,pendings:e}}(e);de(le(t).records,(function(t){t&&o(t,i,n.dispatchAction)})),function(t,e){var i,o=t.showTip.length,n=t.hideTip.length;o?i=t.showTip[o-1]:n&&(i=t.hideTip[n-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}(n.pendings,e)}))}le(t).initialized||(le(t).initialized=!0,i("click",h(pe,"click")),i("mousemove",h(pe,"mousemove")),i("globalout",he))}(o,e),(le(o).records[t]||(le(o).records[t]={})).handler=i}}function he(t,e,i){t.handler("leave",null,i)}function pe(t,e,i,o){e.handler(t,i,o)}function ce(t,e){if(!G.node){var i=e.getZr();(le(i).records||{})[t]&&(le(i).records[t]=null)}}var ge=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return z(e,t),e.prototype.render=function(t,e,i){var o=e.getComponent("tooltip"),n=t.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";ue("axisPointer",i,(function(t,e,i){"none"!==n&&("leave"===t||n.indexOf(t)>=0)&&i({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})}))},e.prototype.remove=function(t,e){ce("axisPointer",e)},e.prototype.dispose=function(t,e){ce("axisPointer",e)},e.type="axisPointer",e}(L);const fe=ge;function ye(t,e){var i,o=[],n=t.seriesIndex;if(null==n||!(i=e.getSeriesByIndex(n)))return{point:[]};var r=i.getData(),a=H(r,t);if(null==a||a<0||y(a))return{point:[]};var s=r.getItemGraphicEl(a),l=i.coordinateSystem;if(i.getTooltipPosition)o=i.getTooltipPosition(a)||[];else if(l&&l.dataToPoint)if(t.isStacked){var d=l.getBaseAxis(),u=l.getOtherAxis(d).dim,h=d.dim,p="x"===u||"radius"===u?1:0,c=r.mapDimension(h),g=[];g[p]=r.get(c,a),g[1-p]=r.get(r.getCalculationInfo("stackResultDimension"),a),o=l.dataToPoint(g)||[]}else o=l.dataToPoint(r.getValues(V(l.dimensions,(function(t){return r.mapDimension(t)})),a))||[];else if(s){var f=s.getBoundingRect().clone();f.applyTransform(s.transform),o=[f.x+f.width/2,f.y+f.height/2]}return{point:o,el:s}}var ve=d();function me(t,e,i){var o=t.currTrigger,n=[t.x,t.y],r=t,a=t.dispatchAction||I(i.dispatchAction,i),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){Ie(n)&&(n=ye({seriesIndex:r.seriesIndex,dataIndex:r.dataIndex},e).point);var l=Ie(n),d=r.axesInfo,u=s.axesInfo,p="leave"===o||Ie(n),c={},g={},f={list:[],map:{}},y={showPointer:h(_e,g),showTooltip:h(we,f)};w(s.coordSysMap,(function(t,e){var i=l||t.containPoint(n);w(s.coordSysAxesInfo[e],(function(t,e){var o=t.axis,r=function(t,e){for(var i=0;i<(t||[]).length;i++){var o=t[i];if(e.axis.dim===o.axisDim&&e.axis.model.componentIndex===o.axisIndex)return o}}(d,t);if(!p&&i&&(!d||r)){var a=r&&r.value;null!=a||l||(a=o.pointToData(n)),null!=a&&xe(t,a,y,!1,c)}}))}));var v={};return w(u,(function(t,e){var i=t.linkGroup;i&&!g[e]&&w(i.axesInfo,(function(e,o){var n=g[o];if(e!==t&&n){var r=n.value;i.mapper&&(r=t.axis.scale.parse(i.mapper(r,be(e),be(t)))),v[t.key]=r}}))})),w(v,(function(t,e){xe(u[e],t,y,!0,c)})),function(t,e,i){var o=i.axesInfo=[];w(e,(function(e,i){var n=e.axisPointerModel.option,r=t[i];r?(!e.useHandle&&(n.status="show"),n.value=r.value,n.seriesDataIndices=(r.payloadBatch||[]).slice()):!e.useHandle&&(n.status="hide"),"show"===n.status&&o.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:n.value})}))}(g,u,c),function(t,e,i,o){if(!Ie(e)&&t.list.length){var n=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};o({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:n.dataIndexInside,dataIndex:n.dataIndex,seriesIndex:n.seriesIndex,dataByCoordSys:t.list})}else o({type:"hideTip"})}(f,n,t,a),function(t,e,i){var o=i.getZr(),n="axisPointerLastHighlights",r=ve(o)[n]||{},a=ve(o)[n]={};w(t,(function(t,e){var i=t.axisPointerModel.option;"show"===i.status&&t.triggerEmphasis&&w(i.seriesDataIndices,(function(t){var e=t.seriesIndex+" | "+t.dataIndex;a[e]=t}))}));var s=[],l=[];w(r,(function(t,e){!a[e]&&l.push(t)})),w(a,(function(t,e){!r[e]&&s.push(t)})),l.length&&i.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&i.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}(u,0,i),c}}function xe(t,e,i,o,n){var r=t.axis;if(!r.scale.isBlank()&&r.containData(e))if(t.involveSeries){var a=function(t,e){var i=e.axis,o=i.dim,n=t,r=[],a=Number.MAX_VALUE,s=-1;return w(e.seriesModels,(function(e,l){var d,u,h=e.getData().mapDimensionsAll(o);if(e.getAxisTooltipData){var p=e.getAxisTooltipData(h,t,i);u=p.dataIndices,d=p.nestestValue}else{if(!(u=e.getData().indicesOfNearest(h[0],t,"category"===i.type?.5:null)).length)return;d=e.getData().get(h[0],u[0])}if(null!=d&&isFinite(d)){var c=t-d,g=Math.abs(c);g<=a&&((g<a||c>=0&&s<0)&&(a=g,s=c,n=d,r.length=0),w(u,(function(t){r.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})})))}})),{payloadBatch:r,snapToValue:n}}(e,t),s=a.payloadBatch,l=a.snapToValue;s[0]&&null==n.seriesIndex&&E(n,s[0]),!o&&t.snap&&r.containData(l)&&null!=l&&(e=l),i.showPointer(t,e,s),i.showTooltip(t,a,l)}else i.showPointer(t,e)}function _e(t,e,i,o){t[e.key]={value:i,payloadBatch:o}}function we(t,e,i,o){var n=i.payloadBatch,a=e.axis,s=a.model,l=e.axisPointerModel;if(e.triggerTooltip&&n.length){var d=e.coordSys.model,u=r(d),h=t.map[u];h||(h=t.map[u]={coordSysId:d.id,coordSysIndex:d.componentIndex,coordSysType:d.type,coordSysMainType:d.mainType,dataByAxis:[]},t.list.push(h)),h.dataByAxis.push({axisDim:a.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:o,valueLabelOpt:{precision:l.get(["label","precision"]),formatter:l.get(["label","formatter"])},seriesDataIndices:n.slice()})}}function be(t){var e=t.axis.model,i={},o=i.axisDim=t.axis.dim;return i.axisIndex=i[o+"AxisIndex"]=e.componentIndex,i.axisName=i[o+"AxisName"]=e.name,i.axisId=i[o+"AxisId"]=e.id,i}function Ie(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function Se(t){a.registerAxisPointerClass("CartesianAxisPointer",re),t.registerComponentModel(se),t.registerComponentView(fe),t.registerPreprocessor((function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!y(e)&&(t.axisPointer.link=[e])}})),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,(function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=s(t,e)})),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},me)}var Ce=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return z(e,t),e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(R);const Te=Ce;function Me(t){var e=t.get("confine");return null!=e?!!e:"richText"===t.get("renderMode")}function De(t){if(G.domSupported)for(var e=document.documentElement.style,i=0,o=t.length;i<o;i++)if(t[i]in e)return t[i]}var Pe=De(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function Ae(t,e){if(!t)return e;e=Y(e,!0);var i=t.indexOf(e);return(t=-1===i?e:"-"+t.slice(0,i)+"-"+e).toLowerCase()}var Oe=Ae(De(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),ke=Ae(Pe,"transform"),Be="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(G.transform3dSupported?"will-change:transform;":"");function ze(t,e,i){var o=t.toFixed(0)+"px",n=e.toFixed(0)+"px";if(!G.transformSupported)return i?"top:"+n+";left:"+o+";":[["top",n],["left",o]];var r=G.transform3dSupported,a="translate"+(r?"3d":"")+"("+o+","+n+(r?",0":"")+")";return i?"top:0;left:0;"+ke+":"+a+";":[["top",0],["left",0],[Pe,a]]}function Re(t,e,i){var o=[],n=t.get("transitionDuration"),r=t.get("backgroundColor"),a=t.get("shadowBlur"),s=t.get("shadowColor"),l=t.get("shadowOffsetX"),d=t.get("shadowOffsetY"),u=t.getModel("textStyle"),h=Z(t,"html"),p=l+"px "+d+"px "+a+"px "+s;return o.push("box-shadow:"+p),e&&n&&o.push(function(t,e){var i="cubic-bezier(0.23,1,0.32,1)",o=" "+t/2+"s "+i,n="opacity"+o+",visibility"+o;return e||(o=" "+t+"s "+i,n+=G.transformSupported?","+ke+o:",left"+o+",top"+o),Oe+":"+n}(n,i)),r&&o.push("background-color:"+r),w(["width","color","radius"],(function(e){var i="border-"+e,n=Y(i),r=t.get(n);null!=r&&o.push(i+":"+r+("color"===e?"":"px"))})),o.push(function(t){var e=[],i=t.get("fontSize"),o=t.getTextColor();o&&e.push("color:"+o),e.push("font:"+t.getFont()),i&&e.push("line-height:"+Math.round(3*i/2)+"px");var n=t.get("textShadowColor"),r=t.get("textShadowBlur")||0,a=t.get("textShadowOffsetX")||0,s=t.get("textShadowOffsetY")||0;return n&&r&&e.push("text-shadow:"+a+"px "+s+"px "+r+"px "+n),w(["decoration","align"],(function(i){var o=t.get(i);o&&e.push("text-"+i+":"+o)})),e.join(";")}(u)),null!=h&&o.push("padding:"+A(h).join("px ")+"px"),o.join(";")+";"}function Ge(t,e,i,o,n){var r=e&&e.painter;if(i){var a=r&&r.getViewportRoot();a&&j(t,a,document.body,o,n)}else{t[0]=o,t[1]=n;var s=r&&r.getViewportRootOffset();s&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}const Le=function(){function t(t,e,i){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,G.wxa)return null;var o=document.createElement("div");o.domBelongToZr=!0,this.el=o;var n=this._zr=e.getZr(),r=this._appendToBody=i&&i.appendToBody;Ge(this._styleCoord,n,r,e.getWidth()/2,e.getHeight()/2),r?document.body.appendChild(o):t.appendChild(o),this._container=t;var a=this;o.onmouseenter=function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0},o.onmousemove=function(t){if(t=t||window.event,!a._enterable){var e=n.handler,i=n.painter.getViewportRoot();X(i,t,!0),e.dispatch("mousemove",t)}},o.onmouseleave=function(){a._inContent=!1,a._enterable&&a._show&&a.hideLater(a._hideDelay)}}return t.prototype.update=function(t){var e,i,o,n=this._container,r=(i="position",(o=(e=n).currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e))?i?o[i]:o:null),a=n.style;"absolute"!==a.position&&"absolute"!==r&&(a.position="relative");var s=t.get("alwaysShowContent");s&&this._moveIfResized(),this._alwaysShowContent=s,this.el.className=t.get("className")||""},t.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i=this.el,o=i.style,n=this._styleCoord;i.innerHTML?o.cssText=Be+Re(t,!this._firstShow,this._longHide)+ze(n[0],n[1],!0)+"border-color:"+F(e)+";"+(t.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):o.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(t,e,i,o,n){var r=this.el;if(null!=t){var a="";if(C(n)&&"item"===i.get("trigger")&&!Me(i)&&(a=function(t,e,i){if(!C(i)||"inside"===i)return"";var o=t.get("backgroundColor"),n=t.get("borderWidth");e=F(e);var r,a,s="left"===(r=i)?"right":"right"===r?"left":"top"===r?"bottom":"top",l=Math.max(1.5*Math.round(n),6),d="",u=ke+":";K(["left","right"],s)>-1?(d+="top:50%",u+="translateY(-50%) rotate("+(a="left"===s?-225:-45)+"deg)"):(d+="left:50%",u+="translateX(-50%) rotate("+(a="top"===s?225:45)+"deg)");var h=a*Math.PI/180,p=l+n,c=p*Math.abs(Math.cos(h))+p*Math.abs(Math.sin(h)),g=e+" solid "+n+"px;";return'<div style="'+["position:absolute;width:"+l+"px;height:"+l+"px;z-index:-1;",(d+=";"+s+":-"+Math.round(100*((c-Math.SQRT2*n)/2+Math.SQRT2*n-(c-p)/2))/100+"px")+";"+u+";","border-bottom:"+g,"border-right:"+g,"background-color:"+o+";"].join("")+'"></div>'}(i,o,n)),C(t))r.innerHTML=t+a;else if(t){r.innerHTML="",y(t)||(t=[t]);for(var s=0;s<t.length;s++)U(t[s])&&t[s].parentNode!==r&&r.appendChild(t[s]);if(a&&r.childNodes.length){var l=document.createElement("div");l.innerHTML=a,r.appendChild(l)}}}else r.innerHTML=""},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},t.prototype.moveTo=function(t,e){var i=this._styleCoord;if(Ge(i,this._zr,this._appendToBody,t,e),null!=i[0]&&null!=i[1]){var o=this.el.style,n=ze(i[0],i[1]);w(n,(function(t){o[t[0]]=t[1]}))}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",G.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout((function(){return t._longHide=!0}),500)},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(I(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},t}();function He(t){return Math.max(0,t)}function Ve(t){var e=He(t.shadowBlur||0),i=He(t.shadowOffsetX||0),o=He(t.shadowOffsetY||0);return{left:He(e-i),right:He(e+i),top:He(e-o),bottom:He(e+o)}}function Ee(t,e,i,o){t[0]=i,t[1]=o,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}const We=function(){function t(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),Ee(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return t.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized(),this._alwaysShowContent=e},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(t,e,i,o,n){var r=this;_(t)&&q(""),this.el&&this._zr.remove(this.el);var a=i.getModel("textStyle");this.el=new c({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:o,textShadowColor:a.get("textShadowColor"),fill:i.get(["textStyle","color"]),padding:Z(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")}),w(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],(function(t){r.el.style[t]=i.get(t)})),w(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],(function(t){r.el.style[t]=a.get(t)||0})),this._zr.add(this.el);var s=this;this.el.on("mouseover",(function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0})),this.el.on("mouseout",(function(){s._enterable&&s._show&&s.hideLater(s._hideDelay),s._inContent=!1}))},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),i=Ve(t.style);return[e.width+i.left+i.right,e.height+i.top+i.bottom]},t.prototype.moveTo=function(t,e){var i=this.el;if(i){var o=this._styleCoord;Ee(o,this._zr,t,e),t=o[0],e=o[1];var n=i.style,r=He(n.borderWidth||0),a=Ve(n);i.x=t+r+a.left,i.y=e+r+a.top,i.markRedraw()}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(I(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t}();var Ne=new N({shape:{x:-1,y:-1,width:2,height:2}}),Ye=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return z(e,t),e.prototype.init=function(t,e){if(!G.node&&e.getDom()){var i=t.getComponent("tooltip"),o=this._renderMode=Q(i.get("renderMode"));this._tooltipContent="richText"===o?new We(e):new Le(e.getDom(),e,{appendToBody:i.get("appendToBody",!0)})}},e.prototype.render=function(t,e,i){if(!G.node&&i.getDom()){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=i;var o=this._tooltipContent;o.update(t),o.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&t.get("transitionDuration")?v(this,"_updatePosition",50,"fixRate"):m(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel.get("triggerOn");ue("itemTooltip",this._api,I((function(e,i,o){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(i,o):"leave"===e&&this._hide(o))}),this))},e.prototype._keepShow=function(){var t=this._tooltipModel,e=this._ecModel,i=this._api,o=t.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==o&&"click"!==o){var n=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!i.isDisposed()&&n.manuallyShowTip(t,e,i,{x:n._lastX,y:n._lastY,dataByCoordSys:n._lastDataByCoordSys})}))}},e.prototype.manuallyShowTip=function(t,e,i,o){if(o.from!==this.uid&&!G.node&&i.getDom()){var n=Fe(o,i);this._ticket="";var r=o.dataByCoordSys,a=function(t,e,i){var o=dt(t).queryOptionMap,n=o.keys()[0];if(n&&"series"!==n){var r=ut(e,n,o.get(n),{useDefault:!1,enableAll:!1,enableNone:!1}),a=r.models[0];if(a){var s,l=i.getViewOfComponentModel(a);return l.group.traverse((function(e){var i=J(e).tooltipConfig;if(i&&i.name===t.name)return s=e,!0})),s?{componentMainType:n,componentIndex:a.componentIndex,el:s}:void 0}}}(o,e,i);if(a){var s=a.el.getBoundingRect().clone();s.applyTransform(a.el.transform),this._tryShow({offsetX:s.x+s.width/2,offsetY:s.y+s.height/2,target:a.el,position:o.position,positionDefault:"bottom"},n)}else if(o.tooltip&&null!=o.x&&null!=o.y){var l=Ne;l.x=o.x,l.y=o.y,l.update(),J(l).tooltipConfig={name:null,option:o.tooltip},this._tryShow({offsetX:o.x,offsetY:o.y,target:l},n)}else if(r)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,dataByCoordSys:r,tooltipOption:o.tooltipOption},n);else if(null!=o.seriesIndex){if(this._manuallyAxisShowTip(t,e,i,o))return;var d=ye(o,e),u=d.point[0],h=d.point[1];null!=u&&null!=h&&this._tryShow({offsetX:u,offsetY:h,target:d.el,position:o.position,positionDefault:"bottom"},n)}else null!=o.x&&null!=o.y&&(i.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:i.getZr().findHover(o.x,o.y).target},n))}},e.prototype.manuallyHideTip=function(t,e,i,o){var n=this._tooltipContent;this._tooltipModel&&n.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,o.from!==this.uid&&this._hide(Fe(o,i))},e.prototype._manuallyAxisShowTip=function(t,e,i,o){var n=o.seriesIndex,r=o.dataIndex,a=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=n&&null!=r&&null!=a){var s=e.getSeriesByIndex(n);if(s&&"axis"===Xe([s.getData().getItemModel(r),s,(s.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return i.dispatchAction({type:"updateAxisPointer",seriesIndex:n,dataIndex:r,position:o.position}),!0}},e.prototype._tryShow=function(t,e){var i=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var o=t.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,t);else if(i){var n,r;this._lastDataByCoordSys=null,$(i,(function(t){return null!=J(t).dataIndex?(n=t,!0):null!=J(t).tooltipConfig?(r=t,!0):void 0}),!0),n?this._showSeriesItemTooltip(t,n,e):r?this._showComponentItemTooltip(t,r,e):this._hide(e)}else this._lastDataByCoordSys=null,this._hide(e)}},e.prototype._showOrMove=function(t,e){var i=t.get("showDelay");e=I(e,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(e,i):e()},e.prototype._showAxisTooltip=function(t,e){var i=this._ecModel,o=this._tooltipModel,n=[e.offsetX,e.offsetY],r=Xe([e.tooltipOption],o),a=this._renderMode,s=[],l=tt("section",{blocks:[],noHeader:!0}),d=[],u=new ht;w(t,(function(t){w(t.dataByAxis,(function(t){var e=i.getComponent(t.axisDim+"Axis",t.axisIndex),n=t.value;if(e&&null!=n){var r=$t(n,e.axis,i,t.seriesDataIndices,t.valueLabelOpt),h=tt("section",{header:r,noHeader:!et(r),sortBlocks:!0,blocks:[]});l.blocks.push(h),w(t.seriesDataIndices,(function(l){var p=i.getSeriesByIndex(l.seriesIndex),c=l.dataIndexInside,g=p.getDataParams(c);if(!(g.dataIndex<0)){g.axisDim=t.axisDim,g.axisIndex=t.axisIndex,g.axisType=t.axisType,g.axisId=t.axisId,g.axisValue=S(e.axis,{value:n}),g.axisValueLabel=r,g.marker=u.makeTooltipMarker("item",F(g.color),a);var f=it(p.formatTooltip(c,!0,null)),y=f.frag;if(y){var v=Xe([p],o).get("valueFormatter");h.blocks.push(v?E({valueFormatter:v},y):y)}f.text&&d.push(f.text),s.push(g)}}))}}))})),l.blocks.reverse(),d.reverse();var h=e.position,p=r.get("order"),c=ot(l,u,a,p,i.get("useUTC"),r.get("textStyle"));c&&d.unshift(c);var g="richText"===a?"\n\n":"<br/>",f=d.join(g);this._showOrMove(r,(function(){this._updateContentNotChangedOnAxis(t,s)?this._updatePosition(r,h,n[0],n[1],this._tooltipContent,s):this._showTooltipContent(r,f,s,Math.random()+"",n[0],n[1],h,null,u)}))},e.prototype._showSeriesItemTooltip=function(t,e,i){var o=this._ecModel,n=J(e),r=n.seriesIndex,a=o.getSeriesByIndex(r),s=n.dataModel||a,l=n.dataIndex,d=n.dataType,u=s.getData(d),h=this._renderMode,p=t.positionDefault,c=Xe([u.getItemModel(l),s,a&&(a.coordinateSystem||{}).model],this._tooltipModel,p?{position:p}:null),g=c.get("trigger");if(null==g||"item"===g){var f=s.getDataParams(l,d),y=new ht;f.marker=y.makeTooltipMarker("item",F(f.color),h);var v=it(s.formatTooltip(l,!1,d)),m=c.get("order"),x=c.get("valueFormatter"),_=v.frag,w=_?ot(x?E({valueFormatter:x},_):_,y,h,m,o.get("useUTC"),c.get("textStyle")):v.text,b="item_"+s.name+"_"+l;this._showOrMove(c,(function(){this._showTooltipContent(c,w,f,b,t.offsetX,t.offsetY,t.position,t.target,y)})),i({type:"showTip",dataIndexInside:l,dataIndex:u.getRawIndex(l),seriesIndex:r,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,e,i){var o=J(e),n=o.tooltipConfig.option||{};C(n)&&(n={content:n,formatter:n});var r=[n],a=this._ecModel.getComponent(o.componentMainType,o.componentIndex);a&&r.push(a),r.push({formatter:n.content});var s=t.positionDefault,l=Xe(r,this._tooltipModel,s?{position:s}:null),d=l.get("content"),u=Math.random()+"",h=new ht;this._showOrMove(l,(function(){var i=b(l.get("formatterParams")||{});this._showTooltipContent(l,d,i,u,t.offsetX,t.offsetY,t.position,e,h)})),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,e,i,o,n,r,a,s,l){if(this._ticket="",t.get("showContent")&&t.get("show")){var d=this._tooltipContent;d.setEnterable(t.get("enterable"));var u=t.get("formatter");a=a||t.get("position");var h=e,p=this._getNearestPoint([n,r],i,t.get("trigger"),t.get("borderColor")).color;if(u)if(C(u)){var c=t.ecModel.get("useUTC"),g=y(i)?i[0]:i;h=u,g&&g.axisType&&g.axisType.indexOf("time")>=0&&(h=nt(g.axisValue,h,c)),h=rt(h,i,!0)}else if(T(u)){var f=I((function(e,o){e===this._ticket&&(d.setContent(o,l,t,p,a),this._updatePosition(t,a,n,r,d,i,s))}),this);this._ticket=o,h=u(i,o,f)}else h=u;d.setContent(h,l,t,p,a),d.show(t,p),this._updatePosition(t,a,n,r,d,i,s)}},e.prototype._getNearestPoint=function(t,e,i,o){return"axis"===i||y(e)?{color:o||("html"===this._renderMode?"#fff":"none")}:y(e)?void 0:{color:o||e.color||e.borderColor}},e.prototype._updatePosition=function(t,e,i,o,n,r,a){var s=this._api.getWidth(),l=this._api.getHeight();e=e||t.get("position");var d=n.getSize(),u=t.get("align"),h=t.get("verticalAlign"),p=a&&a.getBoundingRect().clone();if(a&&p.applyTransform(a.transform),T(e)&&(e=e([i,o],r,n.el,p,{viewSize:[s,l],contentSize:d.slice()})),y(e))i=at(e[0],s),o=at(e[1],l);else if(_(e)){var c=e;c.width=d[0],c.height=d[1];var g=st(c,{width:s,height:l});i=g.x,o=g.y,u=null,h=null}else if(C(e)&&a){var f=function(t,e,i,o){var n=i[0],r=i[1],a=Math.ceil(Math.SQRT2*o)+8,s=0,l=0,d=e.width,u=e.height;switch(t){case"inside":s=e.x+d/2-n/2,l=e.y+u/2-r/2;break;case"top":s=e.x+d/2-n/2,l=e.y-r-a;break;case"bottom":s=e.x+d/2-n/2,l=e.y+u+a;break;case"left":s=e.x-n-a,l=e.y+u/2-r/2;break;case"right":s=e.x+d+a,l=e.y+u/2-r/2}return[s,l]}(e,p,d,t.get("borderWidth"));i=f[0],o=f[1]}else f=function(t,e,i,o,n,r,a){var s=i.getSize(),l=s[0],d=s[1];return null!=r&&(t+l+r+2>o?t-=l+r:t+=r),null!=a&&(e+d+a>n?e-=d+a:e+=a),[t,e]}(i,o,n,s,l,u?null:20,h?null:20),i=f[0],o=f[1];u&&(i-=Ue(u)?d[0]/2:"right"===u?d[0]:0),h&&(o-=Ue(h)?d[1]/2:"bottom"===h?d[1]:0),Me(t)&&(f=function(t,e,i,o,n){var r=i.getSize(),a=r[0],s=r[1];return t=Math.min(t+a,o)-a,e=Math.min(e+s,n)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}(i,o,n,s,l),i=f[0],o=f[1]),n.moveTo(i,o)},e.prototype._updateContentNotChangedOnAxis=function(t,e){var i=this._lastDataByCoordSys,o=this._cbParamsList,n=!!i&&i.length===t.length;return n&&w(i,(function(i,r){var a=i.dataByAxis||[],s=(t[r]||{}).dataByAxis||[];(n=n&&a.length===s.length)&&w(a,(function(t,i){var r=s[i]||{},a=t.seriesDataIndices||[],l=r.seriesDataIndices||[];(n=n&&t.value===r.value&&t.axisType===r.axisType&&t.axisId===r.axisId&&a.length===l.length)&&w(a,(function(t,e){var i=l[e];n=n&&t.seriesIndex===i.seriesIndex&&t.dataIndex===i.dataIndex})),o&&w(t.seriesDataIndices,(function(t){var i=t.seriesIndex,r=e[i],a=o[i];r&&a&&a.data!==r.data&&(n=!1)}))}))})),this._lastDataByCoordSys=t,this._cbParamsList=e,!!n},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,e){!G.node&&e.getDom()&&(m(this,"_updatePosition"),this._tooltipContent.dispose(),ce("itemTooltip",e))},e.type="tooltip",e}(L);function Xe(t,e,i){var o,n=e.ecModel;i?(o=new lt(i,n,n),o=new lt(e.option,o,n)):o=e;for(var r=t.length-1;r>=0;r--){var a=t[r];a&&(a instanceof lt&&(a=a.get("tooltip",!0)),C(a)&&(a={formatter:a}),a&&(o=new lt(a,o,n)))}return o}function Fe(t,e){return t.dispatchAction||I(e.dispatchAction,e)}function Ue(t){return"center"===t||"middle"===t}const Ke=Ye;var Ze=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.layoutMode={type:"box",ignoreSize:!0},i}return z(e,t),e.prototype.init=function(t,e,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(e,i){t.prototype.mergeOption.call(this,e,i),this._updateSelector(e)},e.prototype._updateSelector=function(t){var e=t.selector,i=this.ecModel;!0===e&&(e=t.selector=["all","inverse"]),y(e)&&w(e,(function(t,o){C(t)&&(t={type:t}),e[o]=ct(t,function(t,e){return"all"===e?{type:"all",title:t.getLocaleModel().get(["legend","selector","all"])}:"inverse"===e?{type:"inverse",title:t.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(i,t.type))}))},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,i=0;i<t.length;i++){var o=t[i].get("name");if(this.isSelected(o)){this.select(o),e=!0;break}}!e&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var e=[],i=[];t.eachRawSeries((function(o){var n,r=o.name;if(i.push(r),o.legendVisualProvider){var a=o.legendVisualProvider.getAllNames();t.isSeriesFiltered(o)||(i=i.concat(a)),a.length?e=e.concat(a):n=!0}else n=!0;n&&gt(o)&&e.push(o.name)})),this._availableNames=i;var o=this.get("data")||e,n=ft(),r=V(o,(function(t){return(C(t)||vt(t))&&(t={name:t}),n.get(t.name)?null:(n.set(t.name,!0),new lt(t,this,this.ecModel))}),this);this._data=yt(r,(function(t){return!!t}))},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var e=this.option.selected;if("single"===this.get("selectedMode")){var i=this._data;w(i,(function(t){e[t.get("name")]=!1}))}e[t]=!0},e.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,e=this.option.selected;w(t,(function(t){e[t.get("name",!0)]=!0}))},e.prototype.inverseSelect=function(){var t=this._data,e=this.option.selected;w(t,(function(t){var i=t.get("name",!0);e.hasOwnProperty(i)||(e[i]=!0),e[i]=!e[i]}))},e.prototype.isSelected=function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&K(this._availableNames,t)>=0},e.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(R);const je=Ze;var qe=h,Qe=w,Je=u,$e=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.newlineDisabled=!1,i}return z(e,t),e.prototype.init=function(){this.group.add(this._contentGroup=new Je),this.group.add(this._selectorGroup=new Je),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,e,i){var o=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var n=t.get("align"),r=t.get("orient");n&&"auto"!==n||(n="right"===t.get("left")&&"vertical"===r?"right":"left");var a=t.get("selector",!0),s=t.get("selectorPosition",!0);!a||s&&"auto"!==s||(s="horizontal"===r?"end":"start"),this.renderInner(n,t,e,i,a,r,s);var l=t.getBoxLayoutParams(),d={width:i.getWidth(),height:i.getHeight()},u=t.get("padding"),h=st(l,d,u),p=this.layoutInner(t,n,h,o,a,s),c=st(mt({width:p.width,height:p.height},l),d,u);this.group.x=c.x-p.x,this.group.y=c.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=function(t,e){var i=A(e.get("padding")),o=e.getItemStyle(["color","opacity"]);return o.fill=e.get("backgroundColor"),new N({shape:{x:t.x-i[3],y:t.y-i[0],width:t.width+i[1]+i[3],height:t.height+i[0]+i[2],r:e.get("borderRadius")},style:o,silent:!0,z2:-1})}(p,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,e,i,o,n,r,a){var s=this.getContentGroup(),l=ft(),d=e.get("selectedMode"),u=[];i.eachRawSeries((function(t){!t.get("legendHoverLink")&&u.push(t.id)})),Qe(e.getData(),(function(n,r){var a=n.get("name");if(!this.newlineDisabled&&(""===a||"\n"===a)){var h=new Je;return h.newline=!0,void s.add(h)}var p=i.getSeriesByName(a)[0];if(!l.get(a))if(p){var c=p.getData(),g=c.getVisual("legendLineStyle")||{},f=c.getVisual("legendIcon"),y=c.getVisual("style");this._createItem(p,a,r,n,e,t,g,y,f,d,o).on("click",qe(ti,a,null,o,u)).on("mouseover",qe(ii,p.name,null,o,u)).on("mouseout",qe(oi,p.name,null,o,u)),l.set(a,!0)}else i.eachRawSeries((function(i){if(!l.get(a)&&i.legendVisualProvider){var s=i.legendVisualProvider;if(!s.containName(a))return;var h=s.indexOfName(a),p=s.getItemVisual(h,"style"),c=s.getItemVisual(h,"legendIcon"),g=xt(p.fill);g&&0===g[3]&&(g[3]=.2,p=E(E({},p),{fill:_t(g,"rgba")})),this._createItem(i,a,r,n,e,t,{},p,c,d,o).on("click",qe(ti,null,a,o,u)).on("mouseover",qe(ii,null,a,o,u)).on("mouseout",qe(oi,null,a,o,u)),l.set(a,!0)}}),this)}),this),n&&this._createSelector(n,e,o,r,a)},e.prototype._createSelector=function(t,e,i,o,n){var r=this.getSelectorGroup();Qe(t,(function(t){var o=t.type,n=new c({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:"all"===o?"legendAllSelect":"legendInverseSelect"})}});r.add(n);var a=e.getModel("selectorLabel"),s=e.getModel(["emphasis","selectorLabel"]);wt(n,{normal:a,emphasis:s},{defaultText:t.title}),bt(n)}))},e.prototype._createItem=function(t,e,i,o,n,r,a,s,l,d,u){var h,p,g,f=t.visualDrawType,y=n.get("itemWidth"),v=n.get("itemHeight"),m=n.isSelected(e),x=o.get("symbolRotate"),_=o.get("symbolKeepAspect"),w=o.get("icon"),b=function(t,e,i,o,n,r,a){function s(t,e){"auto"===t.lineWidth&&(t.lineWidth=e.lineWidth>0?2:0),Qe(t,(function(i,o){"inherit"===t[o]&&(t[o]=e[o])}))}var l=e.getModel("itemStyle"),d=l.getItemStyle(),u=0===t.lastIndexOf("empty",0)?"fill":"stroke",h=l.getShallow("decal");d.decal=h&&"inherit"!==h?Ct(h,a):o.decal,"inherit"===d.fill&&(d.fill=o[n]),"inherit"===d.stroke&&(d.stroke=o[u]),"inherit"===d.opacity&&(d.opacity=("fill"===n?o:i).opacity),s(d,o);var p=e.getModel("lineStyle"),c=p.getLineStyle();if(s(c,i),"auto"===d.fill&&(d.fill=o.fill),"auto"===d.stroke&&(d.stroke=o.fill),"auto"===c.stroke&&(c.stroke=o.fill),!r){var g=e.get("inactiveBorderWidth"),f=d[u];d.lineWidth="auto"===g?o.lineWidth>0&&f?2:0:d.lineWidth,d.fill=e.get("inactiveColor"),d.stroke=e.get("inactiveBorderColor"),c.stroke=p.get("inactiveColor"),c.lineWidth=p.get("inactiveWidth")}return{itemStyle:d,lineStyle:c}}(l=w||l||"roundRect",o,a,s,f,m,u),I=new Je,S=o.getModel("textStyle");if(!T(t.getLegendIcon)||w&&"inherit"!==w){var M="inherit"===w&&t.getData().getVisual("symbol")?"inherit"===x?t.getData().getVisual("symbolRotate"):x:0;I.add((h={itemWidth:y,itemHeight:v,icon:l,iconRotate:M,itemStyle:b.itemStyle,lineStyle:b.lineStyle,symbolKeepAspect:_},p=h.icon||"roundRect",(g=Tt(p,0,0,h.itemWidth,h.itemHeight,h.itemStyle.fill,h.symbolKeepAspect)).setStyle(h.itemStyle),g.rotation=(h.iconRotate||0)*Math.PI/180,g.setOrigin([h.itemWidth/2,h.itemHeight/2]),p.indexOf("empty")>-1&&(g.style.stroke=g.style.fill,g.style.fill="#fff",g.style.lineWidth=2),g))}else I.add(t.getLegendIcon({itemWidth:y,itemHeight:v,icon:l,iconRotate:x,itemStyle:b.itemStyle,lineStyle:b.lineStyle,symbolKeepAspect:_}));var D="left"===r?y+5:-5,P=r,A=n.get("formatter"),O=e;C(A)&&A?O=A.replace("{name}",null!=e?e:""):T(A)&&(O=A(e));var B=m?S.getTextColor():o.get("inactiveColor");I.add(new c({style:k(S,{text:O,x:D,y:v/2,fill:B,align:P,verticalAlign:"middle"},{inheritColor:B})}));var z=new N({shape:I.getBoundingRect(),invisible:!0}),R=o.getModel("tooltip");return R.get("show")&&It({el:z,componentModel:n,itemName:e,itemTooltipOption:R.option}),I.add(z),I.eachChild((function(t){t.silent=!0})),z.silent=!d,this.getContentGroup().add(I),bt(I),I.__legendDataIndex=i,I},e.prototype.layoutInner=function(t,e,i,o,n,r){var a=this.getContentGroup(),s=this.getSelectorGroup();St(t.get("orient"),a,t.get("itemGap"),i.width,i.height);var l=a.getBoundingRect(),d=[-l.x,-l.y];if(s.markRedraw(),a.markRedraw(),n){St("horizontal",s,t.get("selectorItemGap",!0));var u=s.getBoundingRect(),h=[-u.x,-u.y],p=t.get("selectorButtonGap",!0),c=t.getOrient().index,g=0===c?"width":"height",f=0===c?"height":"width",y=0===c?"y":"x";"end"===r?h[c]+=l[g]+p:d[c]+=u[g]+p,h[1-c]+=l[f]/2-u[f]/2,s.x=h[0],s.y=h[1],a.x=d[0],a.y=d[1];var v={x:0,y:0};return v[g]=l[g]+p+u[g],v[f]=Math.max(l[f],u[f]),v[y]=Math.min(0,u[y]+h[1-c]),v}return a.x=d[0],a.y=d[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(L);function ti(t,e,i,o){oi(t,e,i,o),i.dispatchAction({type:"legendToggleSelect",name:null!=t?t:e}),ii(t,e,i,o)}function ei(t){for(var e,i=t.getZr().storage.getDisplayList(),o=0,n=i.length;o<n&&!(e=i[o].states.emphasis);)o++;return e&&e.hoverLayer}function ii(t,e,i,o){ei(i)||i.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:o})}function oi(t,e,i,o){ei(i)||i.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:o})}const ni=$e;function ri(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries((function(t){for(var i=0;i<e.length;i++)if(!e[i].isSelected(t.name))return!1;return!0}))}function ai(t,e,i){var o,n={},r="toggleSelected"===t;return i.eachComponent("legend",(function(i){r&&null!=o?i[o?"select":"unSelect"](e.name):"allSelect"===t||"inverseSelect"===t?i[t]():(i[t](e.name),o=i.isSelected(e.name));var a=i.getData();w(a,(function(t){var e=t.get("name");if("\n"!==e&&""!==e){var o=i.isSelected(e);n.hasOwnProperty(e)?n[e]=n[e]&&o:n[e]=o}}))})),"allSelect"===t||"inverseSelect"===t?{selected:n}:{name:e.name,selected:n}}function si(t){t.registerComponentModel(je),t.registerComponentView(ni),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,ri),t.registerSubTypeDefaulter("legend",(function(){return"plain"})),function(t){t.registerAction("legendToggleSelect","legendselectchanged",h(ai,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",h(ai,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",h(ai,"inverseSelect")),t.registerAction("legendSelect","legendselected",h(ai,"select")),t.registerAction("legendUnSelect","legendunselected",h(ai,"unSelect"))}(t)}var li=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return z(e,t),e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(e,i,o){var n=Mt(e);t.prototype.init.call(this,e,i,o),di(this,e,n)},e.prototype.mergeOption=function(e,i){t.prototype.mergeOption.call(this,e,i),di(this,this.option,e)},e.type="legend.scroll",e.defaultOption=Dt(je.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(je);function di(t,e,i){var o=[1,1];o[t.getOrient().index]=0,Pt(e,i,{type:"box",ignoreSize:!!o})}const ui=li;var hi=u,pi=["width","height"],ci=["x","y"],gi=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.newlineDisabled=!0,i._currentIndex=0,i}return z(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new hi),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new hi)},e.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(e,i,o,n,r,a,s){var l=this;t.prototype.renderInner.call(this,e,i,o,n,r,a,s);var d=this._controllerGroup,u=i.get("pageIconSize",!0),h=y(u)?u:[u,u];f("pagePrev",0);var p=i.getModel("pageTextStyle");function f(t,e){var o=t+"DataIndex",r=g(i.get("pageIcons",!0)[i.getOrient().name][e],{onclick:I(l._pageGo,l,o,i,n)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});r.name=t,d.add(r)}d.add(new c({name:"pageText",style:{text:"xx/xx",fill:p.getTextColor(),font:p.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),f("pageNext",1)},e.prototype.layoutInner=function(t,e,i,o,n,r){var a=this.getSelectorGroup(),s=t.getOrient().index,l=pi[s],d=ci[s],u=pi[1-s],h=ci[1-s];n&&St("horizontal",a,t.get("selectorItemGap",!0));var p=t.get("selectorButtonGap",!0),c=a.getBoundingRect(),g=[-c.x,-c.y],f=b(i);n&&(f[l]=i[l]-c[l]-p);var y=this._layoutContentAndController(t,o,f,s,l,u,h,d);if(n){if("end"===r)g[s]+=y[l]+p;else{var v=c[l]+p;g[s]-=v,y[d]-=v}y[l]+=c[l]+p,g[1-s]+=y[h]+y[u]/2-c[u]/2,y[u]=Math.max(y[u],c[u]),y[h]=Math.min(y[h],c[h]+g[1-s]),a.x=g[0],a.y=g[1],a.markRedraw()}return y},e.prototype._layoutContentAndController=function(t,e,i,o,n,r,a,s){var l=this.getContentGroup(),d=this._containerGroup,u=this._controllerGroup;St(t.get("orient"),l,t.get("itemGap"),o?i.width:null,o?null:i.height),St("horizontal",u,t.get("pageButtonItemGap",!0));var h=l.getBoundingRect(),p=u.getBoundingRect(),c=this._showController=h[n]>i[n],g=[-h.x,-h.y];e||(g[o]=l[s]);var f=[0,0],y=[-p.x,-p.y],v=At(t.get("pageButtonGap",!0),t.get("itemGap",!0));c&&("end"===t.get("pageButtonPosition",!0)?y[o]+=i[n]-p[n]:f[o]+=p[n]+v),y[1-o]+=h[r]/2-p[r]/2,l.setPosition(g),d.setPosition(f),u.setPosition(y);var m={x:0,y:0};if(m[n]=c?i[n]:h[n],m[r]=Math.max(h[r],p[r]),m[a]=Math.min(0,p[a]+y[1-o]),d.__rectSize=i[n],c){var _={x:0,y:0};_[n]=Math.max(i[n]-p[n]-v,0),_[r]=m[r],d.setClipPath(new N({shape:_})),d.__rectSize=_[n]}else u.eachChild((function(t){t.attr({invisible:!0,silent:!0})}));var w=this._getPageInfo(t);return null!=w.pageIndex&&x(l,{x:w.contentPosition[0],y:w.contentPosition[1]},c?t:null),this._updatePageInfoView(t,w),m},e.prototype._pageGo=function(t,e,i){var o=this._getPageInfo(e)[t];null!=o&&i.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:e.id})},e.prototype._updatePageInfoView=function(t,e){var i=this._controllerGroup;w(["pagePrev","pageNext"],(function(o){var n=null!=e[o+"DataIndex"],r=i.childOfName(o);r&&(r.setStyle("fill",n?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),r.cursor=n?"pointer":"default")}));var o=i.childOfName("pageText"),n=t.get("pageFormatter"),r=e.pageIndex,a=null!=r?r+1:0,s=e.pageCount;o&&n&&o.setStyle("text",C(n)?n.replace("{current}",null==a?"":a+"").replace("{total}",null==s?"":s+""):n({current:a,total:s}))},e.prototype._getPageInfo=function(t){var e=t.get("scrollDataIndex",!0),i=this.getContentGroup(),o=this._containerGroup.__rectSize,n=t.getOrient().index,r=pi[n],a=ci[n],s=this._findTargetItemIndex(e),l=i.children(),d=l[s],u=l.length,h=u?1:0,p={contentPosition:[i.x,i.y],pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!d)return p;var c=m(d);p.contentPosition[n]=-c.s;for(var g=s+1,f=c,y=c,v=null;g<=u;++g)(!(v=m(l[g]))&&y.e>f.s+o||v&&!x(v,f.s))&&(f=y.i>f.i?y:v)&&(null==p.pageNextDataIndex&&(p.pageNextDataIndex=f.i),++p.pageCount),y=v;for(g=s-1,f=c,y=c,v=null;g>=-1;--g)(v=m(l[g]))&&x(y,v.s)||!(f.i<y.i)||(y=f,null==p.pagePrevDataIndex&&(p.pagePrevDataIndex=f.i),++p.pageCount,++p.pageIndex),f=v;return p;function m(t){if(t){var e=t.getBoundingRect(),i=e[a]+t[a];return{s:i,e:i+e[r],i:t.__legendDataIndex}}}function x(t,e){return t.e>=e&&t.s<=e+o}},e.prototype._findTargetItemIndex=function(t){return this._showController?(this.getContentGroup().eachChild((function(o,n){var r=o.__legendDataIndex;null==i&&null!=r&&(i=n),r===t&&(e=n)})),null!=e?e:i):0;var e,i},e.type="legend.scroll",e}(ni);const fi=gi;function yi(t){W(si),t.registerComponentModel(ui),t.registerComponentView(fi),function(t){t.registerAction("legendScroll","legendscroll",(function(t,e){var i=t.scrollDataIndex;null!=i&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},(function(t){t.setScrollDataIndex(i)}))}))}(t)}var vi={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},mi=function(){function t(t){null==(this._condVal=C(t)?new RegExp(t):Gt(t)?t:null)&&q("")}return t.prototype.evaluate=function(t){var e=typeof t;return C(e)?this._condVal.test(t):!!vt(e)&&this._condVal.test(t+"")},t}(),xi=function(){function t(){}return t.prototype.evaluate=function(){return this.value},t}(),_i=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},t}(),wi=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},t}(),bi=function(){function t(){}return t.prototype.evaluate=function(){return!this.child.evaluate()},t}(),Ii=function(){function t(){}return t.prototype.evaluate=function(){for(var t=!!this.valueParser,e=(0,this.getValue)(this.valueGetterParam),i=t?this.valueParser(e):null,o=0;o<this.subCondList.length;o++)if(!this.subCondList[o].evaluate(t?i:e))return!1;return!0},t}();function Si(t,e){if(!0===t||!1===t){var i=new xi;return i.value=t,i}return Ti(t)||q(""),t.and?Ci("and",t,e):t.or?Ci("or",t,e):t.not?function(t,e){var i=t.not,o="";Ti(i)||q(o);var n=new bi;return n.child=Si(i,e),n.child||q(o),n}(t,e):function(t,e){for(var i="",o=e.prepareGetValue(t),n=[],r=Ot(t),a=t.parser,s=a?kt(a):null,l=0;l<r.length;l++){var d=r[l];if("parser"!==d&&!e.valueGetterAttrMap.get(d)){var u=Bt(vi,d)?vi[d]:d,h=t[d],p=s?s(h):h,c=zt(u,p)||"reg"===u&&new mi(p);c||q(i),n.push(c)}}n.length||q(i);var g=new Ii;return g.valueGetterParam=o,g.valueParser=s,g.getValue=e.getValue,g.subCondList=n,g}(t,e)}function Ci(t,e,i){var o=e[t];y(o)||q(""),o.length||q("");var n="and"===t?new _i:new wi;return n.children=V(o,(function(t){return Si(t,i)})),n.children.length||q(""),n}function Ti(t){return _(t)&&!Rt(t)}var Mi=function(){function t(t,e){this._cond=Si(t,e)}return t.prototype.evaluate=function(){return this._cond.evaluate()},t}(),Di={type:"echarts:filter",transform:function(t){for(var e,i,o,n=t.upstream,r=(i=t.config,o={valueGetterAttrMap:ft({dimension:!0}),prepareGetValue:function(t){var e=t.dimension;Bt(t,"dimension")||q("");var i=n.getDimensionInfo(e);return i||q(""),{dimIdx:i.index}},getValue:function(t){return n.retrieveValueFromItem(e,t.dimIdx)}},new Mi(i,o)),a=[],s=0,l=n.count();s<l;s++)e=n.getRawDataItem(s),r.evaluate()&&a.push(e);return{data:a}}},Pi={type:"echarts:sort",transform:function(t){var e=t.upstream,i=t.config,o="",n=Et(i);n.length||q(o);var r=[];w(n,(function(t){var i=t.dimension,n=t.order,a=t.parser,s=t.incomparable;null==i&&q(o),"asc"!==n&&"desc"!==n&&q(o),s&&"min"!==s&&"max"!==s&&q(""),"asc"!==n&&"desc"!==n&&q("");var l=e.getDimensionInfo(i);l||q(o);var d=a?kt(a):null;a&&!d&&q(o),r.push({dimIdx:l.index,parser:d,comparator:new Lt(n,s)})}));var a=e.sourceFormat;a!==Ht&&a!==Vt&&q(o);for(var s=[],l=0,d=e.count();l<d;l++)s.push(e.getRawDataItem(l));return s.sort((function(t,i){for(var o=0;o<r.length;o++){var n=r[o],a=e.retrieveValueFromItem(t,n.dimIdx),s=e.retrieveValueFromItem(i,n.dimIdx);n.parser&&(a=n.parser(a),s=n.parser(s));var l=n.comparator.evaluate(a,s);if(0!==l)return l}return 0})),{data:s}}},Ai=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataset",e}return z(e,t),e.prototype.init=function(e,i,o){t.prototype.init.call(this,e,i,o),this._sourceManager=new Wt(this),Nt(this)},e.prototype.mergeOption=function(e,i){t.prototype.mergeOption.call(this,e,i),Nt(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:Yt},e}(R),Oi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataset",e}return z(e,t),e.type="dataset",e}(L)}}}));
